/*! For license information please see main.f24ef399.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var D,M=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case _:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ee=null;function _e(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Te(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Ie(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function je(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Se||null!==Ee)&&(Ne(),Ie())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(le){Oe=!1}function Pe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var De=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){De=!0,Me=e}};function ze(e,t,n,r,i,a,o,s,u){De=!1,Me=null,Pe.apply(Ve,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,Et,_t,Tt=!1,It=[],Ct=null,Nt=null,At=null,jt=new Map,Rt=new Map,Ot=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Dt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void _t(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Tt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),jt.forEach(Ut),Rt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function qt(e){function t(t){return zt(t,e)}if(0<It.length){zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),jt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Mt(n),null===n.blockedOn&&Ot.shift()}var Bt=b.ReactCurrentBatchConfig,Ht=!0;function Kt(e,t,n,r){var i=kt,a=Bt.transition;Bt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,Bt.transition=a}}function Wt(e,t,n,r){var i=kt,a=Bt.transition;Bt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,Bt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=Xt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Dt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Dt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Dt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return jt.set(a,Dt(jt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Dt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Xt(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Xt(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),gn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(yn),bn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function _n(){return En}var Tn=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Tn),Cn=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),An=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(jn),On=[9,13,27,32],Ln=l&&"CompositionEvent"in window,Pn=null;l&&"documentMode"in document&&(Pn=document.documentMode);var Dn=l&&"TextEvent"in window&&!Pn,Mn=l&&(!Ln||Pn&&8<Pn&&11>=Pn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Kn(e,t,n,r){Te(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Qn(e){Fr(e,0)}function Xn(e){if(G(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];Kn(t,Gn,e,we(e)),je(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function ar(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Er={};function _r(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Tr=_r("animationend"),Ir=_r("animationiteration"),Cr=_r("animationstart"),Nr=_r("transitionend"),Ar=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),u(t,[e])}for(var Or=0;Or<jr.length;Or++){var Lr=jr[Or];Rr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Rr(Tr,"onAnimationEnd"),Rr(Ir,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(ze.apply(this,arguments),De){if(!De)throw Error(a(198));var l=Me;De=!1,Me=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function Br(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}je((function(){var r=a,i=we(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Tr:case Ir:case Cr:u=gn;break;case Nr:u=An;break;case"scroll":u=hn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,yi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Hn(s))if(Yn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?bi(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==k?"onCompositionEnd"===k&&qn&&(y=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,qn=!0)),0<(g=Wr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=zn(n))&&(k.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Ln&&Vn(e,t)?(e=en(),Zt=Jt=Yt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Re(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Re(n,a))&&o.unshift(Kr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Kr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Si=-1;function Ei(e){return{current:e}}function _i(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function Ti(e,t){Si++,xi[Si]=e.current,e.current=t}var Ii={},Ci=Ei(Ii),Ni=Ei(!1),Ai=Ii;function ji(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){_i(Ni),_i(Ci)}function Li(e,t,n){if(Ci.current!==Ii)throw Error(a(168));Ti(Ci,t),Ti(Ni,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,B(e)||"Unknown",i));return M({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ai=Ci.current,Ti(Ci,e),Ti(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,_i(Ni),_i(Ci),Ti(Ci,e)):_i(Ni),Ti(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,qi),i}finally{kt=t,Vi=!1}}return null}var Bi=[],Hi=0,Ki=null,Wi=0,Gi=[],Qi=0,Xi=null,$i=1,Yi="";function Ji(e,t){Bi[Hi++]=Wi,Bi[Hi++]=Ki,Ki=e,Wi=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Yi,Gi[Qi++]=Xi,Xi=e;var r=$i;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else $i=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=Bi[--Hi],Bi[Hi]=null,Wi=Bi[--Hi],Bi[Hi]=null;for(;e===Xi;)Xi=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Ei(null),ya=null,ka=null,ba=null;function wa(){ba=ka=ya=null}function xa(e){var t=ga.current;_i(ga),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ya=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function _a(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ya)throw Error(a(308));ka=e,ya.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ta=null;function Ia(e){null===Ta?Ta=[e]:Ta.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function ja(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function La(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function Pa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Da(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Aa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=La(e,a,i))&&(rc(t,e,i,r),Pa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=La(e,a,i))&&(rc(t,e,i,r),Pa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=La(e,i,r))&&(rc(t,e,r,n),Pa(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Ba(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=_a(a):(i=Ri(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?ji(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,ja(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=_a(a):(a=Ri(t)?Ai:Ci.current,i.context=ji(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Dc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,s,u,c){var l=P(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=d(i,v,y.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?l=k:f.sibling=k,f=k,v=g}if(y.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return ia&&Ji(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===S){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===S?((a=Dc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Pc(o.type,o.key,o.props,null,r.mode,u)).ref=Wa(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(P(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Xa(!0),Ya=Xa(!1),Ja={},Za=Ei(Ja),eo=Ei(Ja),to=Ei(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Za),Ti(Za,t)}function io(){_i(Za),_i(eo),_i(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ti(eo,e),Ti(Za,n))}function oo(e){eo.current===e&&(_i(Za),_i(eo))}var so=Ei(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function _o(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function Io(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Mu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function jo(){}function Ro(e,t){var n=vo,r=Io(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Ho(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Uo(9,Lo.bind(null,n,r,i,t),void 0,null),null===Au)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Lo(e,t,n,r){t.value=n,t.getSnapshot=r,Do(t)&&Mo(e)}function Po(e,t,n){return n((function(){Do(t)&&Mo(e)}))}function Do(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Mo(e){var t=Na(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Io().memoizedState}function zo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function Bo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return qo(2048,8,e,t)}function Ko(e,t){return qo(4,2,e,t)}function Wo(e,t){return qo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Go.bind(null,t,e),n)}function Xo(){}function $o(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return Io().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ia(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:_a,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:_a,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:_a,useEffect:Bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Fo,useDebugValue:Xo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Au)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Bo(Po.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Lo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Au.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:_a,useCallback:$o,useContext:_a,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Wo,useMemo:Yo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Xo,useDeferredValue:function(e){return Jo(Io(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],Io().memoizedState]},useMutableSource:jo,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},cs={readContext:_a,useCallback:$o,useContext:_a,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Wo,useMemo:Yo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Xo,useDeferredValue:function(e){var t=Io();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],Io().memoizedState]},useMutableSource:jo,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,Wu=r),hs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,La(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Ya(t,null,n,r):$a(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=_o(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Es(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=Lc(a,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Is(e,t,n,r,i)}function _s(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Lu,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Lu,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Lu,Ou),Ou|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Lu,Ou),Ou|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Ri(n)?Ai:Ci.current;return a=ji(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=_o(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Cs(e,t,n,r,i){if(Ri(n)){var a=!0;Di(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Hs(e,t),Ba(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=_a(c):c=ji(t,c=Ri(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ha(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ni.current||Aa?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Aa||qa(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=_a(u):u=ji(t,u=Ri(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Ha(t,o,r,u),Aa=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Aa||qa(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Ks(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),ro(e,t.containerInfo)}function js(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Rs,Os,Ls,Ps,Ds={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Dc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ds,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Dc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ds,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Au)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rc(r,e,i,-1))}return mc(),Vs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Yi,Gi[Qi++]=Xi,$i=e.id,Yi=e.overflow,Xi=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Lc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Lc(r,s):(s=Dc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i}return e=(s=e.child).sibling,i=Lc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function qs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qs(t,!0,n,null,a);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Gs(t),null;case 3:return r=t.stateNode,io(),_i(Ni),_i(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Os(e,t),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ls(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Ur(Pr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Ur(Pr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=X(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ps(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(_i(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Pu&&(Pu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),Os(e,t),null===e&&qr(t.stateNode.containerInfo),Gs(t),null;case 10:return xa(t.type._context),Gs(t),null;case 19:if(_i(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Bu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Ye()-o.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=so.current,Ti(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Xs(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),_i(Ni),_i(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(_i(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ls=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=X(e,i),r=X(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ps=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Ys=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){_c(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),qt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Ys&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){_c(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,du(e,t,n),Ys=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){_c(e,e.return,m)}try{ru(5,e,e.return)}catch(m){_c(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){_c(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){_c(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){_c(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){_c(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(qu=Ye())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(l=Ys)||f,mu(t,e),Ys=l):mu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){_c(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){xu(h);continue}}null!==p?(p.return=d,Zs=p):xu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){_c(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){_c(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){_c(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ku(e,t,n){Zs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=$s;var c=Ys;if($s=o,(Ys=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?Su(i):null!==u?(u.return=o,Zs=u):Su(i);for(;null!==a;)Zs=a,bu(a,t,n),a=a.sibling;Zs=i,$s=s,Ys=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):wu(e)}}function wu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&au(t)}catch(d){_c(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Su(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){_c(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){_c(t,i,u)}}var a=t.return;try{au(t)}catch(u){_c(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){_c(t,o,u)}}}catch(u){_c(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Eu,_u=Math.ceil,Tu=b.ReactCurrentDispatcher,Iu=b.ReactCurrentOwner,Cu=b.ReactCurrentBatchConfig,Nu=0,Au=null,ju=null,Ru=0,Ou=0,Lu=Ei(0),Pu=0,Du=null,Mu=0,Fu=0,Uu=0,Vu=null,zu=null,qu=0,Bu=1/0,Hu=null,Ku=!1,Wu=null,Gu=null,Qu=!1,Xu=null,$u=0,Yu=0,Ju=null,Zu=-1,ec=0;function tc(){return 0!==(6&Nu)?Ye():-1!==Zu?Zu:Zu=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nu)&&0!==Ru?Ru&-Ru:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Yu)throw Yu=0,Ju=null,Error(a(185));gt(e,n,r),0!==(2&Nu)&&e===Au||(e===Au&&(0===(2&Nu)&&(Fu|=n),4===Pu&&uc(e,Ru)),ic(e,r),1===n&&0===Nu&&0===(1&t.mode)&&(Bu=Ye()+500,Ui&&qi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Au?Ru:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Nu)&&qi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zu=-1,ec=0,0!==(6&Nu))throw Error(a(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Au?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Nu;Nu|=2;var o=vc();for(Au===e&&Ru===t||(Hu=null,Bu=Ye()+500,dc(e,t));;)try{kc();break}catch(u){pc(e,u)}wa(),Tu.current=o,Nu=i,null!==ju?t=0:(Au=null,Ru=0,t=Pu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Du,dc(e,0),uc(e,r),ic(e,Ye()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Du,dc(e,0),uc(e,r),ic(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,zu,Hu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=qu+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zu,Hu),t);break}xc(e,zu,Hu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_u(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zu,Hu),r);break}xc(e,zu,Hu);break;default:throw Error(a(329))}}}return ic(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zu,zu=n,null!==t&&sc(t)),e}function sc(e){null===zu?zu=e:zu.push.apply(zu,e)}function uc(e,t){for(t&=~Uu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nu))throw Error(a(327));Sc();var t=ht(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Du,dc(e,0),uc(e,t),ic(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zu,Hu),ic(e,Ye()),null}function lc(e,t){var n=Nu;Nu|=1;try{return e(t)}finally{0===(Nu=n)&&(Bu=Ye()+500,Ui&&qi())}}function fc(e){null!==Xu&&0===Xu.tag&&0===(6&Nu)&&Sc();var t=Nu;Nu|=1;var n=Cu.transition,r=kt;try{if(Cu.transition=null,kt=1,e)return e()}finally{kt=r,Cu.transition=n,0===(6&(Nu=t))&&qi()}}function hc(){Ou=Lu.current,_i(Lu)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==ju)for(n=ju.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),_i(Ni),_i(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:_i(so);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Au=e,ju=e=Lc(e.current,null),Ru=Ou=t,Pu=0,Du=null,Uu=Fu=Mu=0,zu=Vu=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function pc(e,t){for(;;){var n=ju;try{if(wa(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,ko=!1,bo=0,Iu.current=null,null===n||null===n.return){Pu=1,Du=t,ju=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ru,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Pu&&(Pu=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Da(o,ps(0,c,t));break e;case 1:u=c;var y=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gu||!Gu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Da(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,ju===n&&null!==n&&(ju=n=n.return);continue}break}}function vc(){var e=Tu.current;return Tu.current=os,null===e?os:e}function mc(){0!==Pu&&3!==Pu&&2!==Pu||(Pu=4),null===Au||0===(268435455&Mu)&&0===(268435455&Fu)||uc(Au,Ru)}function gc(e,t){var n=Nu;Nu|=2;var r=vc();for(Au===e&&Ru===t||(Hu=null,dc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(wa(),Nu=n,Tu.current=r,null!==ju)throw Error(a(261));return Au=null,Ru=0,Pu}function yc(){for(;null!==ju;)bc(ju)}function kc(){for(;null!==ju&&!Xe();)bc(ju)}function bc(e){var t=Eu(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?wc(e):ju=t,Iu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Ou)))return void(ju=n)}else{if(null!==(n=Xs(n,t)))return n.flags&=32767,void(ju=n);if(null===e)return Pu=6,void(ju=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ju=t);ju=t=e}while(null!==t);0===Pu&&(Pu=5)}function xc(e,t,n){var r=kt,i=Cu.transition;try{Cu.transition=null,kt=1,function(e,t,n,r){do{Sc()}while(null!==Xu);if(0!==(6&Nu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Au&&(ju=Au=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Ac(tt,(function(){return Sc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=kt;kt=1;var u=Nu;Nu|=4,Iu.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,k=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,ku(n,e,i),$e(),Nu=u,kt=s,Cu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Xu=e,$u=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,e=Wu,Wu=null,e;0!==(1&$u)&&0!==e.tag&&Sc(),o=e.pendingLanes,0!==(1&o)?e===Ju?Yu++:(Yu=0,Ju=e):Yu=0,qi()}(e,t,n,r)}finally{Cu.transition=i,kt=r}return null}function Sc(){if(null!==Xu){var e=bt($u),t=Cu.transition,n=kt;try{if(Cu.transition=null,kt=16>e?16:e,null===Xu)var r=!1;else{if(e=Xu,Xu=null,$u=0,0!==(6&Nu))throw Error(a(331));var i=Nu;for(Nu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(ou(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Zs=y;break e}Zs=o.return}}var k=e.current;for(Zs=k;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=k;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){_c(u,u.return,x)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Nu=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Cu.transition=t}}return!1}function Ec(e,t,n){e=La(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function _c(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=La(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Au===e&&(Ru&n)===n&&(4===Pu||3===Pu&&(130023424&Ru)===Ru&&500>Ye()-qu?dc(e,0):Uu|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Na(e,t))&&(gt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Ac(e,t){return Ge(e,t)}function jc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new jc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Oc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Dc(n.children,i,o,t);case E:s=8,i|=8;break;case _:return(e=Rc(12,n,t,2|i)).elementType=_,e.lanes=o,e;case N:return(e=Rc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Rc(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case I:s=9;break e;case C:s=11;break e;case j:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Dc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,s,u){return e=new Vc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ja(a),e}function qc(e){if(!e)return Ii;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Pi(e,n,t)}return t}function Bc(e,t,n,r,i,a,o,s,u){return(e=zc(n,r,!0,e,0,a,0,s,u)).context=qc(null),n=e.current,(a=Oa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,La(n,a,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=La(i,t,o))&&(rc(e,i,o,a),Pa(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:As(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Di(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ti(so,1&so.current),null!==(e=Ks(e,t,n))?e.sibling:null);Ti(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,_s(e,t,n)}return Ks(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=ji(t,Ci.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=_o();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ja(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===j)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(As(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Ma(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=js(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=js(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ks(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Ks(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Sa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Sa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=_a(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Ss(e,t,r,i=ma(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Hs(e,t),t.tag=1,Ri(r)?(e=!0,Di(t)):e=!1,Ea(t,n),Ba(t,r,i),Ka(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return _s(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Kc(o);s.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=Bc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Kc(u);s.call(e)}}var u=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,qr(8===e.nodeType?e.parentNode:e),fc((function(){Hc(t,u,n,r)})),u}(n,t,e,i,r);return Kc(o)}$c.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},$c.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Hc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Ye()),0===(6&Nu)&&(Bu=Ye()+500,qi()))}break;case 13:fc((function(){var t=Na(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=Na(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},Et=function(){return kt},_t=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ne=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Te,Ie,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=k.prototype=new y;b.constructor=k,v(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=N(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},L={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&L(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(T),T=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&L(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,_=null,T=-1,I=5,C=-1;function N(){return!(t.unstable_now()-C<I)}function A(){if(null!==_){var e=t.unstable_now();C=e;var n=!0;try{n=_(!0,e)}finally{n?S():(E=!1,_=null)}}else E=!1}if("function"===typeof k)S=function(){k(A)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,R=j.port2;j.port1.onmessage=A,S=function(){R.postMessage(null)}}else S=function(){g(A,0)};function O(e){_=e,E||(E=!0,S())}function L(e,n){T=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(T),T=-1):m=!0,L(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),function(){var e=n(791),t=n(250);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(A){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),s=new I(r||[]);return a(o,"_invoke",{value:S(e,n,s)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=f;var d={};function p(){}function v(){}function m(){}var g={};l(g,s,(function(){return this}));var y=Object.getPrototypeOf,k=y&&y(y(C([])));k&&k!==t&&n.call(k,s)&&(g=k);var b=m.prototype=p.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(a,o,s,u){var c=h(e[a],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function C(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return v.prototype=m,a(b,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,u,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(f(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),l(b,c,"Generator"),l(b,s,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function a(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,u,"next",e)}function u(e){a(o,r,i,s,u,"throw",e)}s(void 0)}))}}function s(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}function u(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},v=e.createContext&&e.createContext(p),m=function(){return m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},m.apply(this,arguments)},g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function y(t){return t&&t.map((function(t,n){return e.createElement(t.tag,m({key:n},t.attr),y(t.child))}))}function k(t){return function(n){return e.createElement(b,m({attr:m({},t.attr)},n),y(t.child))}}function b(t){var n=function(n){var r,i=t.attr,a=t.size,o=t.title,s=g(t,["attr","size","title"]),u=a||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",m({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:m(m({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&e.createElement("title",null,o),t.children)};return void 0!==v?e.createElement(v.Consumer,null,(function(e){return n(e)})):n(p)}function w(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"}},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"}}]})(e)}function x(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"}}]})(e)}function S(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"}}]})(e)}function E(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(e)}function _(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"}}]})(e)}function T(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"}}]})(e)}function I(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"}}]})(e)}function C(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(e)}function N(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}}]})(e)}function A(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function j(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}var R=n(184);function O(e){var t=e.menuSelected,n=e.menuItems,r=e.handleMenu,i=e.setMenuSelected;return(0,R.jsxs)("div",{className:"p-2 w-[50%] min-w-[100px] max-w-[150px] bg-zinc-200 absolute left-0 top-0 flex flex-col rounded-ee-2xl",children:[(0,R.jsx)("div",{className:"flex justify-end",children:(0,R.jsx)("div",{onClick:function(e){return r(e)},className:"cursor-pointer flex justify-around items-center",children:(0,R.jsx)(j,{})})}),(0,R.jsx)("div",{className:"w-full mt-3 flex flex-col gap-2",children:n.map((function(e,n){return(0,R.jsx)("button",{id:e,disabled:e===t,onClick:function(t){i(e),r(t)},className:"px-1\n            ".concat(e===t?"opacity-50 cursor-not-allowed hover:text-zinc-200":"hover:bg-violet-400","\n            text-zinc-200 hover:text-zinc-800 font-semibold\n            rounded-lg\n            bg-zinc-600"),children:e},e)}))})]})}function L(e){var t=e.handleMenu;return(0,R.jsx)("div",{className:"ml-1 absolute flex flex-col justify-center",children:(0,R.jsxs)("button",{onClick:function(e){return t(e)},className:"cursor-pointer flex justify-center items-center gap-2",children:[(0,R.jsx)("div",{className:"w-0 text-zinc-300 sm:w-full sm:text-zinc-800 font-semibold",children:"MENU"}),(0,R.jsx)(_,{className:"text-zinc-800 w-[25px] sm:w-0 sm:text-zinc-300 lg:w-[25px] lg:text-zinc-800 h-[25px]"})]})})}function P(e){var t=e.hamMenuIsOpen,n=e.menuItems,r=e.menuSelected,i=e.handleMenu,a=e.setMenuSelected;return(0,R.jsx)("div",{children:t?(0,R.jsx)(O,{menuSelected:r,menuItems:n,handleMenu:i,setMenuSelected:a}):(0,R.jsx)(L,{handleMenu:i})})}function D(e){var t=e.user,n=e.menuSelected,r=e.setMenuSelected;return(0,R.jsx)("div",{children:t.uid?(0,R.jsx)("button",{onClick:function(e){return r("Logout")},children:"SAIR"}):"Login"===n?(0,R.jsx)("button",{onClick:function(e){return r("Signup")},children:"REGISTRAR"}):"Signup"===n?(0,R.jsx)("button",{onClick:function(e){return r("Login")},children:"ENTRAR"}):(0,R.jsxs)("div",{className:"flex gap-3",children:[(0,R.jsx)("button",{onClick:function(e){return r("Login")},children:"ENTRAR"}),(0,R.jsx)("button",{onClick:function(e){return r("Signup")},children:"REGISTRAR"})]})})}function M(e){var t=e.menuMode,n=e.menuSelected,r=e.menuItems,i=e.handleMenu,a=(e.handleSection,e.user),o=e.setMenuSelected;return(0,R.jsxs)("div",{className:"bg-zinc-300 w-full h-[33px] p-1 z-40 fixed flex justify-between",children:[(0,R.jsx)(P,{hamMenuIsOpen:t,menuItems:r,menuSelected:n,handleMenu:i,setMenuSelected:o}),(0,R.jsx)(D,{user:a,menuSelected:n,setMenuSelected:o})]})}function F(e){return void 0!==e&&/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)}function U(t){var n=t.user,r=t.setUser,i=t.prevPage,a=t.setMenuSelected,o=t.remember,s=t.setRemember,u=t.handleEmail,c=t.handlePassword,f=t.handleLogin;return(0,e.useEffect)((function(){var e=localStorage.getItem("email"),t=localStorage.getItem("password");e&&t&&(r(l(l({},n),{},{email:e,password:t})),s(!0))}),[]),(0,R.jsxs)("div",{className:"modal z-0",children:[(0,R.jsx)("h2",{className:"pt-2 pb-1 text-center font-extrabold text-2xl",children:"FAZER LOGIN"}),(0,R.jsx)("input",{type:"email",value:n.email,placeholder:"E-mail",onChange:function(e){return u(e)},className:"inputs w-[90%]"}),(0,R.jsx)("input",{type:"password",value:n.password,placeholder:"Senha",onChange:function(e){return c(e)},className:"inputs w-[90%]"}),(0,R.jsxs)("div",{className:"flex",children:[(0,R.jsx)("div",{children:"Lembrar e-mail e senha"}),(0,R.jsx)("input",{type:"checkbox",checked:o,onChange:function(e){return s(!o)}})]}),(0,R.jsx)("button",{disabled:!F(n.email)||n.password.length>10||n.password.length<6,onClick:function(e){return f(e,i)},className:"buttons w-[90%] mb-2",children:"ENTRAR"}),(0,R.jsxs)("div",{className:"text-sm flex flex-col items-center gap-1 mb-2",children:["Se ainda n\xe3o possui uma conta",(0,R.jsx)("div",{onClick:function(e){return a("Signup")},className:"text-cyan-800 text-lg underline underline-offset-2 cursor-pointer",children:"Registre-se"})]})]})}function V(t){var n=t.user,r=t.prevPage,i=t.handleNickname,a=t.handleEmail,o=t.handlePassword,s=t.handleRegister,u=d((0,e.useState)(""),2),c=u[0],l=u[1];return(0,R.jsxs)("div",{className:"modal z-0",children:[(0,R.jsx)("h2",{className:"title-text text-violet-900",children:"CADASTRE-SE"}),(0,R.jsx)("input",{type:"text",value:n.name,placeholder:"Como quer ser chamado?",onChange:function(e){return i(e)},className:"inputs w-[90%] h-[30%]"}),(0,R.jsxs)("div",{className:n.name.length>20||n.name.length<3?"alertText":"successText",children:["Entre 3 e 20 caracteres",F(n.email)?(0,R.jsx)(w,{}):(0,R.jsx)(N,{})]}),(0,R.jsx)("input",{type:"email",value:n.email,placeholder:"E-mail",onChange:function(e){return a(e)},className:"inputs w-[90%] h-[30%]"}),(0,R.jsxs)("div",{className:F(n.email)?"successText":"alertText",children:["Email v\xe1lido",F(n.email)?(0,R.jsx)(w,{}):(0,R.jsx)(N,{})]}),(0,R.jsx)("input",{type:"password",value:n.password,placeholder:"Senha",onChange:function(e){return o(e)},className:"inputs w-[90%] h-[30%]"}),(0,R.jsx)("div",{children:"A senha deve conter"}),(0,R.jsxs)("div",{className:n.password.length>10?"alertText":"successText",children:["menos que 10 caracteres",n.password.length>10?(0,R.jsx)(N,{}):(0,R.jsx)(w,{})]}),(0,R.jsxs)("div",{className:n.password.length<6?"alertText":"successText",children:["mais que 6 caracteres",n.password.length<6?(0,R.jsx)(N,{}):(0,R.jsx)(w,{})]}),(0,R.jsx)("input",{type:"password",value:c,placeholder:"Confime sua senha",onChange:function(e){return l(e.currentTarget.value)},className:"inputs w-[90%] h-[30%]"}),(0,R.jsxs)("div",{className:n.password!==c?"alertText":"successText",children:[n.password!==c?"Senhas diferentes":"Senhas iguais",n.password!==c?(0,R.jsx)(N,{}):(0,R.jsx)(w,{})]}),(0,R.jsx)("button",{disabled:!F(n.email)||n.password.length>10||n.password.length<6||n.password!==c,onClick:function(e){return s(e,r)},className:"buttons w-[90%] mb-2",children:"CADASTRAR"})]})}function z(e){var t=e.handleLogout,n=e.setMenuSelected,r=e.prevPage;return(0,R.jsxs)("div",{className:"modal z-0",children:[(0,R.jsx)("h2",{className:"pt-2 pb-1 text-center font-extrabold text-2xl",children:"Tem certeza que deseja sair?"}),(0,R.jsx)("button",{onClick:function(e){return t(e)},className:"buttons w-[90%] mb-2",children:"SAIR"}),(0,R.jsx)("button",{onClick:function(e){return n(r||"In\xedcio")},className:"buttons w-[90%] mb-2",children:"CANCELAR"})]})}function q(e){var t,n,r=e.user,i=e.handleNickname,a=e.handleEmail,o=e.handlePassword,s=e.handleLogin,u=e.handleRegister,c=e.handleLogout,l=e.modal,f=e.handleModal;return!0===l.isOn&&("signin"===l.content?n=(0,R.jsx)(U,{user:r,handleEmail:a,handlePassword:o,handleLogin:s}):"signup"===l.content?n=(0,R.jsx)(V,{user:r,handleNickname:i,handleEmail:a,handlePassword:o,handleRegister:u}):"signout"===l.content&&(n=(0,R.jsx)(z,{handleLogout:c}))),!0===l.isOn&&(t=(0,R.jsxs)("div",{children:[(0,R.jsx)("div",{onClick:function(e){return f(e)},className:"text-white bg-zinc-900 opacity-90 absolute w-full h-full left-0 top-0 z-40"}),n]})),t}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}function H(){return H="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},H.apply(this,arguments)}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}function G(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}function Q(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function X(e){var t=Q();return function(){var n,i=B(e);if(t){var a=B(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return K(e)}(this,n)}}function $(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function Z(e,t,n){return t&&J(e.prototype,t),n&&J(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ee(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t,n){return te=Q()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&W(i,n.prototype),i},te.apply(null,arguments)}function ne(e){var t="function"===typeof Map?new Map:void 0;return ne=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return te(e,arguments,B(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),W(r,e)},ne(e)}var re=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(re(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new ae;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ae=function(e){G(n,e);var t=X(n);function n(){var e;return Y(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return Z(n)}(ne(Error)),oe=function(e){return function(e){var t=re(e);return ie.encodeByteArray(t,!0)}(e).replace(/\./g,"")},se=function(e){try{return ie.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var ue=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ce=function(){try{return ue()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/myprofile",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&se(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},le=function(e){var t,n;return null===(n=null===(t=ce())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},fe=function(){var e;return null===(e=ce())||void 0===e?void 0:e.config},he=function(e){var t;return null===(t=ce())||void 0===t?void 0:t["_".concat(e)]},de=function(){function e(){var t=this;Y(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Z(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function pe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ve(){try{return"object"===typeof indexedDB}catch(e){return!1}}var me=function(e){G(n,e);var t=X(n);function n(e,r,i){var a;return Y(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(K(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(K(a),ge.prototype.create),a}return Z(n)}(ne(Error)),ge=function(){function e(t,n,r){Y(this,e),this.service=t,this.serviceName=n,this.errors=r}return Z(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ye,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new me(n,a,t)}}]),e}();var ye=/\{\$([^}]+)}/g;function ke(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function be(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(we(s)&&we(u)){if(!be(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function we(e){return null!==e&&"object"===typeof e}function xe(e){for(var t=[],n=function(){var e=d(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Se(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=d(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ee(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var _e=function(){function e(t,n){var r=this;Y(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Z(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=$(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Te),void 0===r.error&&(r.error=Te),void 0===r.complete&&(r.complete=Te);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Te(){}function Ie(e){return e&&e._delegate?e._delegate:e}var Ce=function(){function e(t,n,r){Y(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Z(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ne="[DEFAULT]",Ae=function(){function e(t,n){Y(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Z(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new de;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ne})}catch(u){}var t,n=$(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=d(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(ee(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),ee(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=$(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=d(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=$(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ne?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne;return this.component?this.component.multipleInstances?e:Ne:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var je,Re,Oe=function(){function e(t){Y(this,e),this.name=t,this.providers=new Map}return Z(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ae(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Le=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Re||(Re={}));var Pe={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},De=Re.INFO,Me=(u(je={},Re.DEBUG,"log"),u(je,Re.VERBOSE,"log"),u(je,Re.INFO,"info"),u(je,Re.WARN,"warn"),u(je,Re.ERROR,"error"),je),Fe=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Me[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ue=function(){function e(t){Y(this,e),this.name=t,this._logLevel=De,this._logHandler=Fe,this._userLogHandler=null,Le.push(this)}return Z(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Re))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Pe[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Re.DEBUG].concat(t)),this._logHandler.apply(this,[this,Re.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Re.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Re.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Re.INFO].concat(t)),this._logHandler.apply(this,[this,Re.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Re.WARN].concat(t)),this._logHandler.apply(this,[this,Re.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Re.ERROR].concat(t)),this._logHandler.apply(this,[this,Re.ERROR].concat(t))}}]),e}();var Ve,ze,qe=function(e,t){return t.some((function(t){return e instanceof t}))};var Be=new WeakMap,He=new WeakMap,Ke=new WeakMap,We=new WeakMap,Ge=new WeakMap;var Qe={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return He.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ke.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ye(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Xe(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ze||(ze=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Je(this),n),Ye(Be.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ye(e.apply(Je(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Je(this),t].concat(r));return Ke.set(a,t.sort?t.sort():[t]),Ye(a)}}function $e(e){return"function"===typeof e?Xe(e):(e instanceof IDBTransaction&&function(e){if(!He.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));He.set(e,t)}}(e),qe(e,Ve||(Ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Qe):e)}function Ye(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ye(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Be.set(t,e)})).catch((function(){})),Ge.set(t,e),t}(e);if(We.has(e))return We.get(e);var t=$e(e);return t!==e&&(We.set(e,t),Ge.set(t,e)),t}var Je=function(e){return Ge.get(e)};var Ze,et,tt=["get","getKey","getAll","getAllKeys","count"],nt=["put","add","delete","clear"],rt=new Map;function it(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(rt.get(t))return rt.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,a=nt.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(a||tt.includes(n))){var s=function(){var e=o(i().mark((function e(t){var o,s,u,c,l,f,h=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=this.transaction(t,a?"readwrite":"readonly"),u=s.store,c=h.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=h[f];return r&&(u=u.index(l.shift())),e.next=6,Promise.all([(o=u)[n].apply(o,l),a&&s.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return rt.set(t,s),s}}}Qe=function(e){return l(l({},e),{},{get:function(t,n,r){return it(t,n)||e.get(t,n,r)},has:function(t,n){return!!it(t,n)||e.has(t,n)}})}(Qe);var at=function(){function e(t){Y(this,e),this.container=t}return Z(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ot="@firebase/app",st="0.9.15",ut=new Ue("@firebase/app"),ct="[DEFAULT]",lt=(u(Ze={},ot,"fire-core"),u(Ze,"@firebase/app-compat","fire-core-compat"),u(Ze,"@firebase/analytics","fire-analytics"),u(Ze,"@firebase/analytics-compat","fire-analytics-compat"),u(Ze,"@firebase/app-check","fire-app-check"),u(Ze,"@firebase/app-check-compat","fire-app-check-compat"),u(Ze,"@firebase/auth","fire-auth"),u(Ze,"@firebase/auth-compat","fire-auth-compat"),u(Ze,"@firebase/database","fire-rtdb"),u(Ze,"@firebase/database-compat","fire-rtdb-compat"),u(Ze,"@firebase/functions","fire-fn"),u(Ze,"@firebase/functions-compat","fire-fn-compat"),u(Ze,"@firebase/installations","fire-iid"),u(Ze,"@firebase/installations-compat","fire-iid-compat"),u(Ze,"@firebase/messaging","fire-fcm"),u(Ze,"@firebase/messaging-compat","fire-fcm-compat"),u(Ze,"@firebase/performance","fire-perf"),u(Ze,"@firebase/performance-compat","fire-perf-compat"),u(Ze,"@firebase/remote-config","fire-rc"),u(Ze,"@firebase/remote-config-compat","fire-rc-compat"),u(Ze,"@firebase/storage","fire-gcs"),u(Ze,"@firebase/storage-compat","fire-gcs-compat"),u(Ze,"@firebase/firestore","fire-fst"),u(Ze,"@firebase/firestore-compat","fire-fst-compat"),u(Ze,"fire-js","fire-js"),u(Ze,"firebase","fire-js-all"),Ze),ft=new Map,ht=new Map;function dt(e,t){try{e.container.addComponent(t)}catch(n){ut.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function pt(e){var t=e.name;if(ht.has(t))return ut.debug("There were multiple attempts to register component ".concat(t,".")),!1;ht.set(t,e);var n,r=$(ft.values());try{for(r.s();!(n=r.n()).done;){dt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function vt(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var mt=(u(et={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),u(et,"bad-app-name","Illegal App name: '{$appName}"),u(et,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),u(et,"app-deleted","Firebase App named '{$appName}' already deleted"),u(et,"no-options","Need to provide options, when not being deployed to hosting via source."),u(et,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),u(et,"invalid-log-argument","First argument to `onLog` must be null or a function."),u(et,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),u(et,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),u(et,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),u(et,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),et),gt=new ge("app","Firebase",mt),yt=function(){function e(t,n,r){var i=this;Y(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ce("app",(function(){return i}),"PUBLIC"))}return Z(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw gt.create("app-deleted",{appName:this._name})}}]),e}(),kt="10.1.0";function bt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:ct,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw gt.create("bad-app-name",{appName:String(i)});if(n||(n=fe()),!n)throw gt.create("no-options");var a=ft.get(i);if(a){if(be(n,a.options)&&be(r,a.config))return a;throw gt.create("duplicate-app",{appName:i})}var o,s=new Oe(i),u=$(ht.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new yt(n,r,s);return ft.set(i,l),l}function wt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=ft.get(e);if(!t&&e===ct&&fe())return bt();if(!t)throw gt.create("no-app",{appName:e});return t}function xt(e,t,n){var r,i=null!==(r=lt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ut.warn(s.join(" "))}pt(new Ce("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var St="firebase-heartbeat-database",Et=1,_t="firebase-heartbeat-store",Tt=null;function It(){return Tt||(Tt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Ye(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Ye(s.result),e.oldVersion,e.newVersion,Ye(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(St,Et,{upgrade:function(e,t){if(0===t)e.createObjectStore(_t)}}).catch((function(e){throw gt.create("idb-open",{originalErrorMessage:e.message})}))),Tt}function Ct(e){return Nt.apply(this,arguments)}function Nt(){return Nt=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,It();case 3:return n=e.sent,e.next=6,n.transaction(_t).objectStore(_t).get(Rt(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof me?ut.warn(e.t0.message):(a=gt.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ut.warn(a.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Nt.apply(this,arguments)}function At(e,t){return jt.apply(this,arguments)}function jt(){return jt=o(i().mark((function e(t,n){var r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,It();case 3:return r=e.sent,a=r.transaction(_t,"readwrite"),o=a.objectStore(_t),e.next=8,o.put(n,Rt(t));case 8:return e.next=10,a.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof me?ut.warn(e.t0.message):(s=gt.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ut.warn(s.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),jt.apply(this,arguments)}function Rt(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ot=function(){function e(t){var n=this;Y(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Mt(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Z(e,[{key:"triggerHeartbeat",value:function(){var e=o(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Lt(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=o(i().mark((function e(){var t,n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Lt(),n=Pt(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,a=n.unsentEntries,o=oe(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Lt(){return(new Date).toISOString().substring(0,10)}function Pt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=$(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ft(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ft(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Dt,Mt=function(){function e(t){Y(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Z(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ve()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ct(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=o(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",At(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=o(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",At(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(ee(r.heartbeats),ee(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ft(e){return oe(JSON.stringify({version:2,heartbeats:e})).length}Dt="",pt(new Ce("platform-logger",(function(e){return new at(e)}),"PRIVATE")),pt(new Ce("heartbeat",(function(e){return new Ot(e)}),"PRIVATE")),xt(ot,st,Dt),xt(ot,st,"esm2017"),xt("fire-js","");function Ut(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var Vt;function zt(){return u({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var qt=zt,Bt=new ge("auth","Firebase",zt()),Ht=new Ue("@firebase/auth");function Kt(e){if(Ht.logLevel<=Re.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ht.warn.apply(Ht,["Auth (".concat(kt,"): ").concat(e)].concat(n))}}function Wt(e){if(Ht.logLevel<=Re.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ht.error.apply(Ht,["Auth (".concat(kt,"): ").concat(e)].concat(n))}}function Gt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw $t.apply(void 0,[e].concat(n))}function Qt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $t.apply(void 0,[e].concat(n))}function Xt(e,t,n){var r=Object.assign(Object.assign({},qt()),u({},t,n));return new ge("auth","Firebase",r).create(t,{appName:e.name})}function $t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=ee(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(ee(o)))}return Bt.create.apply(Bt,[e].concat(n))}function Yt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw $t.apply(void 0,[t].concat(r))}}function Jt(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Wt(t),new Error(t)}function Zt(e,t){e||Jt(t)}function en(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function tn(){return"http:"===nn()||"https:"===nn()}function nn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function rn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(tn()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var an=function(){function e(t,n){Y(this,e),this.shortDelay=t,this.longDelay=n,Zt(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pe())||"object"===typeof navigator&&"ReactNative"===navigator.product}return Z(e,[{key:"get",value:function(){return rn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function on(e,t){Zt(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var sn=function(){function e(){Y(this,e)}return Z(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Jt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Jt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Jt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),un=(u(Vt={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),u(Vt,"MISSING_CUSTOM_TOKEN","internal-error"),u(Vt,"INVALID_IDENTIFIER","invalid-email"),u(Vt,"MISSING_CONTINUE_URI","internal-error"),u(Vt,"INVALID_PASSWORD","wrong-password"),u(Vt,"MISSING_PASSWORD","missing-password"),u(Vt,"EMAIL_EXISTS","email-already-in-use"),u(Vt,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),u(Vt,"INVALID_IDP_RESPONSE","invalid-credential"),u(Vt,"INVALID_PENDING_TOKEN","invalid-credential"),u(Vt,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),u(Vt,"MISSING_REQ_TYPE","internal-error"),u(Vt,"EMAIL_NOT_FOUND","user-not-found"),u(Vt,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),u(Vt,"EXPIRED_OOB_CODE","expired-action-code"),u(Vt,"INVALID_OOB_CODE","invalid-action-code"),u(Vt,"MISSING_OOB_CODE","internal-error"),u(Vt,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),u(Vt,"INVALID_ID_TOKEN","invalid-user-token"),u(Vt,"TOKEN_EXPIRED","user-token-expired"),u(Vt,"USER_NOT_FOUND","user-token-expired"),u(Vt,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),u(Vt,"INVALID_CODE","invalid-verification-code"),u(Vt,"INVALID_SESSION_INFO","invalid-verification-id"),u(Vt,"INVALID_TEMPORARY_PROOF","invalid-credential"),u(Vt,"MISSING_SESSION_INFO","missing-verification-id"),u(Vt,"SESSION_EXPIRED","code-expired"),u(Vt,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),u(Vt,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),u(Vt,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),u(Vt,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),u(Vt,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),u(Vt,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),u(Vt,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),u(Vt,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),u(Vt,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),u(Vt,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),u(Vt,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),u(Vt,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),u(Vt,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),u(Vt,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),u(Vt,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),u(Vt,"MISSING_CLIENT_TYPE","missing-client-type"),u(Vt,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),u(Vt,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),u(Vt,"INVALID_REQ_TYPE","invalid-req-type"),Vt),cn=new an(3e4,6e4);function ln(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function fn(e,t,n,r){return hn.apply(this,arguments)}function hn(){return hn=o(i().mark((function e(t,n,r,a){var s,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=u.length>4&&void 0!==u[4]?u[4]:{},e.abrupt("return",dn(t,s,o(i().mark((function e(){var o,s,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={},s={},a&&("GET"===n?s=a:o={body:JSON.stringify(a)}),u=xe(Object.assign({key:t.config.apiKey},s)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(c=e.sent)["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",sn.fetch()(gn(t,t.config.apiHost,r,u),Object.assign({method:n,headers:c,referrerPolicy:"no-referrer"},o)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),hn.apply(this,arguments)}function dn(e,t,n){return pn.apply(this,arguments)}function pn(){return pn=o(i().mark((function e(t,n,r){var a,o,s,u,c,l,f,h,p,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,a=Object.assign(Object.assign({},un),n),e.prev=2,o=new yn(t),e.next=6,Promise.race([r(),o.promise]);case 6:return s=e.sent,o.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw kn(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=d(l,2),h=f[0],p=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw kn(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw kn(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw kn(t,"user-disabled",u);case 29:if(v=a[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!p){e.next=34;break}throw Xt(t,v,p);case 34:Gt(t,v);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof me)){e.next=41;break}throw e.t0;case 41:Gt(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),pn.apply(this,arguments)}function vn(e,t,n,r){return mn.apply(this,arguments)}function mn(){return mn=o(i().mark((function e(t,n,r,a){var o,s,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,fn(t,n,r,a,o);case 3:return"mfaPendingCredential"in(s=e.sent)&&Gt(t,"multi-factor-auth-required",{_serverResponse:s}),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)}))),mn.apply(this,arguments)}function gn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?on(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var yn=function(){function e(t){var n=this;Y(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Qt(n.auth,"network-request-failed"))}),cn.get())}))}return Z(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function kn(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Qt(e,t,r);return i.customData._tokenResponse=n,i}function bn(e,t){return wn.apply(this,arguments)}function wn(){return wn=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fn(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),wn.apply(this,arguments)}function xn(e,t){return Sn.apply(this,arguments)}function Sn(){return Sn=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fn(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Sn.apply(this,arguments)}function En(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function _n(){return _n=o(i().mark((function e(t){var n,r,a,o,s,u,c=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],r=Ie(t),e.next=4,r.getIdToken(n);case 4:return a=e.sent,Yt((o=In(a))&&o.exp&&o.auth_time&&o.iat,r.auth,"internal-error"),s="object"===typeof o.firebase?o.firebase:void 0,u=null===s||void 0===s?void 0:s.sign_in_provider,e.abrupt("return",{claims:o,token:a,authTime:En(Tn(o.auth_time)),issuedAtTime:En(Tn(o.iat)),expirationTime:En(Tn(o.exp)),signInProvider:u||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),_n.apply(this,arguments)}function Tn(e){return 1e3*Number(e)}function In(e){var t=d(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Wt("JWT malformed, contained fewer than 3 sections"),null;try{var a=se(r);return a?JSON.parse(a):(Wt("Failed to decode base64 JWT payload"),null)}catch(o){return Wt("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Cn(e,t){return Nn.apply(this,arguments)}function Nn(){return Nn=o(i().mark((function e(t,n){var r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof me&&An(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Nn.apply(this,arguments)}function An(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var jn=function(){function e(t){Y(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Z(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(o(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Rn=function(){function e(t,n){Y(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Z(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=En(this.lastLoginAt),this.creationTime=En(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function On(e){return Ln.apply(this,arguments)}function Ln(){return Ln=o(i().mark((function e(t){var n,r,a,o,s,u,c,l,f,h,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,e.next=6,Cn(t,xn(r,{idToken:a}));case 6:Yt(null===(o=e.sent)||void 0===o?void 0:o.users.length,r,"internal-error"),s=o.users[0],t._notifyReloadListener(s),u=(null===(n=s.providerUserInfo)||void 0===n?void 0:n.length)?s.providerUserInfo.map((function(e){var t=e.providerId,n=Ut(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],c=Dn(t.providerData,u),l=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!(null===c||void 0===c?void 0:c.length),h=!!l&&f,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Rn(s.createdAt,s.lastLoginAt),isAnonymous:h},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),Ln.apply(this,arguments)}function Pn(){return(Pn=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ie(t),e.next=3,On(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dn(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(ee(n),ee(t))}function Mn(e,t){return Fn.apply(this,arguments)}function Fn(){return Fn=o(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dn(t,{},o(i().mark((function e(){var r,a,o,s,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xe({grant_type:"refresh_token",refresh_token:n}).slice(1),a=t.config,o=a.tokenApiHost,s=a.apiKey,u=gn(t,o,"/v1/token","key=".concat(s)),e.next=5,t._getAdditionalHeaders();case 5:return(c=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",sn.fetch()(u,{method:"POST",headers:c,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Fn.apply(this,arguments)}var Un=function(){function e(){Y(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Z(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Yt(e.idToken,"internal-error"),Yt("undefined"!==typeof e.idToken,"internal-error"),Yt("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=In(e);return Yt(t,"internal-error"),Yt("undefined"!==typeof t.exp,"internal-error"),Yt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=o(i().mark((function e(t){var n,r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Yt(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=o(i().mark((function e(t,n){var r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mn(t,n);case 2:r=e.sent,a=r.accessToken,o=r.refreshToken,s=r.expiresIn,this.updateTokensAndExpiration(a,o,Number(s));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Jt("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Yt("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Yt("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Yt("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Vn(e,t){Yt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var zn=function(){function e(t){Y(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ut(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?ee(a.providerData):[],this.metadata=new Rn(a.createdAt||void 0,a.lastLoginAt||void 0)}return Z(e,[{key:"getIdToken",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cn(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Yt(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return _n.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Pn.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Yt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=o(i().mark((function e(t){var n,r,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,On(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Cn(this,bn(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,S=n.stsTokenManager;Yt(k&&S,t,"internal-error");var E=Un.fromJSON(this.name,S);Yt("string"===typeof k,t,"internal-error"),Vn(f,t.name),Vn(h,t.name),Yt("boolean"===typeof b,t,"internal-error"),Yt("boolean"===typeof w,t,"internal-error"),Vn(d,t.name),Vn(p,t.name),Vn(v,t.name),Vn(m,t.name),Vn(g,t.name),Vn(y,t.name);var _=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(_.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(_._redirectEventId=m),_}},{key:"_fromIdTokenResponse",value:function(){var t=o(i().mark((function t(n,r){var a,o,s,u=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=u.length>2&&void 0!==u[2]&&u[2],(o=new Un).updateFromServerResponse(r),s=new e({uid:r.localId,auth:n,stsTokenManager:o,isAnonymous:a}),t.next=6,On(s);case 6:return t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),qn=new Map;function Bn(e){Zt(e instanceof Function,"Expected a class definition");var t=qn.get(e);return t?(Zt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,qn.set(e,t),t)}var Hn=function(){function e(){Y(this,e),this.type="NONE",this.storage={}}return Z(e,[{key:"_isAvailable",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Hn.type="NONE";var Kn=Hn;function Wn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Gn=function(){function e(t,n,r){Y(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Wn(this.userKey,a.apiKey,o),this.fullPersistenceKey=Wn("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Z(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?zn._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=o(i().mark((function t(n,r){var a,s,u,c,l,f,h,d,p,v,m,g=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=g.length>2&&void 0!==g[2]?g[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Bn(Kn),n,a));case 3:return t.next=5,Promise.all(r.map(function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:s=t.sent.filter((function(e){return e})),u=s[0]||Bn(Kn),c=Wn(a,n.config.apiKey,n.name),l=null,f=$(r),t.prev=10,f.s();case 12:if((h=f.n()).done){t.next=29;break}return d=h.value,t.prev=14,t.next=17,d._get(c);case 17:if(!(p=t.sent)){t.next=23;break}return v=zn._fromJSON(n,p),d!==u&&(l=v),u=d,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),f.e(t.t1);case 34:return t.prev=34,f.f(),t.finish(34);case 37:if(m=s.filter((function(e){return e._shouldAllowMigration})),u._shouldAllowMigration&&m.length){t.next=40;break}return t.abrupt("return",new e(u,n,a));case 40:if(u=m[0],!l){t.next=44;break}return t.next=44,u._set(c,l.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===u){e.next=8;break}return e.prev=1,e.next=4,t._remove(c);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(u,n,a));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Qn(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Jn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Xn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(er(t))return"Blackberry";if(tr(t))return"Webos";if($n(t))return"Safari";if((t.includes("chrome/")||Yn(t))&&!t.includes("edge/"))return"Chrome";if(Zn(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Xn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/firefox\//i.test(e)}function $n(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/crios\//i.test(e)}function Jn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/iemobile/i.test(e)}function Zn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/android/i.test(e)}function er(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/blackberry/i.test(e)}function tr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/webos/i.test(e)}function nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function rr(){return function(){var e=pe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ir(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe();return nr(e)||Zn(e)||tr(e)||er(e)||/windows phone/i.test(e)||Jn(e)}function ar(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Qn(pe());break;case"Worker":t="".concat(Qn(pe()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(kt,"/").concat(r)}function or(e,t){return sr.apply(this,arguments)}function sr(){return sr=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fn(t,"GET","/v2/recaptchaConfig",ln(t,n)));case 1:case"end":return e.stop()}}),e)}))),sr.apply(this,arguments)}function ur(e){return void 0!==e&&void 0!==e.enterprise}var cr=Z((function e(t){if(Y(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function lr(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Qt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function fr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var hr=function(){function e(t){Y(this,e),this.type="recaptcha-enterprise",this.auth=gr(t)}return Z(e,[{key:"verify",value:function(){var e=o(i().mark((function e(){var t,n,r,a,s,u=this,c=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(e,n,r){var i=window.grecaptcha;ur(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},a=function(){return a=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=o(i().mark((function e(n,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:or(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new cr(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),a.apply(this,arguments)},r=function(e){return a.apply(this,arguments)},t=c.length>0&&void 0!==c[0]?c[0]:"verify",n=c.length>1&&void 0!==c[1]&&c[1],e.abrupt("return",new Promise((function(e,t){r(u.auth).then((function(r){if(!n&&ur(window.grecaptcha))s(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));lr("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){s(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function dr(e,t,n){return pr.apply(this,arguments)}function pr(){return pr=o(i().mark((function e(t,n,r){var a,o,s,u,c=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],o=new hr(t),e.prev=2,e.next=5,o.verify(r);case 5:s=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,o.verify(r,!0);case 12:s=e.sent;case 13:return u=Object.assign({},n),a?Object.assign(u,{captchaResp:s}):Object.assign(u,{captchaResponse:s}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),pr.apply(this,arguments)}var vr=function(){function e(t){Y(this,e),this.auth=t,this.queue=[]}return Z(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=$(this.queue),e.prev=5,r.s();case 7:if((a=r.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&n.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),s=$(n);try{for(s.s();!(u=s.n()).done;){c=u.value;try{c()}catch(i){}}}catch(l){s.e(l)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),mr=function(){function e(t,n,r,i){Y(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yr(this),this.idTokenSubscription=new yr(this),this.beforeStateQueue=new vr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return Z(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Bn(t)),this._initializationPromise=this.queue(o(i().mark((function r(){var a,o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Gn.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(a=n._popupRedirectResolver)||void 0===a?void 0:a._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(o=n.currentUser)||void 0===o?void 0:o.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,a=r,o=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return s=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===a||void 0===a?void 0:a._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:c=e.sent,s&&s!==u||!(null===c||void 0===c?void 0:c.user)||(a=c.user,o=!0);case 14:if(a){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(a._redirectEventId){e.next=32;break}if(!o){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(a);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),a=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!a){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Yt(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==a._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(a));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,On(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ie(t):null)&&Yt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=o(i().mark((function e(t){var n,r=this,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(o(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Bn(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=o(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,or(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new cr(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new hr(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ge("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=o(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Yt(n=t&&Bn(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Gn.create(this,[Bn(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=o(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=o(i().mark((function e(t){var n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Yt(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ar(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=o(i().mark((function e(){var t,n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(a=e.sent)&&(n["X-Firebase-AppCheck"]=a),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=o(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Kt("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gr(e){return Ie(e)}var yr=function(){function e(t){var n=this;Y(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new _e(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return Z(e,[{key:"next",get:function(){return Yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function kr(e,t,n){var r=gr(e);Yt(r._canInitEmulator,r,"emulator-config-failed"),Yt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=br(t),o=function(e){var t=br(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:wr(r.substr(a.length+1))}}var o=d(r.split(":"),2);return{host:o[0],port:wr(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function br(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function wr(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var xr=function(){function e(t,n){Y(this,e),this.providerId=t,this.signInMethod=n}return Z(e,[{key:"toJSON",value:function(){return Jt("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Jt("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Jt("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Jt("not implemented")}}]),e}();function Sr(e,t){return Er.apply(this,arguments)}function Er(){return Er=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Er.apply(this,arguments)}function _r(e,t){return Tr.apply(this,arguments)}function Tr(){return Tr=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vn(t,"POST","/v1/accounts:signInWithPassword",ln(t,n)));case 1:case"end":return e.stop()}}),e)}))),Tr.apply(this,arguments)}function Ir(e,t){return Cr.apply(this,arguments)}function Cr(){return Cr=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vn(t,"POST","/v1/accounts:signInWithEmailLink",ln(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cr.apply(this,arguments)}function Nr(e,t){return Ar.apply(this,arguments)}function Ar(){return Ar=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vn(t,"POST","/v1/accounts:signInWithEmailLink",ln(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ar.apply(this,arguments)}var jr=function(e){G(n,e);var t=X(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Y(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Z(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,dr(t,r,"signInWithPassword");case 7:return a=e.sent,e.abrupt("return",_r(t,a));case 11:return e.abrupt("return",_r(t,r).catch(function(){var e=o(i().mark((function e(n){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,dr(t,r,"signInWithPassword");case 4:return a=e.sent,e.abrupt("return",_r(t,a));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Ir(t,{email:this._email,oobCode:this._password}));case 13:Gt(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Sr(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Nr(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Gt(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(xr);function Rr(e,t){return Or.apply(this,arguments)}function Or(){return Or=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vn(t,"POST","/v1/accounts:signInWithIdp",ln(t,n)));case 1:case"end":return e.stop()}}),e)}))),Or.apply(this,arguments)}var Lr=function(e){G(n,e);var t=X(n);function n(){var e;return Y(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Z(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Rr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Rr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Rr(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xe(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gt("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ut(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(xr);function Pr(e,t){return Dr.apply(this,arguments)}function Dr(){return Dr=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fn(t,"POST","/v1/accounts:sendVerificationCode",ln(t,n)));case 1:case"end":return e.stop()}}),e)}))),Dr.apply(this,arguments)}function Mr(){return Mr=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vn(t,"POST","/v1/accounts:signInWithPhoneNumber",ln(t,n)));case 1:case"end":return e.stop()}}),e)}))),Mr.apply(this,arguments)}function Fr(){return Fr=o(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vn(t,"POST","/v1/accounts:signInWithPhoneNumber",ln(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw kn(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Fr.apply(this,arguments)}var Ur=u({},"USER_NOT_FOUND","user-not-found");function Vr(){return Vr=o(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",vn(t,"POST","/v1/accounts:signInWithPhoneNumber",ln(t,r),Ur));case 2:case"end":return e.stop()}}),e)}))),Vr.apply(this,arguments)}var zr=function(e){G(n,e);var t=X(n);function n(e){var r;return Y(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Z(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Mr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Fr.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Vr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(xr);var qr=function(){function e(t){var n,r,i,a,o,s;Y(this,e);var u=Se(Ee(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Yt(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Z(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Se(Ee(e)).link,n=t?Se(Ee(t)).deep_link_id:null,r=Se(Ee(e)).deep_link_id;return(r?Se(Ee(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Br=function(){function e(){Y(this,e),this.providerId=e.PROVIDER_ID}return Z(e,null,[{key:"credential",value:function(e,t){return jr._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=qr.parseLink(t);return Yt(n,"argument-error"),jr._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Br.PROVIDER_ID="password",Br.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Br.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Hr=function(){function e(t){Y(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Z(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Kr=function(e){G(n,e);var t=X(n);function n(){var e;return Y(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Z(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return ee(this.scopes)}}]),n}(Hr),Wr=function(e){G(n,e);var t=X(n);function n(){return Y(this,n),t.call(this,"facebook.com")}return Z(n,null,[{key:"credential",value:function(e){return Lr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Kr);Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Wr.PROVIDER_ID="facebook.com";var Gr=function(e){G(n,e);var t=X(n);function n(){var e;return Y(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Z(n,null,[{key:"credential",value:function(e,t){return Lr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Kr);Gr.GOOGLE_SIGN_IN_METHOD="google.com",Gr.PROVIDER_ID="google.com";var Qr=function(e){G(n,e);var t=X(n);function n(){return Y(this,n),t.call(this,"github.com")}return Z(n,null,[{key:"credential",value:function(e){return Lr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Kr);Qr.GITHUB_SIGN_IN_METHOD="github.com",Qr.PROVIDER_ID="github.com";var Xr=function(e){G(n,e);var t=X(n);function n(){return Y(this,n),t.call(this,"twitter.com")}return Z(n,null,[{key:"credential",value:function(e,t){return Lr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Kr);function $r(e,t){return Yr.apply(this,arguments)}function Yr(){return Yr=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vn(t,"POST","/v1/accounts:signUp",ln(t,n)));case 1:case"end":return e.stop()}}),e)}))),Yr.apply(this,arguments)}Xr.TWITTER_SIGN_IN_METHOD="twitter.com",Xr.PROVIDER_ID="twitter.com";var Jr=function(){function e(t){Y(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Z(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=o(i().mark((function t(n,r,a){var o,s,u,c,l=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=l.length>3&&void 0!==l[3]&&l[3],t.next=3,zn._fromIdTokenResponse(n,a,o);case 3:return s=t.sent,u=Zr(a),c=new e({user:s,providerId:u,_tokenResponse:a,operationType:r}),t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=o(i().mark((function t(n,r,a){var o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(a,!0);case 2:return o=Zr(a),t.abrupt("return",new e({user:n,providerId:o,_tokenResponse:a,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Zr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var ei=function(e){G(n,e);var t=X(n);function n(e,r,i,a){var o,s;return Y(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(K(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Z(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(me);function ti(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ei._fromErrorAndOperation(e,n,t,r);throw n}))}function ni(e,t){return ri.apply(this,arguments)}function ri(){return ri=o(i().mark((function e(t,n){var r,a,o=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],e.t0=Cn,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return a=e.sent,e.abrupt("return",Jr._forOperation(t,"link",a));case 14:case"end":return e.stop()}}),e)}))),ri.apply(this,arguments)}function ii(e,t){return ai.apply(this,arguments)}function ai(){return ai=o(i().mark((function e(t,n){var r,a,o,s,u,c,l=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Cn(t,ti(a,o,n,t),r);case 6:return Yt((s=e.sent).idToken,a,"internal-error"),Yt(u=In(s.idToken),a,"internal-error"),c=u.sub,Yt(t.uid===c,a,"user-mismatch"),e.abrupt("return",Jr._forOperation(t,o,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Gt(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),ai.apply(this,arguments)}function oi(e,t){return si.apply(this,arguments)}function si(){return si=o(i().mark((function e(t,n){var r,a,o,s,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],a="signIn",e.next=4,ti(t,a,n);case 4:return o=e.sent,e.next=7,Jr._fromIdTokenResponse(t,a,o);case 7:if(s=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(s.user);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))),si.apply(this,arguments)}function ui(e,t){return ci.apply(this,arguments)}function ci(){return ci=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oi(gr(t),n));case 1:case"end":return e.stop()}}),e)}))),ci.apply(this,arguments)}function li(e,t,n){return fi.apply(this,arguments)}function fi(){return fi=o(i().mark((function e(t,n,r){var a,s,u,c,l,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=gr(t),u={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(a=s._getRecaptchaConfig())||void 0===a?void 0:a.emailPasswordEnabled)){e.next=9;break}return e.next=5,dr(s,u,"signUpPassword");case 5:l=e.sent,c=$r(s,l),e.next=10;break;case 9:c=$r(s,u).catch(function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,dr(s,u,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",$r(s,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,c.catch((function(e){return Promise.reject(e)}));case 12:return f=e.sent,e.next=15,Jr._fromIdTokenResponse(s,"signIn",f);case 15:return h=e.sent,e.next=18,s._updateCurrentUser(h.user);case 18:return e.abrupt("return",h);case 19:case"end":return e.stop()}}),e)}))),fi.apply(this,arguments)}function hi(e,t,n){return ui(Ie(e),Br.credential(t,n))}function di(e){return Ie(e).signOut()}function pi(e,t){return fn(e,"POST","/v2/accounts/mfaEnrollment:start",ln(e,t))}function vi(e,t){return fn(e,"POST","/v2/accounts/mfaEnrollment:start",ln(e,t))}function mi(e,t){return fn(e,"POST","/v2/accounts/mfaEnrollment:finalize",ln(e,t))}new WeakMap;var gi="__sak",yi=function(){function e(t,n){Y(this,e),this.storageRetriever=t,this.type=n}return Z(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(gi,"1"),this.storage.removeItem(gi),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ki=function(e){G(n,e);var t=X(n);function n(){var e;return Y(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=pe();return $n(e)||nr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ir(),e._shouldAllowMigration=!0,e}return Z(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);rr()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=o(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(B(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(B(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(B(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(yi);ki.type="LOCAL";var bi=ki,wi=function(e){G(n,e);var t=X(n);function n(){return Y(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Z(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(yi);wi.type="SESSION";var xi=wi;function Si(e){return Promise.all(e.map(function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ei=function(){function e(t){Y(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Z(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=o(i().mark((function e(t){var n,r,a,s,u,c,l,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,a=r.eventId,s=r.eventType,u=r.data,null===(c=this.handlersMap[s])||void 0===c?void 0:c.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:a,eventType:s}),l=Array.from(c).map(function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,u));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Si(l);case 9:f=e.sent,n.ports[0].postMessage({status:"done",eventId:a,eventType:s,response:f});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function _i(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ei.receivers=[];var Ti=function(){function e(t){Y(this,e),this.target=t,this.handlers=new Set}return Z(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=o(i().mark((function e(t,n){var r,a,o,s,u=this,c=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:50,a="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,i){var c=_i("",20);a.port1.start();var l=setTimeout((function(){i(new Error("unsupported_event"))}),r);s={messageChannel:a,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),o=setTimeout((function(){i(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),e(n.data.response);break;default:clearTimeout(l),clearTimeout(o),i(new Error("invalid_response"))}}},u.handlers.add(s),a.port1.addEventListener("message",s.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[a.port2])})).finally((function(){s&&u.removeMessageHandler(s)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ii(){return window}function Ci(e){Ii().location.href=e}function Ni(){return"undefined"!==typeof Ii().WorkerGlobalScope&&"function"===typeof Ii().importScripts}function Ai(){return ji.apply(this,arguments)}function ji(){return(ji=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ri(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Oi="firebaseLocalStorageDb",Li="firebaseLocalStorage",Pi="fbase_key",Di=function(){function e(t){Y(this,e),this.request=t}return Z(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Mi(e,t){return e.transaction([Li],t?"readwrite":"readonly").objectStore(Li)}function Fi(){var e=indexedDB.deleteDatabase(Oi);return new Di(e).toPromise()}function Ui(){var e=indexedDB.open(Oi,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Li,{keyPath:Pi})}catch(r){n(r)}})),e.addEventListener("success",o(i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Li)){n.next=12;break}return r.close(),n.next=5,Fi();case 5:return n.t0=t,n.next=8,Ui();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Vi(e,t,n){return zi.apply(this,arguments)}function zi(){return zi=o(i().mark((function e(t,n,r){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Mi(t,!0).put((u(a={},Pi,n),u(a,"value",r),a)),e.abrupt("return",new Di(o).toPromise());case 2:case"end":return e.stop()}}),e)}))),zi.apply(this,arguments)}function qi(e,t){return Bi.apply(this,arguments)}function Bi(){return Bi=o(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mi(t,!1).get(n),e.next=3,new Di(r).toPromise();case 3:return a=e.sent,e.abrupt("return",void 0===a?null:a.value);case 5:case"end":return e.stop()}}),e)}))),Bi.apply(this,arguments)}function Hi(e,t){var n=Mi(e,!0).delete(t);return new Di(n).toPromise()}var Ki=function(){function e(){Y(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Z(e,[{key:"_openDb",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ui();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=o(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ni()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=o(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ei._getInstance(Ni()?self:null),this.receiver._subscribe("keyChanged",function(){var e=o(i().mark((function e(n,r){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return a=e.sent,e.abrupt("return",{keyProcessed:a.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=o(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ai();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ti(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Ri()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ui();case 5:return t=e.sent,e.next=8,Vi(t,gi,"1");case 8:return e.next=10,Hi(t,gi);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=o(i().mark((function e(t,n){var r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Vi(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return qi(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=o(i().mark((function e(t){var n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Hi(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=o(i().mark((function e(){var t,n,r,a,o,s,u,c,l,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Mi(e,!1).getAll();return new Di(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,a=$(t);try{for(a.s();!(o=a.n()).done;)s=o.value,u=s.fbase_key,c=s.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(c)&&(this.notifyListeners(u,c),n.push(u))}catch(i){a.e(i)}finally{a.f()}for(l=0,f=Object.keys(this.localCache);l<f.length;l++)h=f[l],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(o(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ki.type="LOCAL";var Wi=Ki;function Gi(e,t){return fn(e,"POST","/v2/accounts/mfaSignIn:start",ln(e,t))}function Qi(e,t){return fn(e,"POST","/v2/accounts/mfaSignIn:finalize",ln(e,t))}fr("rcb"),new an(3e4,6e4);var Xi="recaptcha";function $i(e,t,n){return Yi.apply(this,arguments)}function Yi(){return Yi=o(i().mark((function e(t,n,r){var a,o,s,u,c,l,f,h,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(o=e.sent,e.prev=3,Yt("string"===typeof o,t,"argument-error"),Yt(r.type===Xi,t,"argument-error"),!("session"in(s="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=s.session,!("phoneNumber"in s)){e.next=17;break}return Yt("enroll"===u.type,t,"internal-error"),e.next=13,pi(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:o}});case 13:return c=e.sent,e.abrupt("return",c.phoneSessionInfo.sessionInfo);case 17:return Yt("signin"===u.type,t,"internal-error"),Yt(l=(null===(a=s.multiFactorHint)||void 0===a?void 0:a.uid)||s.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Gi(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:o}});case 22:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Pr(t,{phoneNumber:s.phoneNumber,recaptchaToken:o});case 28:return h=e.sent,d=h.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Yi.apply(this,arguments)}var Ji=function(){function e(t){Y(this,e),this.providerId=e.PROVIDER_ID,this.auth=gr(t)}return Z(e,[{key:"verifyPhoneNumber",value:function(e,t){return $i(this.auth,e,Ie(t))}}],[{key:"credential",value:function(e,t){return zr._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?zr._fromTokenResponse(n,r):null}}]),e}();function Zi(e,t){return t?Bn(t):(Yt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ji.PROVIDER_ID="phone",Ji.PHONE_SIGN_IN_METHOD="phone";var ea=function(e){G(n,e);var t=X(n);function n(e){var r;return Y(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Z(n,[{key:"_getIdTokenResponse",value:function(e){return Rr(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Rr(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Rr(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(xr);function ta(e){return oi(e.auth,new ea(e),e.bypassAuthState)}function na(e){var t=e.auth,n=e.user;return Yt(n,t,"internal-error"),ii(n,new ea(e),e.bypassAuthState)}function ra(e){return ia.apply(this,arguments)}function ia(){return ia=o(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Yt(r=t.user,n,"internal-error"),e.abrupt("return",ni(r,new ea(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),ia.apply(this,arguments)}var aa=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Y(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Z(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=o(i().mark((function t(n,r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,a=t.postBody,o=t.tenantId,s=t.error,u=t.type,!s){e.next=4;break}return this.reject(s),e.abrupt("return");case 4:return c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(c);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ta;case"linkViaPopup":case"linkViaRedirect":return ra;case"reauthViaPopup":case"reauthViaRedirect":return na;default:Gt(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),oa=new an(2e3,1e4);var sa=function(e){G(n,e);var t=X(n);function n(e,r,i,a,o){var s;return Y(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=K(s),s}return Z(n,[{key:"executeNotNull",value:function(){var e=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Yt(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=o(i().mark((function e(){var t,n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zt(1===this.filter.length,"Popup operations only handle one event"),t=_i(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Qt(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Qt(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Qt(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,oa.get())}()}}]),n}(aa);sa.currentPopupAction=null;var ua="pendingRedirect",ca=new Map,la=function(e){G(n,e);var t=X(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Y(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Z(n,[{key:"execute",value:function(){var e=o(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ca.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,fa(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,H(B(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:ca.set(this.auth._key(),t);case 21:return this.bypassAuthState||ca.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",H(B(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",H(B(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(aa);function fa(e,t){return ha.apply(this,arguments)}function ha(){return ha=o(i().mark((function e(t,n){var r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=va(n),a=pa(t),e.next=4,a._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,a._get(r);case 8:return e.t0=e.sent,o="true"===e.t0,e.next=12,a._remove(r);case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)}))),ha.apply(this,arguments)}function da(e,t){ca.set(e._key(),t)}function pa(e){return Bn(e._redirectPersistence)}function va(e){return Wn(ua,e.config.apiKey,e.name)}function ma(e,t){return ga.apply(this,arguments)}function ga(){return ga=o(i().mark((function e(t,n){var r,a,o,s,u,c=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],a=gr(t),o=Zi(a,n),s=new la(a,o,r),e.next=6,s.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,a._persistUserIfCurrent(u.user);case 11:return e.next=13,a._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),ga.apply(this,arguments)}var ya=function(){function e(t){Y(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Z(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ba(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ba(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Qt(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ka(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ka(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ka(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ba(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function wa(e){return xa.apply(this,arguments)}function xa(){return xa=o(i().mark((function e(t){var n,r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",fn(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),xa.apply(this,arguments)}var Sa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ea=/^https?/;function _a(){return _a=o(i().mark((function e(t){var n,r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,wa(t);case 4:n=e.sent,r=n.authorizedDomains,a=$(r),e.prev=7,a.s();case 9:if((o=a.n()).done){e.next=20;break}if(s=o.value,e.prev=11,!Ta(s)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),a.e(e.t1);case 25:return e.prev=25,a.f(),e.finish(25);case 28:Gt(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),_a.apply(this,arguments)}function Ta(e){var t=en(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ea.test(r))return!1;if(Sa.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Ia=new an(3e4,6e4);function Ca(){var e=Ii().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=ee(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Na=null;function Aa(e){return Na=Na||function(e){return new Promise((function(t,n){var r,i,a;function o(){Ca(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ca(),n(Qt(e,"network-request-failed"))},timeout:Ia.get()})}if(null===(i=null===(r=Ii().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ii().gapi)||void 0===a?void 0:a.load)){var s=fr("iframefcb");return Ii()[s]=function(){gapi.load?o():n(Qt(e,"network-request-failed"))},lr("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Na=null,e}))}(e),Na}var ja=new an(5e3,15e3),Ra="__/auth/iframe",Oa="emulator/auth/iframe",La={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Da(e){var t=e.config;Yt(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?on(t,Oa):"https://".concat(e.config.authDomain,"/").concat(Ra),r={apiKey:t.apiKey,appName:e.name,v:kt},i=Pa.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(xe(r).slice(1))}function Ma(e){return Fa.apply(this,arguments)}function Fa(){return Fa=o(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Aa(t);case 2:return n=e.sent,Yt(r=Ii().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Da(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:La,dontclear:!0},(function(e){return new Promise(function(){var n=o(i().mark((function n(r,a){var o,s,u;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Ii().clearTimeout(s),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:o=Qt(t,"network-request-failed"),s=Ii().setTimeout((function(){a(o)}),ja.get()),e.ping(u).then(u,(function(){a(o)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Fa.apply(this,arguments)}var Ua={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Va=function(){function e(t){Y(this,e),this.window=t,this.associatedEvent=null}return Z(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function za(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Ua),{width:r.toString(),height:i.toString(),top:a,left:o}),c=pe().toLowerCase();n&&(s=Yn(c)?"_blank":n),Xn(c)&&(t=t||"http://localhost",u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=d(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return nr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Va(null);var f=window.open(t||"",s,l);Yt(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Va(f)}var qa="__/auth/handler",Ba="emulator/auth/handler",Ha=encodeURIComponent("fac");function Ka(e,t,n,r,i,a){return Wa.apply(this,arguments)}function Wa(){return Wa=o(i().mark((function e(t,n,r,a,o,s){var u,c,l,f,h,p,v,m,g,y,k,b,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Yt(t.config.authDomain,t,"auth-domain-config-required"),Yt(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:a,v:kt,eventId:o},n instanceof Hr)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",ke(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),c=0,l=Object.entries(s||{});c<l.length;c++)f=d(l[c],2),h=f[0],p=f[1],u[h]=p;for(n instanceof Kr&&(v=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=v.join(",")),t.tenantId&&(u.tid=t.tenantId),m=u,g=0,y=Object.keys(m);g<y.length;g++)k=y[g],void 0===m[k]&&delete m[k];return e.next=10,t._getAppCheckToken();case 10:return b=e.sent,w=b?"#".concat(Ha,"=").concat(encodeURIComponent(b)):"",e.abrupt("return","".concat(Ga(t),"?").concat(xe(m).slice(1)).concat(w));case 13:case"end":return e.stop()}}),e)}))),Wa.apply(this,arguments)}function Ga(e){var t=e.config;return t.emulator?on(t,Ba):"https://".concat(t.authDomain,"/").concat(qa)}var Qa="webStorageSupport",Xa=function(){function e(){Y(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xi,this._completeRedirectFn=ma,this._overrideRedirectResult=da}return Z(e,[{key:"_openPopup",value:function(){var e=o(i().mark((function e(t,n,r,a){var o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zt(null===(o=this.eventManagers[t._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()"),e.next=3,Ka(t,n,r,en(),a);case 3:return s=e.sent,e.abrupt("return",za(t,s,_i()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=o(i().mark((function e(t,n,r,a){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Ka(t,n,r,en(),a);case 4:return Ci(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Zt(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=o(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ma(t);case 2:return n=e.sent,r=new ya(t),n.register("authEvent",(function(e){return Yt(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Qa,{type:Qa},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Qa];void 0!==i&&t(!!i),Gt(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return _a.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ir()||$n()||nr()}}]),e}(),$a=Xa,Ya=function(){function e(t){Y(this,e),this.factorId=t}return Z(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Jt("unexpected MultiFactorSessionType")}}}]),e}(),Ja=function(e){G(n,e);var t=X(n);function n(e){var r;return Y(this,n),(r=t.call(this,"phone")).credential=e,r}return Z(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return fn(e,"POST","/v2/accounts/mfaEnrollment:finalize",ln(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return fn(e,"POST","/v2/accounts/mfaSignIn:finalize",ln(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Ya);(function(){function e(){Y(this,e)}return Z(e,null,[{key:"assertion",value:function(e){return Ja._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Za=function(){function e(){Y(this,e)}return Z(e,null,[{key:"assertionForEnrollment",value:function(e,t){return eo._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return eo._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yt("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,vi(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return a=e.sent,e.abrupt("return",to._fromStartTotpMfaEnrollmentResponse(a,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Za.FACTOR_ID="totp";var eo=function(e){G(n,e);var t=X(n);function n(e,r,i){var a;return Y(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return Z(n,[{key:"_finalizeEnroll",value:function(){var e=o(i().mark((function e(t,n,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yt("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",mi(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=o(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yt(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Qi(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Ya),to=function(){function e(t,n,r,i,a,o,s){Y(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return Z(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(no(e)||no(t))&&(r=!0),r&&(no(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),no(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function no(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var ro="@firebase/auth",io="1.1.0",ao=function(){function e(t){Y(this,e),this.auth=t,this.internalListeners=new Map}return Z(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var oo,so=he("authIdTokenMaxAge")||300,uo=null;oo="Browser",pt(new Ce("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;Yt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:oo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ar(oo)},l=new mr(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),pt(new Ce("auth-internal",(function(e){return function(e){return new ao(e)}(gr(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),xt(ro,io,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(oo)),xt(ro,io,"esm2017");xt("firebase","10.1.0","app");var co,lo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},fo={},ho=ho||{},po=lo||self;function vo(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function mo(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var go="closure_uid_"+(1e9*Math.random()>>>0),yo=0;function ko(e,t,n){return e.call.apply(e.bind,arguments)}function bo(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function wo(e,t,n){return(wo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ko:bo).apply(null,arguments)}function xo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function So(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Eo(){this.s=this.s,this.o=this.o}Eo.prototype.s=!1,Eo.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,go)&&e[go]||(e[go]=++yo))},Eo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var _o=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function To(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Io(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(vo(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Co(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Co.prototype.h=function(){this.defaultPrevented=!0};var No=function(){if(!po.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{po.addEventListener("test",(function(){}),t),po.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function Ao(e){return/^[\s\xa0]*$/.test(e)}function jo(){var e=po.navigator;return e&&(e=e.userAgent)?e:""}function Ro(e){return-1!=jo().indexOf(e)}function Oo(e){return Oo[" "](e),e}Oo[" "]=function(){};var Lo,Po,Do=Ro("Opera"),Mo=Ro("Trident")||Ro("MSIE"),Fo=Ro("Edge"),Uo=Fo||Mo,Vo=Ro("Gecko")&&!(-1!=jo().toLowerCase().indexOf("webkit")&&!Ro("Edge"))&&!(Ro("Trident")||Ro("MSIE"))&&!Ro("Edge"),zo=-1!=jo().toLowerCase().indexOf("webkit")&&!Ro("Edge");function qo(){var e=po.document;return e?e.documentMode:void 0}e:{var Bo="",Ho=function(){var e=jo();return Vo?/rv:([^\);]+)(\)|;)/.exec(e):Fo?/Edge\/([\d\.]+)/.exec(e):Mo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):zo?/WebKit\/(\S+)/.exec(e):Do?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ho&&(Bo=Ho?Ho[1]:""),Mo){var Ko=qo();if(null!=Ko&&Ko>parseFloat(Bo)){Lo=String(Ko);break e}}Lo=Bo}if(po.document&&Mo){var Wo=qo();Po=Wo||(parseInt(Lo,10)||void 0)}else Po=void 0;var Go=Po;function Qo(e,t){if(Co.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Vo){e:{try{Oo(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Xo[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Qo.$.h.call(this)}}So(Qo,Co);var Xo={2:"touch",3:"pen",4:"mouse"};Qo.prototype.h=function(){Qo.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var $o="closure_listenable_"+(1e6*Math.random()|0),Yo=0;function Jo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Yo,this.fa=this.ia=!1}function Zo(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function es(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ts(e){var t={};for(var n in e)t[n]=e[n];return t}var ns="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rs(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ns.length;a++)n=ns[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function is(e){this.src=e,this.g={},this.h=0}function as(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=_o(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Zo(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function os(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}is.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=os(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Jo(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var ss="closure_lm_"+(1e6*Math.random()|0),us={};function cs(e,t,n,r,i){if(r&&r.once)return fs(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)cs(e,t[a],n,r,i);return null}return n=ys(n),e&&e[$o]?e.O(t,n,mo(r)?!!r.capture:!!r,i):ls(e,t,n,!1,r,i)}function ls(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=mo(i)?!!i.capture:!!i,s=ms(e);if(s||(e[ss]=s=new is(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=vs;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)No||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ps(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function fs(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)fs(e,t[a],n,r,i);return null}return n=ys(n),e&&e[$o]?e.P(t,n,mo(r)?!!r.capture:!!r,i):ls(e,t,n,!0,r,i)}function hs(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)hs(e,t[a],n,r,i);else r=mo(r)?!!r.capture:!!r,n=ys(n),e&&e[$o]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=os(a=e.g[t],n,r,i))&&(Zo(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ms(e))&&(t=e.g[t.toString()],e=-1,t&&(e=os(t,n,r,i)),(n=-1<e?t[e]:null)&&ds(n))}function ds(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[$o])as(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ps(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ms(t))?(as(n,e),0==n.h&&(n.src=null,t[ss]=null)):Zo(e)}}}function ps(e){return e in us?us[e]:us[e]="on"+e}function vs(e,t){if(e.fa)e=!0;else{t=new Qo(t,this);var n=e.listener,r=e.la||e.src;e.ia&&ds(e),e=n.call(r,t)}return e}function ms(e){return(e=e[ss])instanceof is?e:null}var gs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ys(e){return"function"===typeof e?e:(e[gs]||(e[gs]=function(t){return e.handleEvent(t)}),e[gs])}function ks(){Eo.call(this),this.i=new is(this),this.S=this,this.J=null}function bs(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Co(t,e);else if(t instanceof Co)t.target=t.target||e;else{var i=t;rs(t=new Co(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ws(o,r,!0,t)&&i}if(i=ws(o=t.g=e,r,!0,t)&&i,i=ws(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ws(o=t.g=n[a],r,!1,t)&&i}function ws(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&as(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}So(ks,Eo),ks.prototype[$o]=!0,ks.prototype.removeEventListener=function(e,t,n,r){hs(this,e,t,n,r)},ks.prototype.N=function(){if(ks.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Zo(n[r]);delete t.g[e],t.h--}}this.J=null},ks.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ks.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var xs=po.JSON.stringify,Ss=function(){function e(t,n){Y(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Z(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Es(){var e=Rs,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _s=function(){function e(){Y(this,e),this.h=this.g=null}return Z(e,[{key:"add",value:function(e,t){var n=Ts.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ts=new Ss((function(){return new Is}),(function(e){return e.reset()})),Is=function(){function e(){Y(this,e),this.next=this.g=this.h=null}return Z(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Cs(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ns(e){po.setTimeout((function(){throw e}),0)}var As,js=!1,Rs=new _s,Os=function(){var e=po.Promise.resolve(void 0);As=function(){e.then(Ls)}},Ls=function(){for(var e;e=Es();){try{e.h.call(e.g)}catch(n){Ns(n)}var t=Ts;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}js=!1};function Ps(e,t){ks.call(this),this.h=e||1,this.g=t||po,this.j=wo(this.qb,this),this.l=Date.now()}function Ds(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ms(e,t,n){if("function"===typeof e)n&&(e=wo(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=wo(e.handleEvent,e)}return 2147483647<Number(t)?-1:po.setTimeout(e,t||0)}function Fs(e){e.g=Ms((function(){e.g=null,e.i&&(e.i=!1,Fs(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}So(Ps,ks),(co=Ps.prototype).ga=!1,co.T=null,co.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),bs(this,"tick"),this.ga&&(Ds(this),this.start()))}},co.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},co.N=function(){Ps.$.N.call(this),Ds(this),delete this.g};var Us=function(e){G(n,e);var t=X(n);function n(e,r){var i;return Y(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Z(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Fs(this)}},{key:"N",value:function(){H(B(n.prototype),"N",this).call(this),this.g&&(po.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Eo);function Vs(e){Eo.call(this),this.h=e,this.g={}}So(Vs,Eo);var zs=[];function qs(e,t,n,r){Array.isArray(n)||(n&&(zs[0]=n.toString()),n=zs);for(var i=0;i<n.length;i++){var a=cs(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Bs(e){es(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ds(e)}),e),e.g={}}function Hs(){this.g=!0}function Ks(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return xs(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Vs.prototype.N=function(){Vs.$.N.call(this),Bs(this)},Vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hs.prototype.Ea=function(){this.g=!1},Hs.prototype.info=function(){};var Ws={},Gs=null;function Qs(){return Gs=Gs||new ks}function Xs(e){Co.call(this,Ws.Ta,e)}function $s(e){var t=Qs();bs(t,new Xs(t))}function Ys(e,t){Co.call(this,Ws.STAT_EVENT,e),this.stat=t}function Js(e){var t=Qs();bs(t,new Ys(t,e))}function Zs(e,t){Co.call(this,Ws.Ua,e),this.size=t}function eu(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return po.setTimeout((function(){e()}),t)}Ws.Ta="serverreachability",So(Xs,Co),Ws.STAT_EVENT="statevent",So(Ys,Co),Ws.Ua="timingevent",So(Zs,Co);var tu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},nu={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ru(){}function iu(e){return e.h||(e.h=e.i())}function au(){}ru.prototype.h=null;var ou,su={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function uu(){Co.call(this,"d")}function cu(){Co.call(this,"c")}function lu(){}function fu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Vs(this),this.P=du,e=Uo?125:void 0,this.V=new Ps(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hu}function hu(){this.i=null,this.g="",this.h=!1}So(uu,Co),So(cu,Co),So(lu,ru),lu.prototype.g=function(){return new XMLHttpRequest},lu.prototype.i=function(){return{}},ou=new lu;var du=45e3,pu={},vu={};function mu(e,t,n){e.L=1,e.v=Pu(Au(t)),e.s=n,e.S=!0,gu(e,null)}function gu(e,t){e.G=Date.now(),wu(e),e.A=Au(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Qu(n.i,"t",r),e.C=0,n=e.l.J,e.h=new hu,e.g=Xc(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Us(wo(e.Pa,e,e.g),e.O)),qs(e.U,e.g,"readystatechange",e.nb),t=e.I?ts(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),$s(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function yu(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function ku(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=bu(e,n))==vu){4==t&&(e.o=4,Js(14),i=!1),Ks(e.j,e.m,null,"[Incomplete Response]");break}if(r==pu){e.o=4,Js(15),Ks(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ks(e.j,e.m,r,null),Tu(e,r)}yu(e)&&r!=vu&&r!=pu&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Js(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),zc(t),t.M=!0,Js(11))):(Ks(e.j,e.m,n,"[Invalid Chunked Response]"),_u(e),Eu(e))}function bu(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?vu:(n=Number(t.substring(n,r)),isNaN(n)?pu:(r+=1)+n>t.length?vu:(t=t.slice(r,r+n),e.C=r+n,t))}function wu(e){e.Y=Date.now()+e.P,xu(e,e.P)}function xu(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=eu(wo(e.lb,e),t)}function Su(e){e.B&&(po.clearTimeout(e.B),e.B=null)}function Eu(e){0==e.l.H||e.J||Hc(e.l,e)}function _u(e){Su(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Ds(e.V),Bs(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Tu(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||tc(n.i,e)))if(!e.K&&tc(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Bc(n),Oc(n)}Vc(n),Js(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=eu(wo(n.ib,n),6e3));if(1>=ec(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Wc(n,11)}else if((e.K||n.g==e)&&Bc(n),!Ao(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(nc(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Lu(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Qc(r,r.J?r.pa:null,r.Y),d.K){rc(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(Su(p),wu(p)),r.g=d}else Uc(r);0<n.j.length&&Pc(n)}else"stop"!=a[0]&&"close"!=a[0]||Wc(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Wc(n,7):Rc(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}$s()}catch(a){}}function Iu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(vo(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(vo(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(vo(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(co=fu.prototype).setTimeout=function(e){this.P=e},co.nb=function(e){e=e.target;var t=this.M;t&&3==Tc(e)?t.l():this.Pa(e)},co.Pa=function(e){try{if(e==this.g)e:{var t=Tc(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Uo||this.g&&(this.h.h||this.g.ja()||Ic(this.g)))){this.J||4!=t||7==n||$s(),Su(this);var r=this.g.da();this.ca=r;t:if(yu(this)){var i=Ic(this.g);e="";var a=i.length,o=4==Tc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){_u(this),Eu(this);var s="";break t}this.h.i=new po.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ao(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Js(12),_u(this),Eu(this);break e}Ks(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tu(this,r)}this.S?(ku(this,t,s),Uo&&this.i&&3==t&&(qs(this.U,this.V,"tick",this.mb),this.V.start())):(Ks(this.j,this.m,s,null),Tu(this,s)),4==t&&_u(this),this.i&&!this.J&&(4==t?Hc(this.l,this):(this.i=!1,wu(this)))}else(function(e){var t={};e=(e.g&&2<=Tc(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Ao(e[n])){var r=Cs(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Js(12)):(this.o=0,Js(13)),_u(this),Eu(this)}}}catch(t){}},co.mb=function(){if(this.g){var e=Tc(this.g),t=this.g.ja();this.C<t.length&&(Su(this),ku(this,e,t),this.i&&4!=e&&wu(this))}},co.cancel=function(){this.J=!0,_u(this)},co.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&($s(),Js(17)),_u(this),this.o=2,Eu(this)):xu(this,this.Y-e)};var Cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nu(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Nu){this.h=e.h,ju(this,e.j),this.s=e.s,this.g=e.g,Ru(this,e.m),this.l=e.l;var t=e.i,n=new Hu;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ou(this,n),this.o=e.o}else e&&(t=String(e).match(Cu))?(this.h=!1,ju(this,t[1]||"",!0),this.s=Du(t[2]||""),this.g=Du(t[3]||"",!0),Ru(this,t[4]),this.l=Du(t[5]||"",!0),Ou(this,t[6]||"",!0),this.o=Du(t[7]||"")):(this.h=!1,this.i=new Hu(null,this.h))}function Au(e){return new Nu(e)}function ju(e,t,n){e.j=n?Du(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ru(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ou(e,t,n){t instanceof Hu?(e.i=t,function(e,t){t&&!e.j&&(Ku(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Wu(this,t),Qu(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Mu(t,qu)),e.i=new Hu(t,e.h))}function Lu(e,t,n){e.i.set(t,n)}function Pu(e){return Lu(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Du(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Mu(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Fu),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Fu(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Nu.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Mu(t,Uu,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Mu(t,Uu,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Mu(n,"/"==n.charAt(0)?zu:Vu,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Mu(n,Bu)),e.join("")};var Uu=/[#\/\?@]/g,Vu=/[#\?:]/g,zu=/[#\?]/g,qu=/[#\?@]/g,Bu=/#/g;function Hu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ku(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Wu(e,t){Ku(e),t=Xu(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Gu(e,t){return Ku(e),t=Xu(e,t),e.g.has(t)}function Qu(e,t,n){Wu(e,t),0<n.length&&(e.i=null,e.g.set(Xu(e,t),To(n)),e.h+=n.length)}function Xu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(co=Hu.prototype).add=function(e,t){Ku(this),this.i=null,e=Xu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},co.forEach=function(e,t){Ku(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},co.ta=function(){Ku(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},co.Z=function(e){Ku(this);var t=[];if("string"===typeof e)Gu(this,e)&&(t=t.concat(this.g.get(Xu(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},co.set=function(e,t){return Ku(this),this.i=null,Gu(this,e=Xu(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},co.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},co.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var $u=Z((function e(t,n){Y(this,e),this.g=t,this.map=n}));function Yu(e){this.l=e||Ju,po.PerformanceNavigationTiming?e=0<(e=po.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(po.g&&po.g.Ka&&po.g.Ka()&&po.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ju=10;function Zu(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ec(e){return e.h?1:e.g?e.g.size:0}function tc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function nc(e,t){e.g?e.g.add(t):e.h=t}function rc(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ic(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=$(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return To(e.i)}Yu.prototype.cancel=function(){if(this.i=ic(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=$(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var ac,oc=function(){function e(){Y(this,e)}return Z(e,[{key:"stringify",value:function(e){return po.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return po.JSON.parse(e,void 0)}}]),e}();function sc(){this.g=new oc}function uc(e,t,n){var r=n||"";try{Iu(e,(function(e,n){var i=e;mo(e)&&(i=xs(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function cc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function lc(e){this.l=e.fc||null,this.j=e.ob||!1}function fc(e,t){ks.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=hc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}So(lc,ru),lc.prototype.g=function(){return new fc(this.l,this.j)},lc.prototype.i=(ac={},function(){return ac}),So(fc,ks);var hc=0;function dc(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function pc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,vc(e)}function vc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(co=fc.prototype).open=function(e,t){if(this.readyState!=hc)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,vc(this)},co.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||po).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},co.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pc(this)),this.readyState=hc},co.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,vc(this)),this.g&&(this.readyState=3,vc(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof po.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dc(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},co.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?pc(this):vc(this),3==this.readyState&&dc(this)}},co.Za=function(e){this.g&&(this.response=this.responseText=e,pc(this))},co.Ya=function(e){this.g&&(this.response=e,pc(this))},co.ka=function(){this.g&&pc(this)},co.setRequestHeader=function(e,t){this.v.append(e,t)},co.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},co.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(fc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var mc=po.JSON.parse;function gc(e){ks.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=yc,this.L=this.M=!1}So(gc,ks);var yc="",kc=/^https?$/i,bc=["POST","PUT"];function wc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,xc(e),Ec(e)}function xc(e){e.F||(e.F=!0,bs(e,"complete"),bs(e,"error"))}function Sc(e){if(e.h&&"undefined"!=typeof ho&&(!e.C[1]||4!=Tc(e)||2!=e.da()))if(e.v&&4==Tc(e))Ms(e.La,0,e);else if(bs(e,"readystatechange"),4==Tc(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Cu)[1]||null;!a&&po.self&&po.self.location&&(a=po.self.location.protocol.slice(0,-1)),i=!kc.test(a?a.toLowerCase():"")}t=i}if(t)bs(e,"complete"),bs(e,"success");else{e.m=6;try{var o=2<Tc(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",xc(e)}}finally{Ec(e)}}}function Ec(e,t){if(e.g){_c(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||bs(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function _c(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(po.clearTimeout(e.A),e.A=null)}function Tc(e){return e.g?e.g.readyState:0}function Ic(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case yc:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ll){return null}}function Cc(e){var t="";return es(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Nc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Cc(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Lu(e,t,n))}function Ac(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function jc(e){this.Ga=0,this.j=[],this.l=new Hs,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ac("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ac("baseRetryDelayMs",5e3,e),this.hb=Ac("retryDelaySeedMs",1e4,e),this.eb=Ac("forwardChannelMaxRetries",2,e),this.xa=Ac("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Yu(e&&e.concurrentRequestLimit),this.Ja=new sc,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Rc(e){if(Lc(e),3==e.H){var t=e.W++,n=Au(e.I);if(Lu(n,"SID",e.K),Lu(n,"RID",t),Lu(n,"TYPE","terminate"),Mc(e,n),(t=new fu(e,e.l,t)).L=2,t.v=Pu(Au(n)),n=!1,po.navigator&&po.navigator.sendBeacon)try{n=po.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&po.Image&&((new Image).src=t.v,n=!0),n||(t.g=Xc(t.l,null),t.g.ha(t.v)),t.G=Date.now(),wu(t)}Gc(e)}function Oc(e){e.g&&(zc(e),e.g.cancel(),e.g=null)}function Lc(e){Oc(e),e.u&&(po.clearTimeout(e.u),e.u=null),Bc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&po.clearTimeout(e.m),e.m=null)}function Pc(e){if(!Zu(e.i)&&!e.m){e.m=!0;var t=e.Na;As||Os(),js||(As(),js=!0),Rs.add(t,e),e.C=0}}function Dc(e,t){var n;n=t?t.m:e.W++;var r=Au(e.I);Lu(r,"SID",e.K),Lu(r,"RID",n),Lu(r,"AID",e.V),Mc(e,r),e.o&&e.s&&Nc(r,e.o,e.s),n=new fu(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Fc(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),nc(e.i,n),mu(n,r,t)}function Mc(e,t){e.na&&es(e.na,(function(e,n){Lu(t,n,e)})),e.h&&Iu({},(function(e,n){Lu(t,n,e)}))}function Fc(e,t,n){n=Math.min(e.j.length,n);var r=e.h?wo(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{uc(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Uc(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;As||Os(),js||(As(),js=!0),Rs.add(t,e),e.A=0}}function Vc(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=eu(wo(e.Ma,e),Kc(e,e.A)),e.A++,!0)}function zc(e){null!=e.B&&(po.clearTimeout(e.B),e.B=null)}function qc(e){e.g=new fu(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Au(e.wa);Lu(t,"RID","rpc"),Lu(t,"SID",e.K),Lu(t,"AID",e.V),Lu(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Lu(t,"TO",e.qa),Lu(t,"TYPE","xmlhttp"),Mc(e,t),e.o&&e.s&&Nc(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Pu(Au(t)),n.s=null,n.S=!0,gu(n,e)}function Bc(e){null!=e.v&&(po.clearTimeout(e.v),e.v=null)}function Hc(e,t){var n=null;if(e.g==t){Bc(e),zc(e),e.g=null;var r=2}else{if(!tc(e.i,t))return;n=t.F,rc(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;bs(r=Qs(),new Zs(r,n)),Pc(e)}else Uc(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(ec(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=eu(wo(e.Na,e,t),Kc(e,e.C)),e.C++,!0))}(e,t)||2==r&&Vc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Wc(e,5);break;case 4:Wc(e,10);break;case 3:Wc(e,6);break;default:Wc(e,2)}}function Kc(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Wc(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=wo(e.pb,e);n||(n=new Nu("//www.google.com/images/cleardot.gif"),po.location&&"http"==po.location.protocol||ju(n,"https"),Pu(n)),function(e,t){var n=new Hs;if(po.Image){var r=new Image;r.onload=xo(cc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=xo(cc,n,r,"TestLoadImage: error",!1,t),r.onabort=xo(cc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=xo(cc,n,r,"TestLoadImage: timeout",!1,t),po.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Js(2);e.H=0,e.h&&e.h.za(t),Gc(e),Lc(e)}function Gc(e){if(e.H=0,e.ma=[],e.h){var t=ic(e.i);0==t.length&&0==e.j.length||(Io(e.ma,t),Io(e.ma,e.j),e.i.i.length=0,To(e.j),e.j.length=0),e.h.ya()}}function Qc(e,t,n){var r=n instanceof Nu?Au(n):new Nu(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Ru(r,r.m);else{var i=po.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Nu(null);r&&ju(a,r),t&&(a.g=t),i&&Ru(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Lu(r,n,t),Lu(r,"VER",e.ra),Mc(e,r),r}function Xc(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new gc(new lc({ob:!0})):new gc(e.va)).Oa(e.J),t}function $c(){}function Yc(){if(Mo&&!(10<=Number(Go)))throw Error("Environmental error: no available transport.")}function Jc(e,t){ks.call(this),this.g=new jc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ao(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ao(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new tl(this)}function Zc(e){uu.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function el(){cu.call(this),this.status=1}function tl(e){this.g=e}function nl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function rl(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function il(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(co=gc.prototype).Oa=function(e){this.M=e},co.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ou.g(),this.C=this.u?iu(this.u):iu(ou),this.g.onreadystatechange=wo(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void wc(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=$(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=po.FormData&&e instanceof po.FormData,!(0<=_o(bc,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=$(n);try{for(c.s();!(u=c.n()).done;){var l=d(u.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(p){c.e(p)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_c(this),0<this.B&&((this.L=function(e){return Mo&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wo(this.ua,this)):this.A=Ms(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){wc(this,s)}},co.ua=function(){"undefined"!=typeof ho&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bs(this,"timeout"),this.abort(8))},co.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,bs(this,"complete"),bs(this,"abort"),Ec(this))},co.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ec(this,!0)),gc.$.N.call(this)},co.La=function(){this.s||(this.G||this.v||this.l?Sc(this):this.kb())},co.kb=function(){Sc(this)},co.isActive=function(){return!!this.g},co.da=function(){try{return 2<Tc(this)?this.g.status:-1}catch(ac){return-1}},co.ja=function(){try{return this.g?this.g.responseText:""}catch(ac){return""}},co.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),mc(t)}},co.Ia=function(){return this.m},co.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(co=jc.prototype).ra=8,co.H=1,co.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new fu(this,this.l,e),n=this.s;if(this.U&&(n?rs(n=ts(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Fc(this,t,r),Lu(i=Au(this.I),"RID",e),Lu(i,"CVER",22),this.F&&Lu(i,"X-HTTP-Session-Id",this.F),Mc(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Cc(n)))+"&"+r:this.o&&Nc(i,this.o,n)),nc(this.i,t),this.bb&&Lu(i,"TYPE","init"),this.P?(Lu(i,"$req",r),Lu(i,"SID","null"),t.aa=!0,mu(t,i,null)):mu(t,i,r),this.H=2}}else 3==this.H&&(e?Dc(this,e):0==this.j.length||Zu(this.i)||Dc(this))},co.Ma=function(){if(this.u=null,qc(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=eu(wo(this.jb,this),e)}},co.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Js(10),Oc(this),qc(this))},co.ib=function(){null!=this.v&&(this.v=null,Oc(this),Vc(this),Js(19))},co.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Js(2)):(this.l.info("Failed to ping google.com"),Js(1))},co.isActive=function(){return!!this.h&&this.h.isActive(this)},(co=$c.prototype).Ba=function(){},co.Aa=function(){},co.za=function(){},co.ya=function(){},co.isActive=function(){return!0},co.Va=function(){},Yc.prototype.g=function(e,t){return new Jc(e,t)},So(Jc,ks),Jc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Js(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Qc(e,null,e.Y),Pc(e)},Jc.prototype.close=function(){Rc(this.g)},Jc.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=xs(e),e=n);t.j.push(new $u(t.fb++,e)),3==t.H&&Pc(t)},Jc.prototype.N=function(){this.g.h=null,delete this.j,Rc(this.g),delete this.g,Jc.$.N.call(this)},So(Zc,uu),So(el,cu),So(tl,$c),tl.prototype.Ba=function(){bs(this.g,"a")},tl.prototype.Aa=function(e){bs(this.g,new Zc(e))},tl.prototype.za=function(e){bs(this.g,new el)},tl.prototype.ya=function(){bs(this.g,"b")},So(nl,(function(){this.blockSize=-1})),nl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},nl.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)rl(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){rl(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){rl(this,r),i=0;break}}this.h=i,this.i+=t},nl.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var al={};function ol(e){return-128<=e&&128>e?function(e,t){var n=al;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new il([0|e],0>e?-1:0)})):new il([0|e],0>e?-1:0)}function sl(e){if(isNaN(e)||!isFinite(e))return cl;if(0>e)return pl(sl(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=ul;return new il(t,0)}var ul=4294967296,cl=ol(0),ll=ol(1),fl=ol(16777216);function hl(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function dl(e){return-1==e.h}function pl(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new il(n,~e.h).add(ll)}function vl(e,t){return e.add(pl(t))}function ml(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function gl(e,t){this.g=e,this.h=t}function yl(e,t){if(hl(t))throw Error("division by zero");if(hl(e))return new gl(cl,cl);if(dl(e))return t=yl(pl(e),t),new gl(pl(t.g),pl(t.h));if(dl(t))return t=yl(e,pl(t)),new gl(pl(t.g),t.h);if(30<e.g.length){if(dl(e)||dl(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ll,r=t;0>=r.X(e);)n=kl(n),r=kl(r);var i=bl(n,1),a=bl(r,1);for(r=bl(r,2),n=bl(n,2);!hl(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=bl(r,1),n=bl(n,1)}return t=vl(e,i.R(t)),new gl(i,t)}for(i=cl;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=sl(n)).R(t);dl(o)||0<o.X(e);)o=(a=sl(n-=r)).R(t);hl(a)&&(a=ll),i=i.add(a),e=vl(e,o)}return new gl(i,e)}function kl(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new il(n,e.h)}function bl(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new il(i,e.h)}(co=il.prototype).ea=function(){if(dl(this))return-pl(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:ul+r)*t,t*=ul}return e},co.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(hl(this))return"0";if(dl(this))return"-"+pl(this).toString(e);for(var t=sl(Math.pow(e,6)),n=this,r="";;){var i=yl(n,t).g,a=((0<(n=vl(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(hl(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},co.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},co.X=function(e){return dl(e=vl(this,e))?-1:hl(e)?0:1},co.abs=function(){return dl(this)?pl(this):this},co.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new il(n,-2147483648&n[n.length-1]?-1:0)},co.R=function(e){if(hl(this)||hl(e))return cl;if(dl(this))return dl(e)?pl(this).R(pl(e)):pl(pl(this).R(e));if(dl(e))return pl(this.R(pl(e)));if(0>this.X(fl)&&0>e.X(fl))return sl(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,ml(n,2*r+2*i),n[2*r+2*i+1]+=a*u,ml(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,ml(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,ml(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new il(n,0)},co.gb=function(e){return yl(this,e).h},co.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new il(n,this.h&e.h)},co.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new il(n,this.h|e.h)},co.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new il(n,this.h^e.h)},Yc.prototype.createWebChannel=Yc.prototype.g,Jc.prototype.send=Jc.prototype.u,Jc.prototype.open=Jc.prototype.m,Jc.prototype.close=Jc.prototype.close,tu.NO_ERROR=0,tu.TIMEOUT=8,tu.HTTP_ERROR=6,nu.COMPLETE="complete",au.EventType=su,su.OPEN="a",su.CLOSE="b",su.ERROR="c",su.MESSAGE="d",ks.prototype.listen=ks.prototype.O,gc.prototype.listenOnce=gc.prototype.P,gc.prototype.getLastError=gc.prototype.Sa,gc.prototype.getLastErrorCode=gc.prototype.Ia,gc.prototype.getStatus=gc.prototype.da,gc.prototype.getResponseJson=gc.prototype.Wa,gc.prototype.getResponseText=gc.prototype.ja,gc.prototype.send=gc.prototype.ha,gc.prototype.setWithCredentials=gc.prototype.Oa,nl.prototype.digest=nl.prototype.l,nl.prototype.reset=nl.prototype.reset,nl.prototype.update=nl.prototype.j,il.prototype.add=il.prototype.add,il.prototype.multiply=il.prototype.R,il.prototype.modulo=il.prototype.gb,il.prototype.compare=il.prototype.X,il.prototype.toNumber=il.prototype.ea,il.prototype.toString=il.prototype.toString,il.prototype.getBits=il.prototype.D,il.fromNumber=sl,il.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return pl(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=sl(Math.pow(n,8)),i=cl,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=sl(Math.pow(n,o)),i=i.R(o).add(sl(s))):i=(i=i.R(r)).add(sl(s))}return i};var wl=fo.createWebChannelTransport=function(){return new Yc},xl=fo.getStatEventTarget=function(){return Qs()},Sl=fo.ErrorCode=tu,El=fo.EventType=nu,_l=fo.Event=Ws,Tl=fo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Il=fo.FetchXmlHttpFactory=lc,Cl=fo.WebChannel=au,Nl=fo.XhrIo=gc,Al=fo.Md5=nl,jl=fo.Integer=il,Rl="@firebase/firestore",Ol=function(){function e(t){Y(this,e),this.uid=t}return Z(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Ol.UNAUTHENTICATED=new Ol(null),Ol.GOOGLE_CREDENTIALS=new Ol("google-credentials-uid"),Ol.FIRST_PARTY=new Ol("first-party-uid"),Ol.MOCK_USER=new Ol("mock-user");var Ll="10.1.0",Pl=new Ue("@firebase/firestore");function Dl(){return Pl.logLevel}function Ml(e){if(Pl.logLevel<=Re.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Vl);Pl.debug.apply(Pl,["Firestore (".concat(Ll,"): ").concat(e)].concat(ee(i)))}}function Fl(e){if(Pl.logLevel<=Re.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Vl);Pl.error.apply(Pl,["Firestore (".concat(Ll,"): ").concat(e)].concat(ee(i)))}}function Ul(e){if(Pl.logLevel<=Re.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Vl);Pl.warn.apply(Pl,["Firestore (".concat(Ll,"): ").concat(e)].concat(ee(i)))}}function Vl(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function zl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Ll,") INTERNAL ASSERTION FAILED: ")+e;throw Fl(t),new Error(t)}function ql(e,t){e||zl()}function Bl(e,t){return e}var Hl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Kl=function(e){G(n,e);var t=X(n);function n(e,r){var i;return Y(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Z(n)}(me),Wl=Z((function e(){var t=this;Y(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Gl=Z((function e(t,n){Y(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ql=function(){function e(){Y(this,e)}return Z(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ol.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Xl=function(){function e(t){Y(this,e),this.token=t,this.changeListener=null}return Z(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),$l=function(){function e(t){Y(this,e),this.t=t,this.currentUser=Ol.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Z(e,[{key:"start",value:function(e,t){var n=this,r=this.i,a=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},s=new Wl;this.o=function(){n.i++,n.currentUser=n.u(),s.resolve(),s=new Wl,e.enqueueRetryable((function(){return a(n.currentUser)}))};var u=function(){var t=s;e.enqueueRetryable(o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,a(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},c=function(e){Ml("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),u()};this.t.onInit((function(e){return c(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?c(e):(Ml("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wl)}}),0),u()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ml("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ql("string"==typeof n.accessToken),new Gl(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ql(null===e||"string"==typeof e),new Ol(e)}}]),e}(),Yl=function(){function e(t,n,r){Y(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Ol.FIRST_PARTY,this.I=new Map}return Z(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),Jl=function(){function e(t,n,r){Y(this,e),this.l=t,this.h=n,this.P=r}return Z(e,[{key:"getToken",value:function(){return Promise.resolve(new Yl(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ol.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Zl=Z((function e(t){Y(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),ef=function(){function e(t){Y(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return Z(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ml("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,Ml("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ml("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):Ml("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ql("string"==typeof t.token),e.R=t.token,new Zl(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function tf(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var nf=function(){function e(){Y(this,e)}return Z(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=tf(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function rf(e,t){return e<t?-1:e>t?1:0}function af(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var of=function(){function e(t,n){if(Y(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Kl(Hl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Kl(Hl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Kl(Hl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Kl(Hl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Z(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?rf(this.nanoseconds,e.nanoseconds):rf(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),sf=function(){function e(t){Y(this,e),this.timestamp=t}return Z(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new of(0,0))}},{key:"max",value:function(){return new e(new of(253402300799,999999999))}}]),e}(),uf=function(){function e(t,n,r){Y(this,e),void 0===n?n=0:n>t.length&&zl(),void 0===r?r=t.length-n:r>t.length-n&&zl(),this.segments=t,this.offset=n,this.len=r}return Z(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),cf=function(e){G(n,e);var t=X(n);function n(){return Y(this,n),t.apply(this,arguments)}return Z(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Kl(Hl.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,ee(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(uf),lf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ff=function(e){G(n,e);var t=X(n);function n(){return Y(this,n),t.apply(this,arguments)}return Z(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return lf.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Kl(Hl.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Kl(Hl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Kl(Hl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Kl(Hl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(uf),hf=function(){function e(t){Y(this,e),this.path=t}return Z(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===cf.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(cf.fromString(t))}},{key:"fromName",value:function(t){return new e(cf.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(cf.emptyPath())}},{key:"comparator",value:function(e,t){return cf.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new cf(t.slice()))}}]),e}(),df=Z((function e(t,n,r,i){Y(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));df.UNKNOWN_ID=-1;function pf(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=sf.fromTimestamp(1e9===r?new of(n+1,0):new of(n,r));return new mf(i,hf.empty(),t)}function vf(e){return new mf(e.readTime,e.key,-1)}var mf=function(){function e(t,n,r){Y(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Z(e,null,[{key:"min",value:function(){return new e(sf.min(),hf.empty(),-1)}},{key:"max",value:function(){return new e(sf.max(),hf.empty(),-1)}}]),e}();function gf(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=hf.comparator(e.documentKey,t.documentKey))?n:rf(e.largestBatchId,t.largestBatchId)}var yf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kf=function(){function e(){Y(this,e),this.onCommittedListeners=[]}return Z(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function bf(e){return wf.apply(this,arguments)}function wf(){return(wf=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Hl.FAILED_PRECONDITION&&t.message===yf){e.next=2;break}throw t;case 2:Ml("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xf=function(){function e(t){var n=this;Y(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Z(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&zl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=$(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function Sf(e){return"IndexedDbTransactionError"===e.name}var Ef=function(){function e(t,n){var r=this;Y(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return Z(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function _f(e){return null==e}function Tf(e){return 0===e&&1/e==-1/0}function If(e){return"number"==typeof e&&Number.isInteger(e)&&!Tf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Ef.ae=-1;var Cf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Nf=([].concat(ee(Cf),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),Af=Nf;[].concat(Af,["indexConfiguration","indexState","indexEntries"]);function jf(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Rf(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Of(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Lf=function(){function e(t,n){Y(this,e),this.comparator=t,this.root=n||Df.EMPTY}return Z(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Df.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Df.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Pf(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Pf(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Pf(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Pf(this.root,e,this.comparator,!0)}}]),e}(),Pf=function(){function e(t,n,r,i){Y(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Z(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Df=function(){function e(t,n,r,i,a){Y(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Z(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw zl();if(this.right.isRed())throw zl();var e=this.left.check();if(e!==this.right.check())throw zl();return e+(this.isRed()?0:1)}}]),e}();Df.EMPTY=null,Df.RED=!0,Df.BLACK=!1,Df.EMPTY=new(function(){function e(){Y(this,e),this.size=0}return Z(e,[{key:"key",get:function(){throw zl()}},{key:"value",get:function(){throw zl()}},{key:"color",get:function(){throw zl()}},{key:"left",get:function(){throw zl()}},{key:"right",get:function(){throw zl()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Df(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Mf=function(){function e(t){Y(this,e),this.comparator=t,this.data=new Lf(this.comparator)}return Z(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Ff(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Ff(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Ff=function(){function e(t){Y(this,e),this.iter=t}return Z(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Uf=function(){function e(t){Y(this,e),this.fields=t,t.sort(ff.comparator)}return Z(e,[{key:"unionWith",value:function(t){var n,r=new Mf(ff.comparator),i=$(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=$(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=$(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return af(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Vf=function(e){G(n,e);var t=X(n);function n(){var e;return Y(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return Z(n)}(ne(Error));var zf=function(e){function t(e){Y(this,t),this.binaryString=e}return Z(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return rf(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Vf("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();zf.EMPTY_BYTE_STRING=new zf("");var qf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bf(e){if(ql(!!e),"string"==typeof e){var t=0,n=qf.exec(e);if(ql(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Hf(e.seconds),nanos:Hf(e.nanos)}}function Hf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Kf(e){return"string"==typeof e?zf.fromBase64String(e):zf.fromUint8Array(e)}function Wf(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Gf(e){var t=e.mapValue.fields.__previous_value__;return Wf(t)?Gf(t):t}function Qf(e){var t=Bf(e.mapValue.fields.__local_write_time__.timestampValue);return new of(t.seconds,t.nanos)}var Xf=Z((function e(t,n,r,i,a,o,s,u,c){Y(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),$f=function(){function e(t,n){Y(this,e),this.projectId=t,this.database=n||"(default)"}return Z(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Yf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Jf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Wf(e)?4:fh(e)?9007199254740991:10:zl()}function Zf(e,t){if(e===t)return!0;var n=Jf(e);if(n!==Jf(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Qf(e).isEqual(Qf(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Bf(e.timestampValue),r=Bf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Kf(e.bytesValue).isEqual(Kf(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Hf(e.geoPointValue.latitude)===Hf(t.geoPointValue.latitude)&&Hf(e.geoPointValue.longitude)===Hf(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Hf(e.integerValue)===Hf(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Hf(e.doubleValue),r=Hf(t.doubleValue);return n===r?Tf(n)===Tf(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return af(e.arrayValue.values||[],t.arrayValue.values||[],Zf);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(jf(n)!==jf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Zf(n[i],r[i])))return!1;return!0}(e,t);default:return zl()}}function eh(e,t){return void 0!==(e.values||[]).find((function(e){return Zf(e,t)}))}function th(e,t){if(e===t)return 0;var n=Jf(e),r=Jf(t);if(n!==r)return rf(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rf(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Hf(e.integerValue||e.doubleValue),r=Hf(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return nh(e.timestampValue,t.timestampValue);case 4:return nh(Qf(e),Qf(t));case 5:return rf(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Kf(e),r=Kf(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=rf(n[i],r[i]);if(0!==a)return a}return rf(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=rf(Hf(e.latitude),Hf(t.latitude));return 0!==n?n:rf(Hf(e.longitude),Hf(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=th(n[i],r[i]);if(a)return a}return rf(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Yf.mapValue&&t===Yf.mapValue)return 0;if(e===Yf.mapValue)return 1;if(t===Yf.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=rf(r[o],a[o]);if(0!==s)return s;var u=th(n[r[o]],i[a[o]]);if(0!==u)return u}return rf(r.length,a.length)}(e.mapValue,t.mapValue);default:throw zl()}}function nh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return rf(e,t);var n=Bf(e),r=Bf(t),i=rf(n.seconds,r.seconds);return 0!==i?i:rf(n.nanos,r.nanos)}function rh(e){return ih(e)}function ih(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Bf(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Kf(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return hf.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=$(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ih(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=$(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ih(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):zl()}function ah(e){return!!e&&"integerValue"in e}function oh(e){return!!e&&"arrayValue"in e}function sh(e){return!!e&&"nullValue"in e}function uh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ch(e){return!!e&&"mapValue"in e}function lh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Rf(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=lh(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=lh(e.arrayValue.values[r]);return n}return Object.assign({},e)}function fh(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var hh=function(){function e(t){Y(this,e),this.value=t}return Z(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ch(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lh(t)}},{key:"setAll",value:function(e){var t=this,n=ff.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=lh(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ch(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Zf(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ch(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Rf(t,(function(t,n){return e[t]=n}));var r,i=$(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(lh(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function dh(e){var t=[];return Rf(e.fields,(function(e,n){var r=new ff([e]);if(ch(n)){var i=dh(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=$(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Uf(t)}var ph=function(){function e(t,n,r,i,a,o,s){Y(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return Z(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(sf.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=hh.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=hh.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=sf.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,sf.min(),sf.min(),sf.min(),hh.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,sf.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,sf.min(),sf.min(),hh.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,sf.min(),sf.min(),hh.empty(),2)}}]),e}(),vh=Z((function e(t,n){Y(this,e),this.position=t,this.inclusive=n}));function mh(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?hf.comparator(hf.fromName(o.referenceValue),n.key):th(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function gh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Zf(e.position[n],t.position[n]))return!1;return!0}var yh=Z((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Y(this,e),this.field=t,this.dir=n}));function kh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var bh=Z((function e(){Y(this,e)})),wh=function(e){G(n,e);var t=X(n);function n(e,r,i){var a;return Y(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Z(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(th(t,this.value)):null!==t&&Jf(this.value)===Jf(t)&&this.matchesComparison(th(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zl()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Nh(e,t,r):"array-contains"===t?new Oh(e,r):"in"===t?new Lh(e,r):"not-in"===t?new Ph(e,r):"array-contains-any"===t?new Dh(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Ah(e,n):new jh(e,n)}}]),n}(bh),xh=function(e){G(n,e);var t=X(n);function n(e,r){var i;return Y(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return Z(n,[{key:"matches",value:function(e){return Sh(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.le((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"le",value:function(e){var t,n=$(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(bh);function Sh(e){return"and"===e.op}function Eh(e){return _h(e)&&Sh(e)}function _h(e){var t,n=$(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof xh)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Th(e){if(e instanceof wh)return e.field.canonicalString()+e.op.toString()+rh(e.value);if(Eh(e))return e.filters.map((function(e){return Th(e)})).join(",");var t=e.filters.map((function(e){return Th(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Ih(e,t){return e instanceof wh?function(e,t){return t instanceof wh&&e.op===t.op&&e.field.isEqual(t.field)&&Zf(e.value,t.value)}(e,t):e instanceof xh?function(e,t){return t instanceof xh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Ih(n,t.filters[r])}),!0)}(e,t):void zl()}function Ch(e){return e instanceof wh?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(rh(e.value))}(e):e instanceof xh?function(e){return e.op.toString()+" {"+e.getFilters().map(Ch).join(" ,")+"}"}(e):"Filter"}var Nh=function(e){G(n,e);var t=X(n);function n(e,r,i){var a;return Y(this,n),(a=t.call(this,e,r,i)).key=hf.fromName(i.referenceValue),a}return Z(n,[{key:"matches",value:function(e){var t=hf.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(wh),Ah=function(e){G(n,e);var t=X(n);function n(e,r){var i;return Y(this,n),(i=t.call(this,e,"in",r)).keys=Rh("in",r),i}return Z(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(wh),jh=function(e){G(n,e);var t=X(n);function n(e,r){var i;return Y(this,n),(i=t.call(this,e,"not-in",r)).keys=Rh("not-in",r),i}return Z(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(wh);function Rh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return hf.fromName(e.referenceValue)}))}var Oh=function(e){G(n,e);var t=X(n);function n(e,r){return Y(this,n),t.call(this,e,"array-contains",r)}return Z(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return oh(t)&&eh(t.arrayValue,this.value)}}]),n}(wh),Lh=function(e){G(n,e);var t=X(n);function n(e,r){return Y(this,n),t.call(this,e,"in",r)}return Z(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&eh(this.value.arrayValue,t)}}]),n}(wh),Ph=function(e){G(n,e);var t=X(n);function n(e,r){return Y(this,n),t.call(this,e,"not-in",r)}return Z(n,[{key:"matches",value:function(e){if(eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!eh(this.value.arrayValue,t)}}]),n}(wh),Dh=function(e){G(n,e);var t=X(n);function n(e,r){return Y(this,n),t.call(this,e,"array-contains-any",r)}return Z(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!oh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return eh(t.value.arrayValue,e)}))}}]),n}(wh),Mh=Z((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Y(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.he=null}));function Fh(e){return new Mh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Uh(e){var t=Bl(e);if(null===t.he){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Th(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),_f(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return rh(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return rh(e)})).join(",")),t.he=n}return t.he}function Vh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!kh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Ih(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gh(e.startAt,t.startAt)&&gh(e.endAt,t.endAt)}function zh(e){return hf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var qh=Z((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Y(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.Pe=null,this.Ie=null,this.startAt,this.endAt}));function Bh(e,t,n,r,i,a,o,s){return new qh(e,t,n,r,i,a,o,s)}function Hh(e){return new qh(e)}function Kh(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Wh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Gh(e){var t,n=$(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Qh(e){return null!==e.collectionGroup}function Xh(e){var t=Bl(e);if(null===t.Pe){t.Pe=[];var n=Gh(t),r=Wh(t);if(null!==n&&null===r)n.isKeyField()||t.Pe.push(new yh(n)),t.Pe.push(new yh(ff.keyField(),"asc"));else{var i,a=!1,o=$(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.Pe.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new yh(ff.keyField(),u))}}}return t.Pe}function $h(e){var t=Bl(e);if(!t.Ie)if("F"===t.limitType)t.Ie=Fh(t.path,t.collectionGroup,Xh(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=$(Xh(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new yh(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new vh(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new vh(t.startAt.position,t.startAt.inclusive):null;t.Ie=Fh(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.Ie}function Yh(e,t,n){return new qh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jh(e,t){return Vh($h(e),$h(t))&&e.limitType===t.limitType}function Zh(e){return"".concat(Uh($h(e)),"|lt:").concat(e.limitType)}function ed(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Ch(e)})).join(", "),"]")),_f(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return rh(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return rh(e)})).join(",")),"Target(".concat(t,")")}($h(e)),"; limitType=").concat(e.limitType,")")}function td(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):hf.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=$(Xh(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=$(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=mh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Xh(e),t))&&!(e.endAt&&!function(e,t,n){var r=mh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Xh(e),t))}(e,t)}function nd(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function rd(e){return function(t,n){var r,i=!1,a=$(Xh(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=id(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function id(e,t,n){var r=e.field.isKeyField()?hf.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?th(r,i):zl()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return zl()}}var ad=function(){function e(t,n){Y(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Z(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=$(n);try{for(i.s();!(r=i.n()).done;){var a=d(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Rf(this.inner,(function(t,n){var r,i=$(n);try{for(i.s();!(r=i.n()).done;){var a=d(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Of(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),od=new Lf(hf.comparator);function sd(){return od}var ud=new Lf(hf.comparator);function cd(){for(var e=ud,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function ld(e){var t=ud;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function fd(){return dd()}function hd(){return dd()}function dd(){return new ad((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var pd=new Lf(hf.comparator),vd=new Mf(hf.comparator);function md(){for(var e=vd,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var gd=new Mf(rf);function yd(){return gd}function kd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tf(t)?"-0":t}}function bd(e){return{integerValue:""+e}}function wd(e,t){return If(t)?bd(t):kd(e,t)}var xd=Z((function e(){Y(this,e),this._=void 0}));function Sd(e,t,n){return e instanceof Td?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Wf(t)&&(t=Gf(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Id?Cd(e,t):e instanceof Nd?Ad(e,t):function(e,t){var n=_d(e,t),r=Rd(n)+Rd(e.Te);return ah(n)&&ah(e.Te)?bd(r):kd(e.serializer,r)}(e,t)}function Ed(e,t,n){return e instanceof Id?Cd(e,t):e instanceof Nd?Ad(e,t):n}function _d(e,t){return e instanceof jd?function(e){return ah(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var Td=function(e){G(n,e);var t=X(n);function n(){return Y(this,n),t.apply(this,arguments)}return Z(n)}(xd),Id=function(e){G(n,e);var t=X(n);function n(e){var r;return Y(this,n),(r=t.call(this)).elements=e,r}return Z(n)}(xd);function Cd(e,t){var n,r=Od(t),i=$(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Zf(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Nd=function(e){G(n,e);var t=X(n);function n(e){var r;return Y(this,n),(r=t.call(this)).elements=e,r}return Z(n)}(xd);function Ad(e,t){var n,r=Od(t),i=$(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Zf(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var jd=function(e){G(n,e);var t=X(n);function n(e,r){var i;return Y(this,n),(i=t.call(this)).serializer=e,i.Te=r,i}return Z(n)}(xd);function Rd(e){return Hf(e.integerValue||e.doubleValue)}function Od(e){return oh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ld=Z((function e(t,n){Y(this,e),this.field=t,this.transform=n}));var Pd=Z((function e(t,n){Y(this,e),this.version=t,this.transformResults=n})),Dd=function(){function e(t,n){Y(this,e),this.updateTime=t,this.exists=n}return Z(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Md(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Fd=Z((function e(){Y(this,e)}));function Ud(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Yd(e.key,Dd.none()):new Hd(e.key,e.data,Dd.none());var n,r=e.data,i=hh.empty(),a=new Mf(ff.comparator),o=$(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new Kd(e.key,i,new Uf(a.toArray()),Dd.none())}function Vd(e,t,n){e instanceof Hd?function(e,t,n){var r=e.value.clone(),i=Gd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Kd?function(e,t,n){if(Md(e.precondition,t)){var r=Gd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Wd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function zd(e,t,n,r){return e instanceof Hd?function(e,t,n,r){if(!Md(e.precondition,t))return n;var i=e.value.clone(),a=Qd(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Kd?function(e,t,n,r){if(!Md(e.precondition,t))return n;var i=Qd(e.fieldTransforms,r,t),a=t.data;return a.setAll(Wd(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Md(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function qd(e,t){var n,r=null,i=$(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=_d(a.transform,o||null);null!=s&&(null===r&&(r=hh.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Bd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&af(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Id&&t instanceof Id||e instanceof Nd&&t instanceof Nd?af(e.elements,t.elements,Zf):e instanceof jd&&t instanceof jd?Zf(e.Te,t.Te):e instanceof Td&&t instanceof Td}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Hd=function(e){G(n,e);var t=X(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Y(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Z(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Fd),Kd=function(e){G(n,e);var t=X(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Y(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Z(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Fd);function Wd(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Gd(e,t,n){var r=new Map;ql(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Ed(o,s,n[i]))}return r}function Qd(e,t,n){var r,i=new Map,a=$(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Sd(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Xd,$d,Yd=function(e){G(n,e);var t=X(n);function n(e,r){var i;return Y(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Z(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Fd),Jd=function(e){G(n,e);var t=X(n);function n(e,r){var i;return Y(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Z(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Fd),Zd=function(){function e(t,n,r,i){Y(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Z(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Vd(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=$(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=zd(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=$(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=zd(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=hd();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=Ud(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(sf.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),md())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&af(this.mutations,e.mutations,(function(e,t){return Bd(e,t)}))&&af(this.baseMutations,e.baseMutations,(function(e,t){return Bd(e,t)}))}}]),e}(),ep=function(){function e(t,n,r,i){Y(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Z(e,null,[{key:"from",value:function(t,n,r){ql(t.mutations.length===r.length);for(var i=pd,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),tp=function(){function e(t,n){Y(this,e),this.largestBatchId=t,this.mutation=n}return Z(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),np=Z((function e(t,n){Y(this,e),this.count=t,this.unchangedNames=n}));function rp(e){switch(e){default:return zl();case Hl.CANCELLED:case Hl.UNKNOWN:case Hl.DEADLINE_EXCEEDED:case Hl.RESOURCE_EXHAUSTED:case Hl.INTERNAL:case Hl.UNAVAILABLE:case Hl.UNAUTHENTICATED:return!1;case Hl.INVALID_ARGUMENT:case Hl.NOT_FOUND:case Hl.ALREADY_EXISTS:case Hl.PERMISSION_DENIED:case Hl.FAILED_PRECONDITION:case Hl.ABORTED:case Hl.OUT_OF_RANGE:case Hl.UNIMPLEMENTED:case Hl.DATA_LOSS:return!0}}function ip(e){if(void 0===e)return Fl("GRPC error has no .code"),Hl.UNKNOWN;switch(e){case Xd.OK:return Hl.OK;case Xd.CANCELLED:return Hl.CANCELLED;case Xd.UNKNOWN:return Hl.UNKNOWN;case Xd.DEADLINE_EXCEEDED:return Hl.DEADLINE_EXCEEDED;case Xd.RESOURCE_EXHAUSTED:return Hl.RESOURCE_EXHAUSTED;case Xd.INTERNAL:return Hl.INTERNAL;case Xd.UNAVAILABLE:return Hl.UNAVAILABLE;case Xd.UNAUTHENTICATED:return Hl.UNAUTHENTICATED;case Xd.INVALID_ARGUMENT:return Hl.INVALID_ARGUMENT;case Xd.NOT_FOUND:return Hl.NOT_FOUND;case Xd.ALREADY_EXISTS:return Hl.ALREADY_EXISTS;case Xd.PERMISSION_DENIED:return Hl.PERMISSION_DENIED;case Xd.FAILED_PRECONDITION:return Hl.FAILED_PRECONDITION;case Xd.ABORTED:return Hl.ABORTED;case Xd.OUT_OF_RANGE:return Hl.OUT_OF_RANGE;case Xd.UNIMPLEMENTED:return Hl.UNIMPLEMENTED;case Xd.DATA_LOSS:return Hl.DATA_LOSS;default:return zl()}}($d=Xd||(Xd={}))[$d.OK=0]="OK",$d[$d.CANCELLED=1]="CANCELLED",$d[$d.UNKNOWN=2]="UNKNOWN",$d[$d.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$d[$d.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$d[$d.NOT_FOUND=5]="NOT_FOUND",$d[$d.ALREADY_EXISTS=6]="ALREADY_EXISTS",$d[$d.PERMISSION_DENIED=7]="PERMISSION_DENIED",$d[$d.UNAUTHENTICATED=16]="UNAUTHENTICATED",$d[$d.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$d[$d.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$d[$d.ABORTED=10]="ABORTED",$d[$d.OUT_OF_RANGE=11]="OUT_OF_RANGE",$d[$d.UNIMPLEMENTED=12]="UNIMPLEMENTED",$d[$d.INTERNAL=13]="INTERNAL",$d[$d.UNAVAILABLE=14]="UNAVAILABLE",$d[$d.DATA_LOSS=15]="DATA_LOSS";var ap=function(){function e(){Y(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return Z(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return op}},{key:"getOrCreateInstance",value:function(){return null===op&&(op=new e),op}}]),e}(),op=null;function sp(){return new TextEncoder}var up=new jl([4294967295,4294967295],0);function cp(e){var t=sp().encode(e),n=new Al;return n.update(t),new Uint8Array(n.digest())}function lp(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new jl([n,r],0),new jl([i,a],0)]}var fp=function(){function e(t,n,r){if(Y(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hp("Invalid padding: ".concat(n));if(r<0)throw new hp("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new hp("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new hp("Invalid padding when bitmap length is 0: ".concat(n));this.de=8*t.length-n,this.Ae=jl.fromNumber(this.de)}return Z(e,[{key:"Re",value:function(e,t,n){var r=e.add(t.multiply(jl.fromNumber(n)));return 1===r.compare(up)&&(r=new jl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ae).toNumber()}},{key:"Ve",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.de)return!1;for(var t=d(lp(cp(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Re(n,r,i);if(!this.Ve(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.de)for(var t=d(lp(cp(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Re(n,r,i);this.me(a)}}},{key:"me",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),hp=function(e){G(n,e);var t=X(n);function n(){var e;return Y(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return Z(n)}(ne(Error)),dp=function(){function e(t,n,r,i,a){Y(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Z(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,pp.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(sf.min(),i,new Lf(rf),sd(),md())}}]),e}(),pp=function(){function e(t,n,r,i,a){Y(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Z(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,md(),md(),md())}}]),e}(),vp=Z((function e(t,n,r,i){Y(this,e),this.fe=t,this.removedTargetIds=n,this.key=r,this.ge=i})),mp=Z((function e(t,n){Y(this,e),this.targetId=t,this.pe=n})),gp=Z((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zf.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Y(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),yp=function(){function e(){Y(this,e),this.ye=0,this.we=wp(),this.Se=zf.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}return Z(e,[{key:"current",get:function(){return this.be}},{key:"resumeToken",get:function(){return this.Se}},{key:"ve",get:function(){return 0!==this.ye}},{key:"Ce",get:function(){return this.De}},{key:"Fe",value:function(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}},{key:"Me",value:function(){var e=md(),t=md(),n=md();return this.we.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:zl()}})),new pp(this.Se,this.be,e,t,n)}},{key:"xe",value:function(){this.De=!1,this.we=wp()}},{key:"Oe",value:function(e,t){this.De=!0,this.we=this.we.insert(e,t)}},{key:"Ne",value:function(e){this.De=!0,this.we=this.we.remove(e)}},{key:"Be",value:function(){this.ye+=1}},{key:"Le",value:function(){this.ye-=1}},{key:"ke",value:function(){this.De=!0,this.be=!0}}]),e}(),kp=function(){function e(t){Y(this,e),this.qe=t,this.Qe=new Map,this.Ke=sd(),this.$e=bp(),this.Ue=new Lf(rf)}return Z(e,[{key:"We",value:function(e){var t,n=$(e.fe);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.ge&&e.ge.isFoundDocument()?this.Ge(r,e.ge):this.ze(r,e.key,e.ge)}}catch(s){n.e(s)}finally{n.f()}var i,a=$(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ze(o,e.key,e.ge)}}catch(s){a.e(s)}finally{a.f()}}},{key:"je",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.He(n);switch(e.state){case 0:t.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||t.removeTarget(n);break;case 3:t.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:t.Je(n)&&(t.Ye(n),r.Fe(e.resumeToken));break;default:zl()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qe.forEach((function(e,r){n.Je(r)&&t(r)}))}},{key:"Ze",value:function(e){var t,n,r=e.targetId,i=e.pe.count,a=this.Xe(r);if(a){var o=a.target;if(zh(o))if(0===i){var s=new hf(o.path);this.ze(r,s,ph.newNoDocument(s,sf.min()))}else ql(1===i);else{var u=this.et(r);if(u!==i){var c=this.tt(e,u);if(0!==c.status){this.Ye(r);var l=2===c.status?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(r,l)}null===(t=ap.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n,r){var i,a,o,s,u,c,l={localCacheCount:n,existenceFilterCount:r.count},f=r.unchangedNames;return f&&(l.bloomFilter={applied:0===e,hashCount:null!==(i=null==f?void 0:f.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(s=null===(o=null===(a=null==f?void 0:f.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==s?s:0,padding:null!==(c=null===(u=null==f?void 0:f.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0},t&&(l.bloomFilter.mightContain=t)),l}(c.status,null!==(n=c.nt)&&void 0!==n?n:null,u,e.pe))}}}}},{key:"tt",value:function(e,t){var n=this,r=e.pe,i=r.unchangedNames,a=r.count;if(!i||!i.bits)return{status:1};var o,s,u=i.bits,c=u.bitmap,l=void 0===c?"":c,f=u.padding,h=void 0===f?0:f,d=i.hashCount,p=void 0===d?0:d;try{o=Kf(l).toUint8Array()}catch(e){if(e instanceof Vf)return Ul("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw e}try{s=new fp(o,h,p)}catch(e){return Ul(e instanceof hp?"BloomFilter error: ":"Applying bloom filter failed: ",e),{status:1}}var v=function(e){var t=n.qe.rt();return s.mightContain("projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e))};return 0===s.de?{status:1}:{status:a===t-this.it(e.targetId,v)?0:2,nt:v}}},{key:"it",value:function(e,t){var n=this,r=this.qe.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){t(r.path.canonicalString())||(n.ze(e,r,null),i++)})),i}},{key:"st",value:function(e){var t=this,n=new Map;this.Qe.forEach((function(r,i){var a=t.Xe(i);if(a){if(r.current&&zh(a.target)){var o=new hf(a.target.path);null!==t.Ke.get(o)||t.ot(i,o)||t.ze(i,o,ph.newNoDocument(o,e))}r.Ce&&(n.set(i,r.Me()),r.xe())}}));var r=md();this.$e.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xe(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ke.forEach((function(t,n){return n.setReadTime(e)}));var i=new dp(e,n,this.Ue,this.Ke,r);return this.Ke=sd(),this.$e=bp(),this.Ue=new Lf(rf),i}},{key:"Ge",value:function(e,t){if(this.Je(e)){var n=this.ot(e,t.key)?2:0;this.He(e).Oe(t.key,n),this.Ke=this.Ke.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e))}}},{key:"ze",value:function(e,t,n){if(this.Je(e)){var r=this.He(e);this.ot(e,t)?r.Oe(t,1):r.Ne(t),this.$e=this.$e.insert(t,this._t(t).delete(e)),n&&(this.Ke=this.Ke.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qe.delete(e)}},{key:"et",value:function(e){var t=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Be",value:function(e){this.He(e).Be()}},{key:"He",value:function(e){var t=this.Qe.get(e);return t||(t=new yp,this.Qe.set(e,t)),t}},{key:"_t",value:function(e){var t=this.$e.get(e);return t||(t=new Mf(rf),this.$e=this.$e.insert(e,t)),t}},{key:"Je",value:function(e){var t=null!==this.Xe(e);return t||Ml("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xe",value:function(e){var t=this.Qe.get(e);return t&&t.ve?null:this.qe.ut(e)}},{key:"Ye",value:function(e){var t=this;this.Qe.set(e,new yp),this.qe.getRemoteKeysForTarget(e).forEach((function(n){t.ze(e,n,null)}))}},{key:"ot",value:function(e,t){return this.qe.getRemoteKeysForTarget(e).has(t)}}]),e}();function bp(){return new Lf(hf.comparator)}function wp(){return new Lf(hf.comparator)}var xp={asc:"ASCENDING",desc:"DESCENDING"},Sp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ep={and:"AND",or:"OR"},_p=Z((function e(t,n){Y(this,e),this.databaseId=t,this.useProto3Json=n}));function Tp(e,t){return e.useProto3Json||_f(t)?t:{value:t}}function Ip(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Cp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Np(e,t){return Ip(e,t.toTimestamp())}function Ap(e){return ql(!!e),sf.fromTimestamp(function(e){var t=Bf(e);return new of(t.seconds,t.nanos)}(e))}function jp(e,t){return function(e){return new cf(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Rp(e){var t=cf.fromString(e);return ql(Jp(t)),t}function Op(e,t){return jp(e.databaseId,t.path)}function Lp(e,t){var n=Rp(t);if(n.get(1)!==e.databaseId.projectId)throw new Kl(Hl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Kl(Hl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new hf(Fp(n))}function Pp(e,t){return jp(e.databaseId,t)}function Dp(e){var t=Rp(e);return 4===t.length?cf.emptyPath():Fp(t)}function Mp(e){return new cf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Fp(e){return ql(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Up(e,t,n){return{name:Op(e,t),fields:n.value.mapValue.fields}}function Vp(e,t){var n;if(t instanceof Hd)n={update:Up(e,t.key,t.value)};else if(t instanceof Yd)n={delete:Op(e,t.key)};else if(t instanceof Kd)n={update:Up(e,t.key,t.data),updateMask:Yp(t.fieldMask)};else{if(!(t instanceof Jd))return zl();n={verify:Op(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Td)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Id)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Nd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof jd)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw zl()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Np(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:zl()}(e,t.precondition)),n}function zp(e,t){return{documents:[Pp(e,t.path)]}}function qp(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Pp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Pp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return $p(xh.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Qp(e.field),direction:Kp(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=Tp(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Bp(e){var t=Dp(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ql(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Hp(e);return t instanceof xh&&Eh(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=function(e){return e.map((function(e){return function(e){return new yh(Xp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var u=null;n.limit&&(u=function(e){var t;return _f(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new vh(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new vh(n,t)}(n.endAt)),Bh(t,i,s,o,u,"F",c,l)}function Hp(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Xp(e.unaryFilter.field);return wh.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Xp(e.unaryFilter.field);return wh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Xp(e.unaryFilter.field);return wh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Xp(e.unaryFilter.field);return wh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return zl()}}(e):void 0!==e.fieldFilter?function(e){return wh.create(Xp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zl()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return xh.create(e.compositeFilter.filters.map((function(e){return Hp(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return zl()}}(e.compositeFilter.op))}(e):zl()}function Kp(e){return xp[e]}function Wp(e){return Sp[e]}function Gp(e){return Ep[e]}function Qp(e){return{fieldPath:e.canonicalString()}}function Xp(e){return ff.fromServerFormat(e.fieldPath)}function $p(e){return e instanceof wh?function(e){if("=="===e.op){if(uh(e.value))return{unaryFilter:{field:Qp(e.field),op:"IS_NAN"}};if(sh(e.value))return{unaryFilter:{field:Qp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(uh(e.value))return{unaryFilter:{field:Qp(e.field),op:"IS_NOT_NAN"}};if(sh(e.value))return{unaryFilter:{field:Qp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qp(e.field),op:Wp(e.op),value:e.value}}}(e):e instanceof xh?function(e){var t=e.getFilters().map((function(e){return $p(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Gp(e.op),filters:t}}}(e):zl()}function Yp(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Jp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Zp=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:sf.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:sf.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:zf.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Y(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return Z(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),ev=Z((function e(t){Y(this,e),this.ct=t}));function tv(e){var t=Bp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Yh(t,t.limit,"L"):t}var nv=function(){function e(){Y(this,e)}return Z(e,[{key:"Pt",value:function(e,t){this.It(e,t),t.Tt()}},{key:"It",value:function(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Hf(e.integerValue));else if("doubleValue"in e){var n=Hf(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Tf(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Et(t,20),"string"==typeof r?t.At(r):(t.At("".concat(r.seconds||"")),t.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Kf(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?fh(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):zl()}},{key:"Rt",value:function(e,t){this.Et(t,25),this.St(e,t)}},{key:"St",value:function(e,t){t.At(e)}},{key:"yt",value:function(e,t){var n=e.fields||{};this.Et(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Rt(a,t),this.It(n[a],t)}}},{key:"wt",value:function(e,t){var n=e.values||[];this.Et(t,50);var r,i=$(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.It(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"gt",value:function(e,t){var n=this;this.Et(t,37),hf.fromName(e).path.forEach((function(e){n.Et(t,60),n.St(e,t)}))}},{key:"Et",value:function(e,t){e.dt(t)}},{key:"Vt",value:function(e){e.dt(2)}}]),e}();nv.bt=new nv;var rv=function(){function e(){Y(this,e),this.sn=new iv}return Z(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.sn.add(t),xf.resolve()}},{key:"getCollectionParents",value:function(e,t){return xf.resolve(this.sn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return xf.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return xf.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return xf.resolve(null)}},{key:"getIndexType",value:function(e,t){return xf.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return xf.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return xf.resolve(null)}},{key:"getMinOffset",value:function(e,t){return xf.resolve(mf.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return xf.resolve(mf.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return xf.resolve()}},{key:"updateIndexEntries",value:function(e,t){return xf.resolve()}}]),e}(),iv=function(){function e(){Y(this,e),this.index={}}return Z(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Mf(cf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Mf(cf.comparator)).toArray()}}]),e}();new Uint8Array(0);var av=function(){function e(t,n,r){Y(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Z(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();av.DEFAULT_COLLECTION_PERCENTILE=10,av.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,av.DEFAULT=new av(41943040,av.DEFAULT_COLLECTION_PERCENTILE,av.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),av.DISABLED=new av(-1,0,0);var ov=function(){function e(t){Y(this,e),this.Mn=t}return Z(e,[{key:"next",value:function(){return this.Mn+=2,this.Mn}}],[{key:"xn",value:function(){return new e(0)}},{key:"On",value:function(){return new e(-1)}}]),e}();var sv=function(){function e(){Y(this,e),this.changes=new ad((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Z(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ph.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?xf.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var uv=Z((function e(t,n){Y(this,e),this.overlayedDocument=t,this.mutatedFields=n})),cv=function(){function e(t,n,r,i){Y(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Z(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&zd(r.mutation,e,Uf.empty(),of.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,md()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:md(),i=fd();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=cd();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=fd();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,md())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=sd(),a=dd(),o=dd();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Kd)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),zd(o.mutation,t,o.mutation.getFieldMask(),of.now())):a.set(t.key,Uf.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new uv(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=dd(),i=new Lf((function(e,t){return e-t})),a=md();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=$(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Uf.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||md()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=hd();c.forEach((function(e){if(!a.has(e)){var n=Ud(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return xf.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return hf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Qh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):xf.resolve(fd()),s=-1,u=a;return o.next((function(t){return xf.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?xf.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,md())})).next((function(e){return{batchId:s,changes:ld(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new hf(t)).next((function(e){var t=cd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=cd();return this.indexManager.getCollectionParents(e,i).next((function(o){return xf.forEach(o,(function(o){var s=function(e,t){return new qh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,ph.newInvalidDocument(r)))}));var n=cd();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&zd(a.mutation,i,Uf.empty(),of.now()),td(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),lv=function(){function e(t){Y(this,e),this.serializer=t,this.ar=new Map,this.ur=new Map}return Z(e,[{key:"getBundleMetadata",value:function(e,t){return xf.resolve(this.ar.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.ar.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ap(e.createTime)}}(t)),xf.resolve()}},{key:"getNamedQuery",value:function(e,t){return xf.resolve(this.ur.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ur.set(t.name,function(e){return{name:e.name,query:tv(e.bundledQuery),readTime:Ap(e.readTime)}}(t)),xf.resolve()}}]),e}(),fv=function(){function e(){Y(this,e),this.overlays=new Lf(hf.comparator),this.cr=new Map}return Z(e,[{key:"getOverlay",value:function(e,t){return xf.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=fd();return xf.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ht(e,t,i)})),xf.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.cr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.cr.delete(n)),xf.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=fd(),i=t.length+1,a=new hf(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return xf.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Lf((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=fd(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=fd(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return xf.resolve(u)}},{key:"ht",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.cr.get(r.largestBatchId).delete(n.key);this.cr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new tp(t,n));var a=this.cr.get(t);void 0===a&&(a=md(),this.cr.set(t,a)),this.cr.set(t,a.add(n.key))}}]),e}(),hv=function(){function e(){Y(this,e),this.lr=new Mf(dv.hr),this.Pr=new Mf(dv.Ir)}return Z(e,[{key:"isEmpty",value:function(){return this.lr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new dv(e,t);this.lr=this.lr.add(n),this.Pr=this.Pr.add(n)}},{key:"Tr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Er(new dv(e,t))}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ar",value:function(e){var t=this,n=new hf(new cf([])),r=new dv(n,e),i=new dv(n,e+1),a=[];return this.Pr.forEachInRange([r,i],(function(e){t.Er(e),a.push(e.key)})),a}},{key:"Rr",value:function(){var e=this;this.lr.forEach((function(t){return e.Er(t)}))}},{key:"Er",value:function(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}},{key:"Vr",value:function(e){var t=new hf(new cf([])),n=new dv(t,e),r=new dv(t,e+1),i=md();return this.Pr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new dv(e,0),n=this.lr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),dv=function(){function e(t,n){Y(this,e),this.key=t,this.mr=n}return Z(e,null,[{key:"hr",value:function(e,t){return hf.comparator(e.key,t.key)||rf(e.mr,t.mr)}},{key:"Ir",value:function(e,t){return rf(e.mr,t.mr)||hf.comparator(e.key,t.key)}}]),e}(),pv=function(){function e(t,n){Y(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new Mf(dv.hr)}return Z(e,[{key:"checkEmpty",value:function(e){return xf.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Zd(i,t,n,r);this.mutationQueue.push(a);var o,s=$(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.pr=this.pr.add(new dv(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return xf.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return xf.resolve(this.yr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.wr(n),i=r<0?0:r;return xf.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return xf.resolve(0===this.mutationQueue.length?-1:this.gr-1)}},{key:"getAllMutationBatches",value:function(e){return xf.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new dv(t,0),i=new dv(t,Number.POSITIVE_INFINITY),a=[];return this.pr.forEachInRange([r,i],(function(e){var t=n.yr(e.mr);a.push(t)})),xf.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Mf(rf);return t.forEach((function(e){var t=new dv(e,0),i=new dv(e,Number.POSITIVE_INFINITY);n.pr.forEachInRange([t,i],(function(e){r=r.add(e.mr)}))})),xf.resolve(this.Sr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;hf.isDocumentKey(i)||(i=i.child(""));var a=new dv(new hf(i),0),o=new Mf(rf);return this.pr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.mr)),!0)}),a),xf.resolve(this.Sr(o))}},{key:"Sr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.yr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ql(0===this.br(t.batchId,"removed")),this.mutationQueue.shift();var r=this.pr;return xf.forEach(t.mutations,(function(i){var a=new dv(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.pr=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new dv(t,0),r=this.pr.firstAfterOrEqual(n);return xf.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,xf.resolve()}},{key:"br",value:function(e,t){return this.wr(e)}},{key:"wr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"yr",value:function(e){var t=this.wr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),vv=function(){function e(t){Y(this,e),this.Dr=t,this.docs=new Lf(hf.comparator),this.size=0}return Z(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Dr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return xf.resolve(n?n.document.mutableCopy():ph.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=sd();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ph.newInvalidDocument(e))})),xf.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=sd(),a=t.path,o=new hf(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||gf(vf(l),n)<=0||(r.has(l.key)||td(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return xf.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){zl()}},{key:"vr",value:function(e,t){return xf.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new mv(this)}},{key:"getSize",value:function(e){return xf.resolve(this.size)}}]),e}(),mv=function(e){G(n,e);var t=X(n);function n(e){var r;return Y(this,n),(r=t.call(this)).sr=e,r}return Z(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.sr.addEntry(e,i)):t.sr.removeEntry(r)})),xf.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.sr.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.sr.getEntries(e,t)}}]),n}(sv),gv=function(){function e(t){Y(this,e),this.persistence=t,this.Cr=new ad((function(e){return Uh(e)}),Vh),this.lastRemoteSnapshotVersion=sf.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new hv,this.targetCount=0,this.Or=ov.xn()}return Z(e,[{key:"forEachTarget",value:function(e,t){return this.Cr.forEach((function(e,n){return t(n)})),xf.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return xf.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return xf.resolve(this.Fr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Or.next(),xf.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fr&&(this.Fr=t),xf.resolve()}},{key:"Ln",value:function(e){this.Cr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Or=new ov(t),this.highestTargetId=t),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Ln(t),this.targetCount+=1,xf.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Ln(t),xf.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Cr.delete(t.target),this.Mr.Ar(t.targetId),this.targetCount-=1,xf.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Cr.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Cr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),xf.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return xf.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Cr.get(t)||null;return xf.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Mr.Tr(t,n),xf.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Mr.dr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),xf.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Mr.Ar(t),xf.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Mr.Vr(t);return xf.resolve(n)}},{key:"containsKey",value:function(e,t){return xf.resolve(this.Mr.containsKey(t))}}]),e}(),yv=function(){function e(t,n){var r=this;Y(this,e),this.Nr={},this.overlays={},this.Br=new Ef(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=t(this),this.kr=new gv(this),this.indexManager=new rv,this.remoteDocumentCache=function(e){return new vv(e)}((function(e){return r.referenceDelegate.qr(e)})),this.serializer=new ev(n),this.Qr=new lv(this.serializer)}return Z(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Lr=!1,Promise.resolve()}},{key:"started",get:function(){return this.Lr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new fv,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Nr[e.toKey()];return n||(n=new pv(t,this.referenceDelegate),this.Nr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Qr}},{key:"runTransaction",value:function(e,t,n){var r=this;Ml("MemoryPersistence","Starting transaction:",e);var i=new kv(this.Br.next());return this.referenceDelegate.Kr(),n(i).next((function(e){return r.referenceDelegate.$r(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ur",value:function(e,t){return xf.or(Object.values(this.Nr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),kv=function(e){G(n,e);var t=X(n);function n(e){var r;return Y(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Z(n)}(kf),bv=function(){function e(t){Y(this,e),this.persistence=t,this.Wr=new hv,this.Gr=null}return Z(e,[{key:"jr",get:function(){if(this.Gr)return this.Gr;throw zl()}},{key:"addReference",value:function(e,t,n){return this.Wr.addReference(n,t),this.jr.delete(n.toString()),xf.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Wr.removeReference(n,t),this.jr.add(n.toString()),xf.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.jr.add(t.toString()),xf.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Wr.Ar(t.targetId).forEach((function(e){return n.jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Kr",value:function(){this.Gr=new Set}},{key:"$r",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xf.forEach(this.jr,(function(r){var i=hf.fromPath(r);return t.Hr(e,i).next((function(e){e||n.removeEntry(i,sf.min())}))})).next((function(){return t.Gr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hr(e,t).next((function(e){e?n.jr.delete(t.toString()):n.jr.add(t.toString())}))}},{key:"qr",value:function(e){return 0}},{key:"Hr",value:function(e,t){var n=this;return xf.or([function(){return xf.resolve(n.Wr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ur(e,t)}])}}],[{key:"zr",value:function(t){return new e(t)}}]),e}();var wv=function(){function e(t,n,r,i){Y(this,e),this.targetId=t,this.fromCache=n,this.Li=r,this.ki=i}return Z(e,null,[{key:"qi",value:function(t,n){var r,i=md(),a=md(),o=$(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),xv=function(){function e(){Y(this,e),this.Qi=!1}return Z(e,[{key:"initialize",value:function(e,t){this.Ki=e,this.indexManager=t,this.Qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.$i(e,t).next((function(a){return a||i.Ui(e,t,r,n)})).next((function(n){return n||i.Wi(e,t)}))}},{key:"$i",value:function(e,t){var n=this;if(Kh(t))return xf.resolve(null);var r=$h(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Yh(t,null,"F"),r=$h(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=md.apply(void 0,ee(i));return n.Ki.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Gi(t,i);return n.zi(t,o,a,r.readTime)?n.$i(e,Yh(t,null,"F")):n.ji(e,o,t,r)}))}))})))}))}},{key:"Ui",value:function(e,t,n,r){var i=this;return Kh(t)||r.isEqual(sf.min())?this.Wi(e,t):this.Ki.getDocuments(e,n).next((function(a){var o=i.Gi(t,a);return i.zi(t,o,n,r)?i.Wi(e,t):(Dl()<=Re.DEBUG&&Ml("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ed(t)),i.ji(e,o,t,pf(r,-1)))}))}},{key:"Gi",value:function(e,t){var n=new Mf(rd(e));return t.forEach((function(t,r){td(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Wi",value:function(e,t){return Dl()<=Re.DEBUG&&Ml("QueryEngine","Using full collection scan to execute query:",ed(t)),this.Ki.getDocumentsMatchingQuery(e,t,mf.min())}},{key:"ji",value:function(e,t,n,r){return this.Ki.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Sv=function(){function e(t,n,r,i){Y(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new Lf(rf),this.Yi=new ad((function(e){return Uh(e)}),Vh),this.Zi=new Map,this.Xi=t.getRemoteDocumentCache(),this.kr=t.getTargetCache(),this.Qr=t.getBundleCache(),this.es(r)}return Z(e,[{key:"es",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cv(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function Ev(e,t,n,r){return new Sv(e,t,n,r)}function _v(e,t){return Tv.apply(this,arguments)}function Tv(){return Tv=o(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bl(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.es(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=md(),u=$(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=$(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=$(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=$(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ts:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Tv.apply(this,arguments)}function Iv(e,t){var n=Bl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Xi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=xf.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ql(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=md(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Cv(e){var t=Bl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.kr.getLastRemoteSnapshotVersion(e)}))}function Nv(e,t){var n=Bl(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.kr.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.kr.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(zf.EMPTY_BYTE_STRING,sf.min()).withLastLimboFreeSnapshotVersion(sf.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.kr.updateTargetData(e,c))}}));var s=sd(),u=md();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Av(e,a,t.documentUpdates).next((function(e){s=e.ns,u=e.rs}))),!r.isEqual(sf.min())){var c=n.kr.getLastRemoteSnapshotVersion(e).next((function(t){return n.kr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return xf.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ji=i,e}))}function Av(e,t,n){var r=md(),i=md();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=sd();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(sf.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Ml("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{ns:r,rs:i}}))}function jv(e,t){var n=Bl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Rv(e,t){var n=Bl(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.kr.getTargetData(e,t).next((function(i){return i?(r=i,xf.resolve(r)):n.kr.allocateTargetId(e).next((function(i){return r=new Zp(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.kr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function Ov(e,t,n){return Lv.apply(this,arguments)}function Lv(){return Lv=o(i().mark((function e(t,n,r){var a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Bl(t),o=a.Ji.get(n),s=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,a.persistence.runTransaction("Release target",s,(function(e){return a.persistence.referenceDelegate.removeTarget(e,o)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Sf(e.t1)){e.next=12;break}throw e.t1;case 12:Ml("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:a.Ji=a.Ji.remove(n),a.Yi.delete(o.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Lv.apply(this,arguments)}function Pv(e,t,n){var r=Bl(e),i=sf.min(),a=md();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Bl(e),i=r.Yi.get(n);return void 0!==i?xf.resolve(r.Ji.get(i)):r.kr.getTargetData(t,n)}(r,e,$h(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:sf.min(),n?a:md())})).next((function(e){return Dv(r,nd(t),e),{documents:e,ss:a}}))}))}function Dv(e,t,n){var r=e.Zi.get(t)||sf.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Zi.set(t,r)}var Mv=function(){function e(){Y(this,e),this.activeTargetIds=yd()}return Z(e,[{key:"hs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ps",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ls",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Fv=function(){function e(){Y(this,e),this.Hs=new Mv,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Z(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hs.hs(e),this.Js[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Js[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hs.Ps(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hs.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Js[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hs.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hs.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hs=new Mv,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Uv=function(){function e(){Y(this,e)}return Z(e,[{key:"Ys",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Vv=function(){function e(){var t=this;Y(this,e),this.Zs=function(){return t.Xs()},this.eo=function(){return t.no()},this.ro=[],this.io()}return Z(e,[{key:"Ys",value:function(e){this.ro.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}},{key:"Xs",value:function(){Ml("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=$(this.ro);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){Ml("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=$(this.ro);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"v",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),zv=null;function qv(){return null===zv?zv=268435456+Math.round(2147483648*Math.random()):zv++,"0x"+zv.toString(16)}var Bv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Hv=function(){function e(t){Y(this,e),this.so=t.so,this.oo=t.oo}return Z(e,[{key:"_o",value:function(e){this.ao=e}},{key:"uo",value:function(e){this.co=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.so(e)}},{key:"ho",value:function(){this.ao()}},{key:"Po",value:function(e){this.co(e)}},{key:"Io",value:function(e){this.lo(e)}}]),e}(),Kv="WebChannelConnection",Wv=function(e){G(n,e);var t=X(n);function n(e){var r;return Y(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return Z(n,[{key:"po",value:function(e,t,n,r){var i=qv();return new Promise((function(a,o){var s=new Nl;s.setWithCredentials(!0),s.listenOnce(El.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Sl.NO_ERROR:var t=s.getResponseJson();Ml(Kv,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Sl.TIMEOUT:Ml(Kv,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Kl(Hl.DEADLINE_EXCEEDED,"Request time out"));break;case Sl.HTTP_ERROR:var n=s.getStatus();if(Ml(Kv,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Hl).indexOf(t)>=0?t:Hl.UNKNOWN}(u.status);o(new Kl(c,u.message))}else o(new Kl(Hl.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Kl(Hl.UNAVAILABLE,"Connection failed."));break;default:zl()}}finally{Ml(Kv,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);Ml(Kv,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=qv(),i=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=wl(),o=xl(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new Il({})),this.fo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");Ml(Kv,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,h=!1,d=new Hv({so:function(t){h?Ml(Kv,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(Ml(Kv,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),Ml(Kv,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,Cl.EventType.OPEN,(function(){h||Ml(Kv,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,Cl.EventType.CLOSE,(function(){h||(h=!0,Ml(Kv,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Po())})),p(l,Cl.EventType.ERROR,(function(t){h||(h=!0,Ul(Kv,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Po(new Kl(Hl.UNAVAILABLE,"The operation could not be completed")))})),p(l,Cl.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];ql(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Ml(Kv,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=Xd[e];if(void 0!==t)return ip(t)}(s),c=o.message;void 0===u&&(u=Hl.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),h=!0,d.Po(new Kl(u,c)),l.close()}else Ml(Kv,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.Io(i)}})),p(o,_l.STAT_EVENT,(function(t){t.stat===Tl.PROXY?Ml(Kv,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Tl.NOPROXY&&Ml(Kv,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.ho()}),0),d}}]),n}(function(){function e(t){Y(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.To=n+"://"+t.host,this.Eo="projects/".concat(r,"/databases/").concat(i),this.Ao="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return Z(e,[{key:"Ro",get:function(){return!1}},{key:"Vo",value:function(e,t,n,r,i){var a=qv(),o=this.mo(e,t);Ml("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(s,r,i),this.po(e,o,s,n).then((function(t){return Ml("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Ul("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"yo",value:function(e,t,n,r,i,a){return this.Vo(e,t,n,r,i)}},{key:"fo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ll,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"mo",value:function(e,t){var n=Bv[e];return"".concat(this.To,"/v1/").concat(t,":").concat(n)}}]),e}());function Gv(){return"undefined"!=typeof document?document:null}function Qv(e){return new _p(e,!0)}var Xv=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Y(this,e),this.ii=t,this.timerId=n,this.So=r,this.bo=i,this.Do=a,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}return Z(e,[{key:"reset",value:function(){this.vo=0}},{key:"Mo",value:function(){this.vo=this.Do}},{key:"xo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.vo+this.Oo()),r=Math.max(0,Date.now()-this.Fo),i=Math.max(0,n-r);i>0&&Ml("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.vo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Co=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Fo=Date.now(),e()})),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}},{key:"No",value:function(){null!==this.Co&&(this.Co.skipDelay(),this.Co=null)}},{key:"cancel",value:function(){null!==this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"Oo",value:function(){return(Math.random()-.5)*this.vo}}]),e}(),$v=function(){function e(t,n,r,i,a,o,s,u){Y(this,e),this.ii=t,this.Bo=r,this.Lo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new Xv(t,n)}return Z(e,[{key:"$o",value:function(){return 1===this.state||5===this.state||this.Uo()}},{key:"Uo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Wo()}},{key:"stop",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.$o(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Go",value:function(){this.state=0,this.Ko.reset()}},{key:"zo",value:function(){var e=this;this.Uo()&&null===this.qo&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,(function(){return e.jo()})))}},{key:"Ho",value:function(e){this.Jo(),this.stream.send(e)}},{key:"jo",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Uo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Jo",value:function(){this.qo&&(this.qo.cancel(),this.qo=null)}},{key:"Yo",value:function(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}},{key:"close",value:function(){var e=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,4!==t?this.Ko.reset():n&&n.code===Hl.RESOURCE_EXHAUSTED?(Fl(n.toString()),Fl("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===Hl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Zo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.uo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Zo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=d(t,2),i=r[0],a=r[1];e.ko===n&&e.e_(i,a)}),(function(n){t((function(){var t=new Kl(Hl.UNKNOWN,"Fetching auth token failed: "+n.message);return e.t_(t)}))}))}},{key:"e_",value:function(e,t){var n=this,r=this.Xo(this.ko);this.stream=this.n_(e,t),this.stream._o((function(){r((function(){return n.state=2,n.Qo=n.ii.enqueueAfterDelay(n.Lo,1e4,(function(){return n.Uo()&&(n.state=3),Promise.resolve()})),n.listener._o()}))})),this.stream.uo((function(e){r((function(){return n.t_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Wo",value:function(){var e=this;this.state=5,this.Ko.xo(o(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"t_",value:function(e){return Ml("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.ko===e?n():(Ml("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Yv=function(e){G(n,e);var t=X(n);function n(e,r,i,a,o,s){var u;return Y(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return Z(n,[{key:"n_",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Ko.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:zl()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(ql(void 0===t||"string"==typeof t),zf.fromBase64String(t||"")):(ql(void 0===t||t instanceof Uint8Array),zf.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Hl.UNKNOWN:ip(e.code);return new Kl(t,e.message||"")}(o);n=new gp(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Lp(e,u.document.name),l=Ap(u.document.updateTime),f=u.document.createTime?Ap(u.document.createTime):sf.min(),h=new hh({mapValue:{fields:u.document.fields}}),d=ph.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new vp(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=Lp(e,m.document),y=m.readTime?Ap(m.readTime):sf.min(),k=ph.newNoDocument(g,y),b=m.removedTargetIds||[];n=new vp([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=Lp(e,w.document),S=w.removedTargetIds||[];n=new vp([],S,x,null)}else{if(!("filter"in t))return zl();t.filter;var E=t.filter;E.targetId;var _=E.count,T=void 0===_?0:_,I=E.unchangedNames,C=new np(T,I),N=E.targetId;n=new mp(N,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return sf.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?sf.min():t.readTime?Ap(t.readTime):sf.min()}(e);return this.listener.r_(t,n)}},{key:"i_",value:function(e){var t={};t.database=Mp(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=zh(r)?{documents:zp(e,r)}:{query:qp(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Cp(e,t.resumeToken);var i=Tp(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(sf.min())>0){n.readTime=Ip(e,t.snapshotVersion.toTimestamp());var a=Tp(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zl()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Ho(t)}},{key:"s_",value:function(e){var t={};t.database=Mp(this.serializer),t.removeTarget=e,this.Ho(t)}}]),n}($v),Jv=function(e){G(n,e);var t=X(n);function n(e,r,i,a,o,s){var u;return Y(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.o_=!1,u}return Z(n,[{key:"__",get:function(){return this.o_}},{key:"start",value:function(){this.o_=!1,this.lastStreamToken=void 0,H(B(n.prototype),"start",this).call(this)}},{key:"Zo",value:function(){this.o_&&this.a_([])}},{key:"n_",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(ql(!!e.streamToken),this.lastStreamToken=e.streamToken,this.o_){this.Ko.reset();var t=function(e,t){return e&&e.length>0?(ql(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Ap(e.updateTime):Ap(t);return n.isEqual(sf.min())&&(n=Ap(t)),new Pd(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Ap(e.commitTime);return this.listener.u_(n,t)}return ql(!e.writeResults||0===e.writeResults.length),this.o_=!0,this.listener.c_()}},{key:"l_",value:function(){var e={};e.database=Mp(this.serializer),this.Ho(e)}},{key:"a_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Vp(t.serializer,e)}))};this.Ho(n)}}]),n}($v),Zv=function(e){G(n,e);var t=X(n);function n(e,r,i,a){var o;return Y(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.h_=!1,o}return Z(n,[{key:"P_",value:function(){if(this.h_)throw new Kl(Hl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Vo",value:function(e,t,n){var r=this;return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=d(i,2),o=a[0],s=a[1];return r.connection.Vo(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Hl.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Kl(Hl.UNKNOWN,e.toString())}))}},{key:"yo",value:function(e,t,n,r){var i=this;return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=d(a,2),s=o[0],u=o[1];return i.connection.yo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Hl.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Kl(Hl.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.h_=!0}}]),n}(Z((function e(){Y(this,e)})));var em=function(){function e(t,n){Y(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}return Z(e,[{key:"A_",value:function(){var e=this;0===this.T_&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.E_=null,e.V_("Backend didn't respond within 10 seconds."),e.R_("Offline"),Promise.resolve()})))}},{key:"m_",value:function(e){"Online"===this.state?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.R_("Offline")))}},{key:"set",value:function(e){this.f_(),this.T_=0,"Online"===e&&(this.d_=!1),this.R_(e)}},{key:"R_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"V_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.d_?(Fl(t),this.d_=!1):Ml("OnlineStateTracker",t)}},{key:"f_",value:function(){null!==this.E_&&(this.E_.cancel(),this.E_=null)}}]),e}(),tm=Z((function e(t,n,r,a,s){var u=this;Y(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=s,this.S_.Ys((function(e){r.enqueueAndForget(o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=hm(u),!e.t0){e.next=5;break}return Ml("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Bl(t)).y_.add(4),e.next=4,im(n);case 4:return n.b_.set("Unknown"),n.y_.delete(4),e.next=8,nm(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(u);case 5:case"end":return e.stop()}}),e)}))))})),this.b_=new em(r,a)}));function nm(e){return rm.apply(this,arguments)}function rm(){return(rm=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!hm(t)){e.next=18;break}n=$(t.w_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return a=r.value,e.next=8,a(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function im(e){return am.apply(this,arguments)}function am(){return(am=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$(t.w_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return a=r.value,e.next=7,a(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function om(e,t){var n=Bl(e);n.p_.has(t.targetId)||(n.p_.set(t.targetId,t),fm(n)?lm(n):zm(n).Uo()&&um(n,t))}function sm(e,t){var n=Bl(e),r=zm(n);n.p_.delete(t),r.Uo()&&cm(n,t),0===n.p_.size&&(r.Uo()?r.zo():hm(n)&&n.b_.set("Unknown"))}function um(e,t){if(e.D_.Be(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(sf.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}zm(e).i_(t)}function cm(e,t){e.D_.Be(t),zm(e).s_(t)}function lm(e){e.D_=new kp({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ut:function(t){return e.p_.get(t)||null},rt:function(){return e.datastore.serializer.databaseId}}),zm(e).start(),e.b_.A_()}function fm(e){return hm(e)&&!zm(e).$o()&&e.p_.size>0}function hm(e){return 0===Bl(e).y_.size}function dm(e){e.D_=void 0}function pm(e){return vm.apply(this,arguments)}function vm(){return(vm=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.p_.forEach((function(e,n){um(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mm(e,t){return gm.apply(this,arguments)}function gm(){return(gm=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dm(t),fm(t)?(t.b_.m_(n),lm(t)):t.b_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ym(e,t,n){return km.apply(this,arguments)}function km(){return km=o(i().mark((function e(t,n,r){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.b_.set("Online"),!(n instanceof gp&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=o(i().mark((function e(t,n){var r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,a=$(n.targetIds),e.prev=2,a.s();case 4:if((o=a.n()).done){e.next=14;break}if(s=o.value,e.t0=t.p_.has(s),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(s,r);case 10:t.p_.delete(s),t.D_.removeTarget(s);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),a.e(e.t1);case 19:return e.prev=19,a.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ml("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,bm(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof vp?t.D_.We(n):n instanceof mp?t.D_.Ze(n):t.D_.je(n),r.isEqual(sf.min())){e.next=29;break}return e.prev=14,e.next=17,Cv(t.localStore);case 17:if(a=e.sent,e.t1=r.compareTo(a)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.D_.st(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.p_.get(r);i&&e.p_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.p_.get(t);if(r){e.p_.set(t,r.withResumeToken(zf.EMPTY_BYTE_STRING,r.snapshotVersion)),cm(e,t);var i=new Zp(r.target,t,n,r.sequenceNumber);um(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ml("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,bm(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),km.apply(this,arguments)}function bm(e,t,n){return wm.apply(this,arguments)}function wm(){return(wm=o(i().mark((function e(t,n,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sf(n)){e.next=2;break}throw n;case 2:return t.y_.add(1),e.next=5,im(t);case 5:t.b_.set("Offline"),r||(r=function(){return Cv(t.localStore)}),t.asyncQueue.enqueueRetryable(o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ml("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.y_.delete(1),e.next=6,nm(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xm(e,t){return t().catch((function(n){return bm(e,n,t)}))}function Sm(e){return Em.apply(this,arguments)}function Em(){return Em=o(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Bl(t),r=qm(n),a=n.g_.length>0?n.g_[n.g_.length-1].batchId:-1;case 2:if(!_m(n)){e.next=19;break}return e.prev=3,e.next=6,jv(n.localStore,a);case 6:if(null!==(o=e.sent)){e.next=10;break}return 0===n.g_.length&&r.zo(),e.abrupt("break",19);case 10:a=o.batchId,Tm(n,o),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,bm(n,e.t0);case 17:e.next=2;break;case 19:Im(n)&&Cm(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Em.apply(this,arguments)}function _m(e){return hm(e)&&e.g_.length<10}function Tm(e,t){e.g_.push(t);var n=qm(e);n.Uo()&&n.__&&n.a_(t.mutations)}function Im(e){return hm(e)&&!qm(e).$o()&&e.g_.length>0}function Cm(e){qm(e).start()}function Nm(e){return Am.apply(this,arguments)}function Am(){return(Am=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qm(t).l_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jm(e){return Rm.apply(this,arguments)}function Rm(){return(Rm=o(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=qm(t),r=$(t.g_);try{for(r.s();!(a=r.n()).done;)o=a.value,n.a_(o.mutations)}catch(i){r.e(i)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Om(e,t,n){return Lm.apply(this,arguments)}function Lm(){return Lm=o(i().mark((function e(t,n,r){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.g_.shift(),o=ep.from(a,n,r),e.next=3,xm(t,(function(){return t.remoteSyncer.applySuccessfulWrite(o)}));case 3:return e.next=5,Sm(t);case 5:case"end":return e.stop()}}),e)}))),Lm.apply(this,arguments)}function Pm(e,t){return Dm.apply(this,arguments)}function Dm(){return Dm=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&qm(t).__,!e.t0){e.next=4;break}return e.next=4,function(){var e=o(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return rp(e)&&e!==Hl.ABORTED}(n.code)){e.next=7;break}return r=t.g_.shift(),qm(t).Go(),e.next=5,xm(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Sm(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Im(t)&&Cm(t);case 5:case"end":return e.stop()}}),e)}))),Dm.apply(this,arguments)}function Mm(e,t){return Fm.apply(this,arguments)}function Fm(){return Fm=o(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Bl(t)).asyncQueue.verifyOperationInProgress(),Ml("RemoteStore","RemoteStore received new credentials"),a=hm(r),r.y_.add(3),e.next=6,im(r);case 6:return a&&r.b_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.y_.delete(3),e.next=12,nm(r);case 12:case"end":return e.stop()}}),e)}))),Fm.apply(this,arguments)}function Um(e,t){return Vm.apply(this,arguments)}function Vm(){return(Vm=o(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Bl(t),!n){e.next=7;break}return r.y_.delete(2),e.next=5,nm(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.y_.add(2),e.next=12,im(r);case 12:r.b_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zm(e){return e.v_||(e.v_=function(e,t,n){var r=Bl(e);return r.P_(),new Yv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{_o:pm.bind(null,e),uo:mm.bind(null,e),r_:ym.bind(null,e)}),e.w_.push(function(){var t=o(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.v_.Go(),fm(e)?lm(e):e.b_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.v_.stop();case 6:dm(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.v_}function qm(e){return e.C_||(e.C_=function(e,t,n){var r=Bl(e);return r.P_(),new Jv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{_o:Nm.bind(null,e),uo:Pm.bind(null,e),c_:jm.bind(null,e),u_:Om.bind(null,e)}),e.w_.push(function(){var t=o(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.C_.Go(),t.next=4,Sm(e);case 4:t.next=9;break;case 6:return t.next=8,e.C_.stop();case 8:e.g_.length>0&&(Ml("RemoteStore","Stopping write stream with ".concat(e.g_.length," pending writes")),e.g_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.C_}var Bm=function(){function e(t,n,r,i,a){Y(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Wl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Z(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Kl(Hl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Hm(e,t){if(Fl("AsyncQueue","".concat(t,": ").concat(e)),Sf(e))return new Kl(Hl.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Km=function(){function e(t){Y(this,e),this.comparator=t?function(e,n){return t(e,n)||hf.comparator(e.key,n.key)}:function(e,t){return hf.comparator(e.key,t.key)},this.keyedMap=cd(),this.sortedSet=new Lf(this.comparator)}return Z(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Wm=function(){function e(){Y(this,e),this.F_=new Lf(hf.comparator)}return Z(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.F_.get(t);n?0!==e.type&&3===n.type?this.F_=this.F_.insert(t,e):3===e.type&&1!==n.type?this.F_=this.F_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.F_=this.F_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.F_=this.F_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.F_=this.F_.remove(t):1===e.type&&2===n.type?this.F_=this.F_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.F_=this.F_.insert(t,{type:2,doc:e.doc}):zl():this.F_=this.F_.insert(t,e)}},{key:"M_",value:function(){var e=[];return this.F_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Gm=function(){function e(t,n,r,i,a,o,s,u,c){Y(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return Z(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Km.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Qm=Z((function e(){Y(this,e),this.x_=void 0,this.listeners=[]})),Xm=Z((function e(){Y(this,e),this.queries=new ad((function(e){return Zh(e)}),Jh),this.onlineState="Unknown",this.O_=new Set}));function $m(e,t){return Ym.apply(this,arguments)}function Ym(){return Ym=o(i().mark((function e(t,n){var r,a,o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Bl(t),a=n.query,o=!1,(s=r.queries.get(a))||(o=!0,s=new Qm),!o){e.next=13;break}return e.prev=3,e.next=6,r.onListen(a);case 6:s.x_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Hm(e.t0,"Initialization of query '".concat(ed(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(a,s),s.listeners.push(n),n.N_(r.onlineState),s.x_&&n.B_(s.x_)&&ng(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ym.apply(this,arguments)}function Jm(e,t){return Zm.apply(this,arguments)}function Zm(){return Zm=o(i().mark((function e(t,n){var r,a,o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Bl(t),a=n.query,o=!1,(s=r.queries.get(a))&&(u=s.listeners.indexOf(n))>=0&&(s.listeners.splice(u,1),o=0===s.listeners.length),!o){e.next=6;break}return e.abrupt("return",(r.queries.delete(a),r.onUnlisten(a)));case 6:case"end":return e.stop()}}),e)}))),Zm.apply(this,arguments)}function eg(e,t){var n,r=Bl(e),i=!1,a=$(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=$(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.B_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.x_=o}}}catch(f){a.e(f)}finally{a.f()}i&&ng(r)}function tg(e,t,n){var r=Bl(e),i=r.queries.get(t);if(i){var a,o=$(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function ng(e){e.O_.forEach((function(e){e.next()}))}var rg=function(){function e(t,n,r){Y(this,e),this.query=t,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=r||{}}return Z(e,[{key:"B_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=$(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Gm(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.k_?this.Q_(e)&&(this.L_.next(e),a=!0):this.K_(e,this.onlineState)&&(this.U_(e),a=!0),this.q_=e,a}},{key:"onError",value:function(e){this.L_.error(e)}},{key:"N_",value:function(e){this.onlineState=e;var t=!1;return this.q_&&!this.k_&&this.K_(this.q_,e)&&(this.U_(this.q_),t=!0),t}},{key:"K_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.W_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Q_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.q_&&this.q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"U_",value:function(e){e=Gm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.k_=!0,this.L_.next(e)}}]),e}();var ig=Z((function e(t){Y(this,e),this.key=t})),ag=Z((function e(t){Y(this,e),this.key=t})),og=function(){function e(t,n){Y(this,e),this.query=t,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=md(),this.mutatedKeys=md(),this.na=rd(t),this.ra=new Km(this.na)}return Z(e,[{key:"ia",get:function(){return this.X_}},{key:"sa",value:function(e,t){var n=this,r=t?t.oa:new Wm,i=t?t.ra:this.ra,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=td(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n._a(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.na(f,u)>0||c&&n.na(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ra:o,oa:r,zi:s,mutatedKeys:a}}},{key:"_a",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ra;this.ra=e.ra,this.mutatedKeys=e.mutatedKeys;var a=e.oa.M_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zl()}};return n(e)-n(t)}(e.type,t.type)||r.na(e.doc,t.doc)})),this.aa(n);var o=t?this.ua():[],s=0===this.ta.size&&this.current?1:0,u=s!==this.ea;return this.ea=s,0!==a.length||u?{snapshot:new Gm(this.query,e.ra,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),ca:o}:{ca:o}}},{key:"N_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ra:this.ra,oa:new Wm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}},{key:"la",value:function(e){return!this.X_.has(e)&&!!this.ra.has(e)&&!this.ra.get(e).hasLocalMutations}},{key:"aa",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.X_=t.X_.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.X_=t.X_.delete(e)})),this.current=e.current)}},{key:"ua",value:function(){var e=this;if(!this.current)return[];var t=this.ta;this.ta=md(),this.ra.forEach((function(t){e.la(t.key)&&(e.ta=e.ta.add(t.key))}));var n=[];return t.forEach((function(t){e.ta.has(t)||n.push(new ag(t))})),this.ta.forEach((function(e){t.has(e)||n.push(new ig(e))})),n}},{key:"ha",value:function(e){this.X_=e.ss,this.ta=md();var t=this.sa(e.documents);return this.applyChanges(t,!0)}},{key:"Pa",value:function(){return Gm.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,0===this.ea,this.hasCachedResults)}}]),e}(),sg=Z((function e(t,n,r){Y(this,e),this.query=t,this.targetId=n,this.view=r})),ug=Z((function e(t){Y(this,e),this.key=t,this.Ia=!1})),cg=function(){function e(t,n,r,i,a,o){Y(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ta={},this.Ea=new ad((function(e){return Zh(e)}),Jh),this.da=new Map,this.Aa=new Set,this.Ra=new Lf(hf.comparator),this.Va=new Map,this.ma=new hv,this.fa={},this.ga=new Map,this.pa=ov.On(),this.onlineState="Unknown",this.ya=void 0}return Z(e,[{key:"isPrimaryClient",get:function(){return!0===this.ya}}]),e}();function lg(e,t){return fg.apply(this,arguments)}function fg(){return fg=o(i().mark((function e(t,n){var r,a,o,s,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ug(t),!(s=r.Ea.get(n))){e.next=6;break}a=s.targetId,r.sharedClientState.addLocalQueryTarget(a),o=s.view.Pa(),e.next=15;break;case 6:return e.next=8,Rv(r.localStore,$h(n));case 8:return u=e.sent,c=r.sharedClientState.addLocalQueryTarget(u.targetId),a=u.targetId,e.next=13,hg(r,n,a,"current"===c,u.resumeToken);case 13:o=e.sent,r.isPrimaryClient&&om(r.remoteStore,u);case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)}))),fg.apply(this,arguments)}function hg(e,t,n,r,i){return dg.apply(this,arguments)}function dg(){return dg=o(i().mark((function e(t,n,r,a,s){var u,c,l,f,h,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.wa=function(e,n,r){return function(){var e=o(i().mark((function e(t,n,r,a){var o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.view.sa(r),e.t0=o.zi,!e.t0){e.next=6;break}return e.next=5,Pv(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sa(t,o)}));case 5:o=e.sent;case 6:return s=a&&a.targetChanges.get(n.targetId),u=n.view.applyChanges(o,t.isPrimaryClient,s),e.abrupt("return",(jg(t,n.targetId,u.ca),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Pv(t.localStore,n,!0);case 3:return u=e.sent,c=new og(n,u.ss),l=c.sa(u.documents),f=pp.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==t.onlineState,s),h=c.applyChanges(l,t.isPrimaryClient,f),jg(t,r,h.ca),d=new sg(n,r,c),e.abrupt("return",(t.Ea.set(n,d),t.da.has(r)?t.da.get(r).push(n):t.da.set(r,[n]),h.snapshot));case 11:case"end":return e.stop()}}),e)}))),dg.apply(this,arguments)}function pg(e,t){return vg.apply(this,arguments)}function vg(){return vg=o(i().mark((function e(t,n){var r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Bl(t),a=r.Ea.get(n),!((o=r.da.get(a.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.da.set(a.targetId,o.filter((function(e){return!Jh(e,n)}))),void r.Ea.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(a.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(a.targetId),e.t0){e.next=9;break}return e.next=9,Ov(r.localStore,a.targetId,!1).then((function(){r.sharedClientState.clearQueryState(a.targetId),sm(r.remoteStore,a.targetId),Ng(r,a.targetId)})).catch(bf);case 9:e.next=14;break;case 11:return Ng(r,a.targetId),e.next=14,Ov(r.localStore,a.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),vg.apply(this,arguments)}function mg(e,t,n){return gg.apply(this,arguments)}function gg(){return gg=o(i().mark((function e(t,n,r){var a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Vg(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Bl(e),a=of.now(),o=t.reduce((function(e,t){return e.add(t.key)}),md());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=sd(),u=md();return i.Xi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=$(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=qd(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new Kd(c.key,l,dh(l.value.mapValue),Dd.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:ld(n)}}))}(a.localStore,n);case 4:return o=e.sent,a.sharedClientState.addPendingMutation(o.batchId),function(e,t,n){var r=e.fa[e.currentUser.toKey()];r||(r=new Lf(rf)),r=r.insert(t,n),e.fa[e.currentUser.toKey()]=r}(a,o.batchId,r),e.next=9,Lg(a,o.changes);case 9:return e.next=11,Sm(a.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),s=Hm(e.t0,"Failed to persist write"),r.reject(s);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),gg.apply(this,arguments)}function yg(e,t){return kg.apply(this,arguments)}function kg(){return kg=o(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bl(t),e.prev=1,e.next=4,Nv(r.localStore,n);case 4:return a=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Va.get(t);n&&(ql(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ia=!0:e.modifiedDocuments.size>0?ql(n.Ia):e.removedDocuments.size>0&&(ql(n.Ia),n.Ia=!1))})),e.next=8,Lg(r,a,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,bf(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),kg.apply(this,arguments)}function bg(e,t,n){var r=Bl(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Ea.forEach((function(e,n){var r=n.view.N_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Bl(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=$(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.N_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&ng(n)}(r.eventManager,t),i.length&&r.Ta.r_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function wg(e,t,n){return xg.apply(this,arguments)}function xg(){return xg=o(i().mark((function e(t,n,r){var a,o,s,u,c,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=Bl(t)).sharedClientState.updateQueryState(n,"rejected",r),o=a.Va.get(n),!(s=o&&o.key)){e.next=14;break}return u=(u=new Lf(hf.comparator)).insert(s,ph.newNoDocument(s,sf.min())),c=md().add(s),l=new dp(sf.min(),new Map,new Lf(rf),u,c),e.next=9,yg(a,l);case 9:a.Ra=a.Ra.remove(s),a.Va.delete(n),Og(a),e.next=16;break;case 14:return e.next=16,Ov(a.localStore,n,!1).then((function(){return Ng(a,n,r)})).catch(bf);case 16:case"end":return e.stop()}}),e)}))),xg.apply(this,arguments)}function Sg(e,t){return Eg.apply(this,arguments)}function Eg(){return Eg=o(i().mark((function e(t,n){var r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bl(t),a=n.batch.batchId,e.prev=1,e.next=4,Iv(r.localStore,n);case 4:return o=e.sent,Cg(r,a,null),Ig(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),e.next=10,Lg(r,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,bf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Eg.apply(this,arguments)}function _g(e,t,n){return Tg.apply(this,arguments)}function Tg(){return Tg=o(i().mark((function e(t,n,r){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Bl(t),e.prev=1,e.next=4,function(e,t){var n=Bl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return ql(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(a.localStore,n);case 4:return o=e.sent,Cg(a,n,r),Ig(a,n),a.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Lg(a,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,bf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Tg.apply(this,arguments)}function Ig(e,t){(e.ga.get(t)||[]).forEach((function(e){e.resolve()})),e.ga.delete(t)}function Cg(e,t,n){var r=Bl(e),i=r.fa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.fa[r.currentUser.toKey()]=i}}function Ng(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=$(e.da.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Ea.delete(a),n&&e.Ta.Sa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.da.delete(t),e.isPrimaryClient&&e.ma.Ar(t).forEach((function(t){e.ma.containsKey(t)||Ag(e,t)}))}function Ag(e,t){e.Aa.delete(t.path.canonicalString());var n=e.Ra.get(t);null!==n&&(sm(e.remoteStore,n),e.Ra=e.Ra.remove(t),e.Va.delete(n),Og(e))}function jg(e,t,n){var r,i=$(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof ig?(e.ma.addReference(a.key,t),Rg(e,a)):a instanceof ag?(Ml("SyncEngine","Document no longer in limbo: "+a.key),e.ma.removeReference(a.key,t),e.ma.containsKey(a.key)||Ag(e,a.key)):zl()}}catch(o){i.e(o)}finally{i.f()}}function Rg(e,t){var n=t.key,r=n.path.canonicalString();e.Ra.get(n)||e.Aa.has(r)||(Ml("SyncEngine","New document in limbo: "+n),e.Aa.add(r),Og(e))}function Og(e){for(;e.Aa.size>0&&e.Ra.size<e.maxConcurrentLimboResolutions;){var t=e.Aa.values().next().value;e.Aa.delete(t);var n=new hf(cf.fromString(t)),r=e.pa.next();e.Va.set(r,new ug(n)),e.Ra=e.Ra.insert(n,r),om(e.remoteStore,new Zp($h(Hh(n.path)),r,"TargetPurposeLimboResolution",Ef.ae))}}function Lg(e,t,n){return Pg.apply(this,arguments)}function Pg(){return Pg=o(i().mark((function e(t,n,r){var a,s,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Bl(t),s=[],u=[],c=[],e.t0=a.Ea.isEmpty(),e.t0){e.next=9;break}return a.Ea.forEach((function(e,t){c.push(a.wa(t,n,r).then((function(e){if((e||r)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){s.push(e);var n=wv.qi(t.targetId,e);u.push(n)}})))})),e.next=6,Promise.all(c);case 6:return a.Ta.r_(s),e.next=9,function(){var e=o(i().mark((function e(t,n){var r,a,o,s,u,c,l,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bl(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return xf.forEach(n,(function(t){return xf.forEach(t.Li,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return xf.forEach(t.ki,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Sf(e.t0)){e.next=10;break}throw e.t0;case 10:Ml("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:a=$(n);try{for(a.s();!(o=a.n()).done;)s=o.value,u=s.targetId,s.fromCache||(c=r.Ji.get(u),l=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(l),r.Ji=r.Ji.insert(u,f))}catch(i){a.e(i)}finally{a.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(a.localStore,u);case 9:case"end":return e.stop()}}),e)}))),Pg.apply(this,arguments)}function Dg(e,t){return Mg.apply(this,arguments)}function Mg(){return(Mg=o(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Bl(t)).currentUser.isEqual(n)){e.next=11;break}return Ml("SyncEngine","User change. New user:",n.toKey()),e.next=5,_v(r.localStore,n);case 5:return a=e.sent,r.currentUser=n,function(e,t){e.ga.forEach((function(e){e.forEach((function(e){e.reject(new Kl(Hl.CANCELLED,t))}))})),e.ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),e.next=11,Lg(r,a.ts);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fg(e,t){var n=Bl(e),r=n.Va.get(t);if(r&&r.Ia)return md().add(r.key);var i=md(),a=n.da.get(t);if(!a)return i;var o,s=$(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Ea.get(u);i=i.unionWith(c.view.ia)}}catch(l){s.e(l)}finally{s.f()}return i}function Ug(e){var t=Bl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=yg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wg.bind(null,t),t.Ta.r_=eg.bind(null,t.eventManager),t.Ta.Sa=tg.bind(null,t.eventManager),t}function Vg(e){var t=Bl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Sg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_g.bind(null,t),t}var zg=function(){function e(){Y(this,e),this.synchronizeTabs=!1}return Z(e,[{key:"initialize",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Qv(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Ev(this.persistence,new xv,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new yv(bv.zr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new Fv}},{key:"terminate",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),qg=function(){function e(){Y(this,e)}return Z(e,[{key:"initialize",value:function(){var e=o(i().mark((function e(t,n){var r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return bg(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Dg.bind(null,this.syncEngine),e.next=12,Um(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Xm}},{key:"createDatastore",value:function(e){var t=Qv(e.databaseInfo.databaseId),n=function(e){return new Wv(e)}(e.databaseInfo);return function(e,t,n,r){return new Zv(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new tm(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return bg(t.syncEngine,e,0)}),Vv.v()?new Vv:new Uv)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new cg(e,t,n,r,i,a);return o&&(s.ya=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Bl(t),Ml("RemoteStore","RemoteStore shutting down."),n.y_.add(5),e.next=5,im(n);case 5:n.S_.shutdown(),n.b_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Bg=function(){function e(t){Y(this,e),this.observer=t,this.muted=!1}return Z(e,[{key:"next",value:function(e){this.observer.next&&this.va(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.va(this.observer.error,e):Fl("Uncaught Error in snapshot listener:",e.toString())}},{key:"Ca",value:function(){this.muted=!0}},{key:"va",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Hg=function(){function e(t,n,r,a){var s=this;Y(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Ol.UNAUTHENTICATED,this.clientId=nf.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ml("FirestoreClient","Received user=",t.uid),e.next=3,s.authCredentialListener(t);case 3:s.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ml("FirestoreClient","Received new app check token=",e),s.appCheckCredentialListener(e,s.user)}))}return Z(e,[{key:"getConfiguration",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Kl(Hl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Wl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(o(i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Hm(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Kg(e,t){return Wg.apply(this,arguments)}function Wg(){return Wg=o(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ml("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:a=r.initialUser,t.setCredentialChangeListener(function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a.isEqual(t),e.t0){e.next=5;break}return e.next=4,_v(n.localStore,t);case 4:a=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Wg.apply(this,arguments)}function Gg(e,t){return Qg.apply(this,arguments)}function Qg(){return Qg=o(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,$g(t);case 3:return r=e.sent,Ml("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return a=e.sent,e.next=10,n.initialize(r,a);case 10:t.setCredentialChangeListener((function(e){return Mm(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Mm(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Qg.apply(this,arguments)}function Xg(e){return"FirebaseError"===e.name?e.code===Hl.FAILED_PRECONDITION||e.code===Hl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function $g(e){return Yg.apply(this,arguments)}function Yg(){return(Yg=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Ml("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Kg(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Xg(n=e.t0)){e.next=13;break}throw n;case 13:return Ul("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,Kg(t,new zg);case 16:e.next=21;break;case 18:return Ml("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Kg(t,new zg);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function Jg(e){return Zg.apply(this,arguments)}function Zg(){return(Zg=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Ml("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,Gg(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Ml("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,Gg(t,new qg);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ey(e){return Jg(e).then((function(e){return e.syncEngine}))}function ty(e){return ny.apply(this,arguments)}function ny(){return(ny=o(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jg(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=lg.bind(null,n.syncEngine),r.onUnlisten=pg.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ry(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Wl;return e.asyncQueue.enqueueAndForget(o(i().mark((function a(){return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Bg({next:function(n){t.enqueueAndForget((function(){return Jm(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Kl(Hl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new rg(n,a,{includeMetadataChanges:!0,W_:!0});return $m(e,o)},i.next=3,ty(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),a)})))),r.promise}function iy(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var ay=new Map;function oy(e,t,n){if(!n)throw new Kl(Hl.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function sy(e){if(!hf.isDocumentKey(e))throw new Kl(Hl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function uy(e){if(hf.isDocumentKey(e))throw new Kl(Hl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function cy(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":zl()}function ly(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Kl(Hl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=cy(e);throw new Kl(Hl.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var fy=function(){function e(t){var n,r;if(Y(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Kl(Hl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Kl(Hl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Kl(Hl.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iy(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Kl(Hl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Kl(Hl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Kl(Hl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return Z(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),hy=function(){function e(t,n,r,i){Y(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fy({}),this._settingsFrozen=!1}return Z(e,[{key:"app",get:function(){if(!this._app)throw new Kl(Hl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Kl(Hl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fy(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ql;switch(e.type){case"firstParty":return new Jl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Kl(Hl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=ay.get(e);t&&(Ml("ComponentProvider","Removing Datastore"),ay.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function dy(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=ly(e,hy))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&Ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=Ol.MOCK_USER;else{s=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[oe(JSON.stringify({alg:"none",type:"JWT"})),oe(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Kl(Hl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ol(c)}e._authCredentials=new Xl(new Gl(s,u))}}var py=function(){function e(t,n,r){Y(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Z(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),vy=function(){function e(t,n,r){Y(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Z(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new my(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),my=function(e){G(n,e);var t=X(n);function n(e,r,i){var a;return Y(this,n),(a=t.call(this,e,r,Hh(i)))._path=i,a.type="collection",a}return Z(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new vy(this.firestore,null,new hf(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(py);function gy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ie(e),oy("collection","path",t),e instanceof hy){var a=cf.fromString.apply(cf,[t].concat(r));return uy(a),new my(e,null,a)}if(!(e instanceof vy||e instanceof my))throw new Kl(Hl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(cf.fromString.apply(cf,[t].concat(r)));return uy(o),new my(e.firestore,null,o)}function yy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ie(e),1===arguments.length&&(t=nf.V()),oy("doc","path",t),e instanceof hy){var a=cf.fromString.apply(cf,[t].concat(r));return sy(a),new vy(e,null,new hf(a))}if(!(e instanceof vy||e instanceof my))throw new Kl(Hl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(cf.fromString.apply(cf,[t].concat(r)));return sy(o),new vy(e.firestore,e instanceof my?e.converter:null,new hf(o))}var ky=function(){function e(){var t=this;Y(this,e),this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new Xv(this,"async_queue_retry"),this.Xa=function(){var e=Gv();e&&Ml("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Ko.No()};var n=Gv();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xa)}return Z(e,[{key:"isShuttingDown",get:function(){return this.za}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.eu(),this.tu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.za){this.za=!0,this.Ya=e||!1;var t=Gv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xa)}}},{key:"enqueue",value:function(e){var t=this;if(this.eu(),this.za)return new Promise((function(){}));var n=new Wl;return this.tu((function(){return t.za&&t.Ya?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ga.push(e),t.nu()}))}},{key:"nu",value:function(){var e=o(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ga.length){e.next=14;break}return e.prev=1,e.next=4,this.Ga[0]();case 4:this.Ga.shift(),this.Ko.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Sf(e.t0)){e.next=12;break}throw e.t0;case 12:Ml("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ga.length>0&&this.Ko.xo((function(){return t.nu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"tu",value:function(e){var t=this,n=this.Wa.then((function(){return t.Ja=!0,e().catch((function(e){t.Ha=e,t.Ja=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Fl("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ja=!1,e}))}));return this.Wa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.eu(),this.Za.indexOf(e)>-1&&(t=0);var i=Bm.createAndSchedule(this,e,t,n,(function(e){return r.ru(e)}));return this.ja.push(i),i}},{key:"eu",value:function(){this.Ha&&zl()}},{key:"verifyOperationInProgress",value:function(){}},{key:"iu",value:function(){var e=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Wa,e.next=3,t;case 3:if(t!==this.Wa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"su",value:function(e){var t,n=$(this.ja);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ou",value:function(e){var t=this;return this.iu().then((function(){t.ja.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=$(t.ja);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.iu()}))}},{key:"_u",value:function(e){this.Za.push(e)}},{key:"ru",value:function(e){var t=this.ja.indexOf(e);this.ja.splice(t,1)}}]),e}();var by=function(e){G(n,e);var t=X(n);function n(e,r,i,a){var o;return Y(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new ky,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Z(n,[{key:"_terminate",value:function(){return this._firestoreClient||xy(this),this._firestoreClient.terminate()}}]),n}(hy);function wy(e){return e._firestoreClient||xy(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function xy(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Xf(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,iy(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Hg(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Sy=function(){function e(t){Y(this,e),this._byteString=t}return Z(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(zf.fromBase64String(t))}catch(t){throw new Kl(Hl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(zf.fromUint8Array(t))}}]),e}(),Ey=function(){function e(){Y(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Kl(Hl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ff(n)}return Z(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var _y=Z((function e(t){Y(this,e),this._methodName=t})),Ty=function(){function e(t,n){if(Y(this,e),!isFinite(t)||t<-90||t>90)throw new Kl(Hl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Kl(Hl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Z(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return rf(this._lat,e._lat)||rf(this._long,e._long)}}]),e}(),Iy=/^__.*__$/,Cy=function(){function e(t,n,r){Y(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Z(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Kd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hd(e,this.data,t,this.fieldTransforms)}}]),e}(),Ny=function(){function e(t,n,r){Y(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Z(e,[{key:"toMutation",value:function(e,t){return new Kd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Ay(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zl()}}var jy=function(){function e(t,n,r,i,a,o){Y(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.au(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Z(e,[{key:"path",get:function(){return this.settings.path}},{key:"uu",get:function(){return this.settings.uu}},{key:"cu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"lu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.cu({path:n,hu:!1});return r.Pu(e),r}},{key:"Iu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.cu({path:n,hu:!1});return r.au(),r}},{key:"Tu",value:function(e){return this.cu({path:void 0,hu:!0})}},{key:"Eu",value:function(e){return Qy(e,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"au",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Pu(this.path.get(e))}},{key:"Pu",value:function(e){if(0===e.length)throw this.Eu("Document fields must not be empty");if(Ay(this.uu)&&Iy.test(e))throw this.Eu('Document fields cannot begin and end with "__"')}}]),e}(),Ry=function(){function e(t,n,r){Y(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Qv(t)}return Z(e,[{key:"Ru",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new jy({uu:e,methodName:t,Au:n,path:ff.emptyPath(),hu:!1,du:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function Oy(e){var t=e._freezeSettings(),n=Qv(e._databaseId);return new Ry(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ly(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Ru(a.merge||a.mergeFields?2:0,t,n,i);Hy("Data must be an object, but it was:",o,r);var s,u,c=qy(r,o);if(a.merge)s=new Uf(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=$(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=Ky(t,l.value,n);if(!o.contains(d))throw new Kl(Hl.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));Xy(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new Uf(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new Cy(new hh(c),s,u)}var Py=function(e){G(n,e);var t=X(n);function n(){return Y(this,n),t.apply(this,arguments)}return Z(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.uu)throw 1===e.uu?e.Eu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Eu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(_y);function Dy(e,t,n){return new jy({uu:3,Au:t.settings.Au,methodName:e._methodName,hu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var My=function(e){G(n,e);var t=X(n);function n(e,r){var i;return Y(this,n),(i=t.call(this,e)).Vu=r,i}return Z(n,[{key:"_toFieldTransform",value:function(e){var t=Dy(this,e,!0),n=this.Vu.map((function(e){return zy(e,t)})),r=new Id(n);return new Ld(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(_y),Fy=function(e){G(n,e);var t=X(n);function n(e,r){var i;return Y(this,n),(i=t.call(this,e)).Vu=r,i}return Z(n,[{key:"_toFieldTransform",value:function(e){var t=Dy(this,e,!0),n=this.Vu.map((function(e){return zy(e,t)})),r=new Nd(n);return new Ld(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(_y);function Uy(e,t,n,r){var i=e.Ru(1,t,n);Hy("Data must be an object, but it was:",i,r);var a=[],o=hh.empty();Rf(r,(function(e,r){var s=Gy(t,e,n);r=Ie(r);var u=i.Iu(s);if(r instanceof Py)a.push(s);else{var c=zy(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Uf(a);return new Ny(o,s,i.fieldTransforms)}function Vy(e,t,n,r,i,a){var o=e.Ru(1,t,n),s=[Ky(t,r,n)],u=[i];if(a.length%2!=0)throw new Kl(Hl.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(Ky(t,a[c])),u.push(a[c+1]);for(var l=[],f=hh.empty(),h=s.length-1;h>=0;--h)if(!Xy(l,s[h])){var d=s[h],p=u[h];p=Ie(p);var v=o.Iu(d);if(p instanceof Py)l.push(d);else{var m=zy(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new Uf(l);return new Ny(f,g,o.fieldTransforms)}function zy(e,t){if(By(e=Ie(e)))return Hy("Unsupported field value:",t,e),qy(e,t);if(e instanceof _y)return function(e,t){if(!Ay(t.uu))throw t.Eu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Eu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.hu&&4!==t.uu)throw t.Eu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=$(e);try{for(a.s();!(n=a.n()).done;){var o=zy(n.value,t.Tu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ie(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return wd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=of.fromDate(e);return{timestampValue:Ip(t.serializer,n)}}if(e instanceof of){var r=new of(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ip(t.serializer,r)}}if(e instanceof Ty)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Sy)return{bytesValue:Cp(t.serializer,e._byteString)};if(e instanceof vy){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Eu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:jp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Eu("Unsupported field value: ".concat(cy(e)))}(e,t)}function qy(e,t){var n={};return Of(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Rf(e,(function(e,r){var i=zy(r,t.lu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function By(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof of||e instanceof Ty||e instanceof Sy||e instanceof vy||e instanceof _y)}function Hy(e,t,n){if(!By(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=cy(n);throw"an object"===r?t.Eu(e+" a custom object"):t.Eu(e+" "+r)}}function Ky(e,t,n){if((t=Ie(t))instanceof Ey)return t._internalPath;if("string"==typeof t)return Gy(e,t);throw Qy("Field path arguments must be of type string or ",e,!1,void 0,n)}var Wy=new RegExp("[~\\*/\\[\\]]");function Gy(e,t,n){if(t.search(Wy)>=0)throw Qy("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return te(Ey,ee(t.split(".")))._internalPath}catch(So){throw Qy("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Qy(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Kl(Hl.INVALID_ARGUMENT,s+e+u)}function Xy(e,t){return e.some((function(e){return e.isEqual(t)}))}var $y=function(){function e(t,n,r,i,a){Y(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Z(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new vy(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Yy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Jy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Yy=function(e){G(n,e);var t=X(n);function n(){return Y(this,n),t.apply(this,arguments)}return Z(n,[{key:"data",value:function(){return H(B(n.prototype),"data",this).call(this)}}]),n}($y);function Jy(e,t){return"string"==typeof t?Gy(e,t):t instanceof Ey?t._internalPath:t._delegate._internalPath}function Zy(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Kl(Hl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ek=function(){function e(){Y(this,e)}return Z(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Jf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hf(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Kf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw zl()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Rf(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new Ty(Hf(e.latitude),Hf(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Gf(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Qf(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Bf(e);return new of(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=cf.fromString(e);ql(Jp(n));var r=new $f(n.get(1),n.get(3)),i=new hf(n.popFirst(5));return r.isEqual(t)||Fl("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function tk(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var nk=function(){function e(t,n){Y(this,e),this.hasPendingWrites=t,this.fromCache=n}return Z(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),rk=function(e){G(n,e);var t=X(n);function n(e,r,i,a,o,s){var u;return Y(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Z(n,[{key:"exists",value:function(){return H(B(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new ik(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Jy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}($y),ik=function(e){G(n,e);var t=X(n);function n(){return Y(this,n),t.apply(this,arguments)}return Z(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return H(B(n.prototype),"data",this).call(this,e)}}]),n}(rk),ak=function(){function e(t,n,r,i){Y(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new nk(i.hasPendingWrites,i.fromCache),this.query=r}return Z(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new ik(n._firestore,n._userDataWriter,r.key,r,new nk(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Kl(Hl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new ik(e._firestore,e._userDataWriter,t.doc.key,t.doc,new nk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new ik(e._firestore,e._userDataWriter,t.doc.key,t.doc,new nk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ok(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function ok(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zl()}}var sk=function(e){G(n,e);var t=X(n);function n(e){var r;return Y(this,n),(r=t.call(this)).firestore=e,r}return Z(n,[{key:"convertBytes",value:function(e){return new Sy(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new vy(this.firestore,null,t)}}]),n}(ek);function uk(e){e=ly(e,py);var t=ly(e.firestore,by),n=wy(t),r=new sk(t);return Zy(e._query),ry(n,e._query).then((function(n){return new ak(t,r,e,n)}))}function ck(e,t,n){e=ly(e,vy);var r=ly(e.firestore,by),i=tk(e.converter,t,n);return dk(r,[Ly(Oy(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Dd.none())])}function lk(e,t,n){e=ly(e,vy);for(var r=ly(e.firestore,by),i=Oy(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return dk(r,[("string"==typeof(t=Ie(t))||t instanceof Ey?Vy(i,"updateDoc",e._key,t,n,o):Uy(i,"updateDoc",e._key,t)).toMutation(e._key,Dd.exists(!0))])}function fk(e){return dk(ly(e.firestore,by),[new Yd(e._key,Dd.none())])}function hk(e,t){var n=ly(e.firestore,by),r=yy(e),i=tk(e.converter,t);return dk(n,[Ly(Oy(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Dd.exists(!1))]).then((function(){return r}))}function dk(e,t){return function(e,t){var n=new Wl;return e.asyncQueue.enqueueAndForget(o(i().mark((function r(){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=mg,r.next=3,ey(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(wy(e),t)}function pk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new My("arrayUnion",t)}function vk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Fy("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ll=e}(kt),pt(new Ce("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new by(new $l(e.getProvider("auth-internal")),new ef(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Kl(Hl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $f(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),xt(Rl,"4.1.0",e),xt(Rl,"4.1.0","esm2017")}();var mk=bt({apiKey:"AIzaSyDVf5gkR-nV_pqnNdVGNQfSn0mxj7vSTUc",authDomain:"basepro-75226.firebaseapp.com",projectId:"basepro-75226",storageBucket:"basepro-75226.appspot.com",messagingSenderId:"806307306918",appId:"1:806307306918:web:bd59c4da756c5152f8c367"}),gk=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt(),t=vt(e,"auth");if(t.isInitialized())return t.getImmediate();var n,r=function(e,t){var n=vt(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(be(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Gt(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:$a,persistence:[Wi,bi,xi]}),a=he("authTokenSyncURL");if(a){var s=(n=a,function(){var e=o(i().mark((function e(t){var r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=5;break}return e.next=4,t.getIdTokenResult();case 4:e.t0=e.sent;case 5:if(r=e.t0,!((a=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&a>so)){e.next=9;break}return e.abrupt("return");case 9:if(o=null===r||void 0===r?void 0:r.token,uo!==o){e.next=12;break}return e.abrupt("return");case 12:return uo=o,e.next=15,fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:"Bearer ".concat(o)}:{}});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());!function(e,t,n){Ie(e).beforeAuthStateChanged(t,n)}(r,s,(function(){return s(r.currentUser)})),function(e,t,n,r){Ie(e).onIdTokenChanged(t,n,r)}(r,(function(e){return s(e)}))}var u=le("auth");return u&&kr(r,"http://".concat(u)),r}(mk),yk=function(e,t){var n="string"==typeof e?e:t||"(default)",r=vt("object"==typeof e?e:wt(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=function(e){var t=le(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}}("firestore");i&&dy.apply(void 0,[r].concat(ee(i)))}return r}(mk),kk=function(){var e=o(i().mark((function e(t){var n,r,a,o,s,u,c,f=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=f.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=f[a];return o=r.join("/"),e.prev=2,s=gy(yk,o),e.next=6,uk(s);case 6:u=e.sent,c=u.docs.map((function(e){return l({id:e.id},e.data())})),t(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("Erro ao buscar dados:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),bk=function(){var e=o(i().mark((function e(t,n,r){var a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=gy(yk,n),e.next=4,uk(a);case 4:o=e.sent,s=o.docs.map((function(e){return l({id:e.id},e.data())})),s.map((function(e){e.id===r&&t(e)})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Erro ao buscar dados:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),wk=function(){var e=o(i().mark((function e(t,n,r){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=yy(yk,t,n),e.next=4,lk(a,r);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Erro ao atualizar dados:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r){return e.apply(this,arguments)}}(),xk=function(){var e=o(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=yy(yk,t,n),e.next=4,fk(r);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Erro ao excluir dados:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),Sk={"Firebase: Error (auth/app-deleted).":"O banco de dados n\xe3o foi localizado.","Firebase: Error (auth/expired-action-code).":"O c\xf3digo da a\xe7\xe3o o ou link expirou.","Firebase: Error (auth/invalid-action-code).":"O c\xf3digo da a\xe7\xe3o \xe9 inv\xe1lido. Isso pode acontecer se o c\xf3digo estiver malformado ou j\xe1 tiver sido usado.","Firebase: Error (auth/user-disabled).":"O usu\xe1rio correspondente \xe0 credencial fornecida foi desativado.","Firebase: Error (auth/user-not-found).":"O usu\xe1rio n\xe3o correponde \xe0 nenhuma credencial.","Firebase: Error (auth/weak-password).":"A senha \xe9 muito fraca.","Firebase: Error (auth/email-already-in-use).":"J\xe1 existi uma conta com o endere\xe7o de email fornecido.","Firebase: Error (auth/invalid-email).":"O endere\xe7o de e-mail n\xe3o \xe9 v\xe1lido.","Firebase: Error (auth/operation-not-allowed).":"O tipo de conta correspondente \xe0 esta credencial, ainda n\xe3o encontra-se ativada.","Firebase: Error (auth/account-exists-with-different-credential).":"E-mail j\xe1 associado a outra conta.","Firebase: Error (auth/auth-domain-config-required).":"A configura\xe7\xe3o para autentica\xe7\xe3o n\xe3o foi fornecida.","Firebase: Error (auth/credential-already-in-use).":"J\xe1 existe uma conta para esta credencial.","Firebase: Error (auth/operation-not-supported-in-this-environment).":"Esta opera\xe7\xe3o n\xe3o \xe9 suportada no ambiente que est\xe1 sendo executada. Verifique se deve ser http ou https.","Firebase: Error (auth/timeout).":"Excedido o tempo de resposta. O dom\xednio pode n\xe3o estar autorizado para realizar opera\xe7\xf5es.","Firebase: Error (auth/missing-android-pkg-name).":"Deve ser fornecido um nome de pacote para instala\xe7\xe3o do aplicativo Android.","Firebase: Error (auth/missing-continue-uri).":"A pr\xf3xima URL deve ser fornecida na solicita\xe7\xe3o.","Firebase: Error (auth/missing-ios-bundle-id).":"Deve ser fornecido um nome de pacote para instala\xe7\xe3o do aplicativo iOS.","Firebase: Error (auth/invalid-continue-uri).":"A pr\xf3xima URL fornecida na solicita\xe7\xe3o \xe9 inv\xe1lida.","Firebase: Error (auth/unauthorized-continue-uri).":"O dom\xednio da pr\xf3xima URL n\xe3o est\xe1 na lista de autoriza\xe7\xf5es.","Firebase: Error (auth/invalid-dynamic-link-domain).":"O dom\xednio de link din\xe2mico fornecido, n\xe3o est\xe1 autorizado ou configurado no projeto atual.","Firebase: Error (auth/argument-error).":"Verifique a configura\xe7\xe3o de link para o aplicativo.","Firebase: Error (auth/invalid-persistence-type).":"O tipo especificado para a persist\xeancia dos dados \xe9 inv\xe1lido.","Firebase: Error (auth/unsupported-persistence-type).":"O ambiente atual n\xe3o suportar o tipo especificado para persist\xeancia dos dados.","Firebase: Error (auth/invalid-credential).":"A credencial expirou ou est\xe1 mal formada.","Firebase: Error (auth/wrong-password).":"Senha incorreta.","Firebase: Error (auth/invalid-verification-code).":"O c\xf3digo de verifica\xe7\xe3o da credencial n\xe3o \xe9 v\xe1lido.","Firebase: Error (auth/invalid-verification-id).":"O ID de verifica\xe7\xe3o da credencial n\xe3o \xe9 v\xe1lido.","Firebase: Error (auth/custom-token-mismatch).":"O token est\xe1 diferente do padr\xe3o solicitado.","Firebase: Error (auth/invalid-custom-token).":"O token fornecido n\xe3o \xe9 v\xe1lido.","Firebase: Error (auth/captcha-check-failed).":"O token de resposta do reCAPTCHA n\xe3o \xe9 v\xe1lido, expirou ou o dom\xednio n\xe3o \xe9 permitido.","Firebase: Error (auth/invalid-phone-number).":"O n\xfamero de telefone est\xe1 em um formato inv\xe1lido (padr\xe3o E.164).","Firebase: Error (auth/missing-phone-number).":"O n\xfamero de telefone \xe9 requerido.","Firebase: Error (auth/quota-exceeded).":"A cota de SMS foi excedida.","Firebase: Error (auth/cancelled-popup-request).":"Somente uma solicita\xe7\xe3o de janela pop-up \xe9 permitida de uma s\xf3 vez.","Firebase: Error (auth/popup-blocked).":"A janela pop-up foi bloqueado pelo navegador.","Firebase: Error (auth/popup-closed-by-user).":"A janela pop-up foi fechada pelo usu\xe1rio sem concluir o login no provedor.","Firebase: Error (auth/unauthorized-domain).":"O dom\xednio do aplicativo n\xe3o est\xe1 autorizado para realizar opera\xe7\xf5es.","Firebase: Error (auth/invalid-user-token).":"O usu\xe1rio atual n\xe3o foi identificado.","Firebase: Error (auth/user-token-expired).":"O token do usu\xe1rio atual expirou.","Firebase: Error (auth/null-user).":"O usu\xe1rio atual \xe9 nulo.","Firebase: Error (auth/app-not-authorized).":"Aplica\xe7\xe3o n\xe3o autorizada para autenticar com a chave informada.","Firebase: Error (auth/invalid-api-key).":"A chave da API fornecida \xe9 inv\xe1lida.","Firebase: Error (auth/network-request-failed).":"Falha de conex\xe3o com a rede.","Firebase: Error (auth/requires-recent-login).":"O \xfaltimo hor\xe1rio de acesso do usu\xe1rio n\xe3o atende ao limite de seguran\xe7a.","Firebase: Error (auth/too-many-requests).":"As solicita\xe7\xf5es foram bloqueadas devido a atividades incomuns. Tente novamente depois que algum tempo.","Firebase: Error (auth/web-storage-unsupported).":"O navegador n\xe3o suporta armazenamento ou se o usu\xe1rio desativou este recurso.","Firebase: Error (auth/invalid-claims).":"Os atributos de cadastro personalizado s\xe3o inv\xe1lidos.","Firebase: Error (auth/claims-too-large).":"O tamanho da requisi\xe7\xe3o excede o tamanho m\xe1ximo permitido de 1 Megabyte.","Firebase: Error (auth/id-token-expired).":"O token informado expirou.","Firebase: Error (auth/id-token-revoked).":"O token informado perdeu a validade.","Firebase: Error (auth/invalid-argument).":"Um argumento inv\xe1lido foi fornecido a um m\xe9todo.","Firebase: Error (auth/invalid-creation-time).":"O hor\xe1rio da cria\xe7\xe3o precisa ser uma data UTC v\xe1lida.","Firebase: Error (auth/invalid-disabled-field).":"A propriedade para usu\xe1rio desabilitado \xe9 inv\xe1lida.","Firebase: Error (auth/invalid-display-name).":"O nome do usu\xe1rio \xe9 inv\xe1lido.","Firebase: Error (auth/invalid-email-verified).":"O e-mail \xe9 inv\xe1lido.","Firebase: Error (auth/invalid-hash-algorithm).":"O algoritmo de HASH n\xe3o \xe9 uma criptografia compat\xedvel.","Firebase: Error (auth/invalid-hash-block-size).":"O tamanho do bloco de HASH n\xe3o \xe9 v\xe1lido.","Firebase: Error (auth/invalid-hash-derived-key-length).":"O tamanho da chave derivada do HASH n\xe3o \xe9 v\xe1lido.","Firebase: Error (auth/invalid-hash-key).":"A chave de HASH precisa ter um buffer de byte v\xe1lido.","Firebase: Error (auth/invalid-hash-memory-cost).":"O custo da mem\xf3ria HASH n\xe3o \xe9 v\xe1lido.","Firebase: Error (auth/invalid-hash-parallelization).":"O carregamento em paralelo do HASH n\xe3o \xe9 v\xe1lido.","Firebase: Error (auth/invalid-hash-rounds).":"O arredondamento de HASH n\xe3o \xe9 v\xe1lido.","Firebase: Error (auth/invalid-hash-salt-separator).":"O campo do separador de SALT do algoritmo de gera\xe7\xe3o de HASH precisa ser um buffer de byte v\xe1lido.","Firebase: Error (auth/invalid-id-token).":"O c\xf3digo do token informado n\xe3o \xe9 v\xe1lido.","Firebase: Error (auth/invalid-last-sign-in-time).":"O \xfaltimo hor\xe1rio de login precisa ser uma data UTC v\xe1lida.","Firebase: Error (auth/invalid-page-token).":"A pr\xf3xima URL fornecida na solicita\xe7\xe3o \xe9 inv\xe1lida.","Firebase: Error (auth/invalid-password).":"A senha \xe9 inv\xe1lida, precisa ter pelo menos 6 caracteres.","Firebase: Error (auth/invalid-password-hash).":"O HASH da senha n\xe3o \xe9 v\xe1lida.","Firebase: Error (auth/invalid-password-salt).":"O SALT da senha n\xe3o \xe9 v\xe1lido.","Firebase: Error (auth/invalid-photo-url).":"A URL da foto de usu\xe1rio \xe9 inv\xe1lido.","Firebase: Error (auth/invalid-provider-id).":"O identificador de provedor n\xe3o \xe9 compat\xedvel.","Firebase: Error (auth/invalid-session-cookie-duration).":"A dura\xe7\xe3o do COOKIE da sess\xe3o precisa ser um n\xfamero v\xe1lido em milissegundos, entre 5 minutos e 2 semanas.","Firebase: Error (auth/invalid-uid).":"O identificador fornecido deve ter no m\xe1ximo 128 caracteres.","Firebase: Error (auth/invalid-user-import).":"O registro do usu\xe1rio a ser importado n\xe3o \xe9 v\xe1lido.","Firebase: Error (auth/invalid-provider-data).":"O provedor de dados n\xe3o \xe9 v\xe1lido.","Firebase: Error (auth/maximum-user-count-exceeded).":"O n\xfamero m\xe1ximo permitido de usu\xe1rios a serem importados foi excedido.","Firebase: Error (auth/missing-hash-algorithm).":"\xc9 necess\xe1rio fornecer o algoritmo de gera\xe7\xe3o de HASH e seus par\xe2metros para importar usu\xe1rios.","Firebase: Error (auth/missing-uid).":"Um identificador \xe9 necess\xe1rio para a opera\xe7\xe3o atual.","Firebase: Error (auth/reserved-claims).":"Uma ou mais propriedades personalizadas fornecidas usaram palavras reservadas.","Firebase: Error (auth/session-cookie-revoked).":"O COOKIE da sess\xe3o perdeu a validade.","Firebase: Error (auth/uid-alread-exists).":"O indentificador fornecido j\xe1 est\xe1 em uso.","Firebase: Error (auth/email-already-exists).":"O e-mail fornecido j\xe1 est\xe1 em uso.","Firebase: Error (auth/phone-number-already-exists).":"O telefone fornecido j\xe1 est\xe1 em uso.","Firebase: Error (auth/project-not-found).":"Nenhum projeto foi encontrado.","Firebase: Error (auth/insufficient-permission).":"A credencial utilizada n\xe3o tem permiss\xe3o para acessar o recurso solicitado.","Firebase: Error (auth/internal-error).":"O servidor de autentica\xe7\xe3o encontrou um erro inesperado ao tentar processar a solicita\xe7\xe3o."};function Ek(e){return k({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M17.47 250.9C88.82 328.1 158 397.6 224.5 485.5c72.3-143.8 146.3-288.1 268.4-444.37L460 26.06C356.9 135.4 276.8 238.9 207.2 361.9c-48.4-43.6-126.62-105.3-174.38-137z"}}]})(e)}function _k(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z",fill:"currentColor"}}]})(e)}function Tk(e){return k({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M256 336h-.02c0-16.18 1.34-8.73-85.05-181.51-17.65-35.29-68.19-35.36-85.87 0C-2.06 328.75.02 320.33.02 336H0c0 44.18 57.31 80 128 80s128-35.82 128-80zM128 176l72 144H56l72-144zm511.98 160c0-16.18 1.34-8.73-85.05-181.51-17.65-35.29-68.19-35.36-85.87 0-87.12 174.26-85.04 165.84-85.04 181.51H384c0 44.18 57.31 80 128 80s128-35.82 128-80h-.02zM440 320l72-144 72 144H440zm88 128H352V153.25c23.51-10.29 41.16-31.48 46.39-57.25H528c8.84 0 16-7.16 16-16V48c0-8.84-7.16-16-16-16H383.64C369.04 12.68 346.09 0 320 0s-49.04 12.68-63.64 32H112c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h129.61c5.23 25.76 22.87 46.96 46.39 57.25V448H112c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h416c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"}}]})(e)}function Ik(e){return k({tag:"svg",attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"}}]})(e)}function Ck(e){return k({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function Nk(e){var t,n=e.toast;if("success"===n.type)t=(0,R.jsx)("div",{className:"w-[5%]",children:(0,R.jsx)(Ek,{})});else if("warning"===n.type)t=(0,R.jsx)("div",{className:"w-[5%]",children:(0,R.jsx)(Ik,{})});else{if("error"!==n.type)return(0,R.jsx)(R.Fragment,{});t=(0,R.jsx)("div",{className:"w-[5%] font-extrabold",children:(0,R.jsx)(_k,{})})}return n.isOn?(0,R.jsxs)("div",{className:"toast",children:[(0,R.jsxs)("div",{className:"success"===n.type?"text-lime-600 titleToast":"text-orange-600 titleToast",children:[t,(0,R.jsx)("div",{children:n.title.toUpperCase()}),t]}),(0,R.jsx)("div",{className:"success"===n.type?"text-lime-600 messageToast":"text-orange-600 messageToast",children:n.message})]}):(0,R.jsx)(R.Fragment,{})}function Ak(){return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("p",{className:"p-2 text-justify",children:"Ol\xe1, meu nome \xe9 Danilo Gabriel Fagundes de Oliveira Ferreira. Sou formado em Engenharia Qu\xedmica pela Universidade Federal da Bahia. Sou apaixonado pelo desenvolvimento e aprendiz de mago."}),(0,R.jsxs)("p",{className:"p-2 text-justify",children:["Minha paix\xe3o pelo desenvolvimento come\xe7ou enquanto eu jogava ",(0,R.jsx)("spam",{children:" MMORPGs"}),', onde eu percebi o qu\xe3o a vida precisa que nos desenvolvamos para consequir realizar as nossas "miss\xf5es". E isso me conduziu \xe0 busca pelo auto conhecimento, onde testei minhas habilidades em diversas \xe1reas para descobrir quais eu possuo mais ou menos aptid\xe3o. Refletir sobre as minhas fraquezas e virtudes me fizeram perceber que todas as pessoas possuem um equil\xedbrio entre seus aspectos, e que o destaque que \xe9 alcan\xe7ado est\xe1 bem relacionado com atuar onde se possui mais talento ou pot\xeancial a ser ',(0,R.jsx)("spam",{children:" desenvolvido"}),". O maravilhoso sobre isso \xe9 que as diferen\xe7as que eram propostas nos jogos tamb\xe9m existem na vida real, e a soma dessas diferen\xe7as s\xe3o a chave do sucesso de um grupo, e o que \xe9 a humanidade, se n\xe3o um grande grupo?"]}),(0,R.jsx)("p",{className:"p-2 text-justify",children:"Resolvi estudar engenharia, o que pra mim foi um caminho para come\xe7ar a prestar um servi\xe7o ao meu grupo, entre todas aquelas disciplinas cursadas, sempre me deparei com pessoas, que me ajudaram e que eu ajudei, uma dessas eu at\xe9 me casei. Come\xe7ar a viver para gerar um servi\xe7o me fez perceber que nosso trabalho tem a ver com qualidade de vida, a nossa, a da nossa fam\xedlia, da nossa vizinhan\xe7a e quanto mais a gente abrir a cabe\xe7a, mais vamos entender que a nossa vida melhora se tudo melhorar e o dinheiro pelo qual tanto batalhamos pra ter n\xe3o \xe9 a raz\xe3o e sim o meio Conheci pessoas no caminho, e algumas eram ou s\xe3o simplesmente fant\xe1sticas!"}),(0,R.jsxs)("p",{className:"p-2 text-justify",children:["Nos \xfaltimos dois anos tenho me aprofundado na simplifica\xe7\xe3o de desafios utilizando ferramentas digitais e mais uma vez me vejo falando sobre ",(0,R.jsx)("spam",{children:" desenvolvimento"}),". Por isso me auto-intitulei um aprendiz de mago, afinal a tecnologia que ainda n\xe3o \xe9 completamente compreendida pela maioria geralmente \xe9 confundida com magia. E, gra\xe7as a isso, hoje voc\xea pode estar me conhecendo melhor, afinal encontrei uma forma, particular, de compartilhar a minha vida. Tamb\xe9m espero que voc\xea encontre aqui algo que possa ajudar a melhorar a sua vida!"]}),(0,R.jsx)("p",{className:"p-2 text-justify",children:"\" 'Tamo junto' \xe9 mais que um erro de gram\xe1tica... \""})]})}function jk(e){var t=e.sideBar,n=e.setSideBar,r=e.setSection;return(0,R.jsxs)("div",{className:"abMeSidebarOpen",children:[(0,R.jsxs)("div",{className:"abMeSidebarOpenButtonsList mt-2",children:[(0,R.jsx)("div",{id:"apresentacao",onClick:function(e){return r(e.currentTarget.id)},className:"devaItem",children:"Apresenta\xe7\xe3o"}),(0,R.jsx)("div",{id:"curriculo",onClick:function(e){return r(e.currentTarget.id)},className:"devaItem",children:"Curr\xedculo"}),(0,R.jsx)("div",{id:"cursos",onClick:function(e){return r(e.currentTarget.id)},className:"devaItem",children:"Cursos"}),(0,R.jsx)("div",{id:"hobbies",onClick:function(e){return r(e.currentTarget.id)},className:"devaItem",children:"Hobbies"})]}),(0,R.jsx)("div",{className:"abMeSidebarOpenCloseButton",onClick:function(e){return n(!t)},children:(0,R.jsx)(x,{})})]})}function Rk(e){var t=e.sideBar,n=e.setSideBar;return(0,R.jsx)("div",{className:"abMeSidebarClosed",children:(0,R.jsx)("div",{className:"abMeSidebarClosedOpenButton",onClick:function(e){return n(!t)},children:(0,R.jsx)(S,{})})})}function Ok(e){var t,n=e.item,r=e.openedItem,i=e.detailsMode,a=e.show,o=e.setShow;return t=r===n.id&&!0===i?(0,R.jsxs)("div",{id:n.id,className:"bg-zinc-400 rounded-xl mt-1 flex flex-col gap-1 justify-around",children:[(0,R.jsxs)("div",{children:["Oferecido por: ",n.issuer]}),(0,R.jsxs)("div",{children:["Carga hor\xe1ria de ",n.workload," ",Number(n.workload)>1?"horas":"hora"]}),a?(0,R.jsx)("img",{src:n.image,alt:""}):(0,R.jsx)(R.Fragment,{}),(0,R.jsx)("button",{id:n.name,className:"buttons mb-2 w-[95%]",onClick:function(e){o(!a)},children:a?"Ocultar Certificado":"Ver Certificado"})]}):(0,R.jsx)(R.Fragment,{}),(0,R.jsx)(R.Fragment,{children:t})}function Lk(){var t,n=d((0,e.useState)([]),2),r=n[0],i=n[1],a=d((0,e.useState)(""),2),o=a[0],s=a[1],u=d((0,e.useState)(!1),2),c=u[0],l=u[1],f=d((0,e.useState)(!1),2),h=f[0],p=f[1];return t=0===r.length?"Ainda n\xe3o h\xe1 cursos cadastrados":r.map((function(e){return(0,R.jsxs)("div",{id:e.id,onClick:function(e){return function(e){h?e.target.id===o?p(!1):s(e.currentTarget.id):(s(e.currentTarget.id),p(!0))}(e)},className:"bg-zinc-500 px-2 rounded-xl group my-2",children:[e.name,(0,R.jsx)(Ok,{item:e,openedItem:o,detailsMode:h,show:c,setShow:l})]},e.id)})),(0,e.useEffect)((function(){kk(i,"Courses")}),[]),(0,R.jsx)("div",{children:t})}function Pk(){var t,n=d((0,e.useState)(!1),2),r=n[0],i=n[1],a=d((0,e.useState)("apresentacao"),2),o=a[0],s=a[1],u=[{name:"apresentacao",title:"Apresenta\xe7\xe3o",content:(0,R.jsx)(Ak,{})},{name:"curriculo",title:"Curr\xedculo",content:(0,R.jsx)(Ak,{})},{name:"cursos",title:"Cursos",content:(0,R.jsx)(Lk,{})},{name:"hobbies",title:"Hobbies",content:(0,R.jsx)(Ak,{})}];return(0,e.useEffect)((function(){document.title="DGF - Sobre mim"}),[]),t=r?(0,R.jsx)(jk,{sideBar:r,setSideBar:i,setSection:s}):(0,R.jsx)(Rk,{sideBar:r,setSideBar:i}),(0,R.jsxs)("div",{className:"abMeBg",children:[t,u.map((function(e){if(e.name===o)return(0,R.jsxs)("div",{className:"w-full flex flex-col gap-1",children:[(0,R.jsx)("div",{className:"bg-zinc-700 text-zinc-50 text-lg font-extrabold mr-1 mt-1 devaTopic",children:e.title.toUpperCase()}),(0,R.jsx)("div",{className:"bg-zinc-600 text-zinc-50 mr-1 h-full mb-1 devaTopic relative overflow-auto",children:e.content})]})}))]})}function Dk(e){return k({tag:"svg",attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 4 4 L 4 7.65625 L 1 11.65625 L 1 12 C 1 13.644531 2.355469 15 4 15 L 4 28 L 20 28 L 20 19 L 22 19 L 22 28 L 28 28 L 28 15 C 29.644531 15 31 13.644531 31 12 L 31 11.65625 L 28 7.65625 L 28 4 Z M 6 6 L 26 6 L 26 7 L 6 7 Z M 5.5 9 L 26.5 9 L 28.90625 12.21875 C 28.796875 12.652344 28.46875 13 28 13 C 27.445313 13 27 12.554688 27 12 L 25 12 C 25 12.554688 24.554688 13 24 13 C 23.445313 13 23 12.554688 23 12 L 21 12 C 21 12.554688 20.554688 13 20 13 C 19.445313 13 19 12.554688 19 12 L 17 12 C 17 12.554688 16.554688 13 16 13 C 15.445313 13 15 12.554688 15 12 L 13 12 C 13 12.554688 12.554688 13 12 13 C 11.445313 13 11 12.554688 11 12 L 9 12 C 9 12.554688 8.554688 13 8 13 C 7.445313 13 7 12.554688 7 12 L 5 12 C 5 12.554688 4.554688 13 4 13 C 3.53125 13 3.203125 12.652344 3.09375 12.21875 Z M 6 14.21875 C 6.53125 14.699219 7.234375 15 8 15 C 8.765625 15 9.46875 14.699219 10 14.21875 C 10.53125 14.699219 11.234375 15 12 15 C 12.765625 15 13.46875 14.699219 14 14.21875 C 14.53125 14.699219 15.234375 15 16 15 C 16.765625 15 17.46875 14.699219 18 14.21875 C 18.53125 14.699219 19.234375 15 20 15 C 20.765625 15 21.46875 14.699219 22 14.21875 C 22.53125 14.699219 23.234375 15 24 15 C 24.765625 15 25.46875 14.699219 26 14.21875 L 26 26 L 24 26 L 24 17 L 18 17 L 18 26 L 6 26 Z M 8 17 L 8 24 L 16 24 L 16 17 Z M 10 19 L 14 19 L 14 22 L 10 22 Z"}}]})(e)}function Mk(){return(0,e.useEffect)((function(){document.title="Storeroom Monitoring App"}),[]),(0,R.jsxs)("div",{className:"w-full flex flex-col bg-gradient-to-r from-zinc-800 to-zinc-700",children:[(0,R.jsxs)("div",{className:"flex justify-center items-center px-2 mt-2 mb-4",children:[(0,R.jsx)(Dk,{className:"text-orange-500 h-[30px] w-[30px]"}),(0,R.jsx)("div",{className:"normal-text text-orange-500",children:"Storeroom Monitoring Web Application"}),(0,R.jsx)(Dk,{className:"text-orange-500 h-[30px] w-[30px]"})]}),(0,R.jsx)("div",{className:"normal-text text-orange-200",children:"O assitente Storeroom Monitoring Web Application \xe9 um servi\xe7o online de apoio para o controle de estoques, idealizado em 20 de julho de 2023. Tem como funcinalidades registrar as entradas e sa\xeddas de produtos de um estoque, facilitar a vizualiza\xe7\xe3o de produtos dispon\xedveis, uma lista com os produtos j\xe1 elencados e outras informa\xe7\xf5es inferidas a partir da an\xe1lise de consumo."}),(0,R.jsxs)("div",{className:"normal-text text-orange-500 overflow-auto",children:[(0,R.jsxs)("div",{children:["Ao clicar no SMA criar um banco de dados e levar o uid do usu\xe1rio",(0,R.jsx)("li",{className:"text-orange-300",children:"limitar cada usu\xe1rio a possuir no m\xe1ximo 2 bancos de dados"}),(0,R.jsx)("li",{className:"text-orange-300",children:"criar um sistema de solicita\xe7\xe3o, lista de solicita\xe7\xf5es, lista de requerimentos, lista de amigos"})]}),(0,R.jsxs)("div",{children:["Criar uma lista de DB que possuem o uid na lista de permiss\xf5es",(0,R.jsx)("li",{className:"text-orange-300",children:"verificar na lista de dbs do SMA se o uid do user est\xe1 na lista de allowed"}),(0,R.jsx)("li",{className:"text-orange-300",children:"guardar em uma lista de apresenta\xe7\xe3o e dispor os itens"}),(0,R.jsx)("li",{className:"text-orange-300",children:"s\xf3 ent\xe3o chegar na p\xe1gina que est\xe1 como home"})]})]})]})}function Fk(e){return k({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,34H182V24a6,6,0,0,0-12,0V34H86V24a6,6,0,0,0-12,0V34H48A14,14,0,0,0,34,48V208a14,14,0,0,0,14,14H208a14,14,0,0,0,14-14V48A14,14,0,0,0,208,34ZM48,46H74V56a6,6,0,0,0,12,0V46h84V56a6,6,0,0,0,12,0V46h26a2,2,0,0,1,2,2V82H46V48A2,2,0,0,1,48,46ZM208,210H48a2,2,0,0,1-2-2V94H210V208A2,2,0,0,1,208,210Zm-98-90v64a6,6,0,0,1-12,0V129.71l-7.32,3.66a6,6,0,1,1-5.36-10.74l16-8A6,6,0,0,1,110,120Zm59.57,29.25L148,178h20a6,6,0,0,1,0,12H136a6,6,0,0,1-4.8-9.6L160,142a10,10,0,1,0-16.65-11A6,6,0,1,1,133,125a22,22,0,1,1,36.62,24.26Z"}}]})(e)}function Uk(e){var t=e.name,n=e.setName,r=e.company,i=e.setCompany,a=e.price,o=e.setPrice,s=e.quantPerItem,u=e.setQuantPerItem,c=e.quantity,l=e.setQuantity,f=e.unit,h=e.setUnit,d=e.day,p=e.setDay,v=e.month,m=e.setMonth,g=e.year,y=e.setYear,k=e.handleQuantity,b=e.quantityInputRestriction;return(0,R.jsx)("form",{className:"smaForm",children:(0,R.jsxs)("div",{className:"flex flex-wrap gap-x-2 gap-y-1 justify-around",children:[(0,R.jsx)("input",{name:"name",placeholder:"Produto",value:t,onChange:function(e){return n(e.target.value)},className:"smaInputs min-w-[230px]"}),(0,R.jsx)("input",{name:"company",placeholder:"Marca",value:r,onChange:function(e){return i(e.target.value)},className:"smaInputs min-w-[230px]"}),(0,R.jsxs)("div",{className:"flex justify-between w-full min-w-[120px] max-w-[159px]",children:[(0,R.jsx)("div",{children:"R$"}),(0,R.jsx)("input",{name:"price",placeholder:"1,99",value:a,onChange:function(e){return b(e,o)},className:"smaInputs w-[89px]"})]}),(0,R.jsxs)("div",{className:"flex justify-between w-full min-w-[120px] max-w-[159px] items-center",children:[(0,R.jsx)("div",{className:"flex gap-[2px]",children:(0,R.jsx)(Tk,{className:"w-[23px] h-[23px]"})}),(0,R.jsx)("input",{name:"unit",placeholder:"200",value:s,onChange:function(e){return b(e,u)},className:"smaInputs w-[57px]"}),(0,R.jsxs)("select",{value:f,onChange:function(e){return h(e.target.value)},className:"smaInputs px-0 w-[73px]",children:[(0,R.jsx)("option",{children:"unid"}),(0,R.jsx)("option",{children:"g"}),(0,R.jsx)("option",{children:"kg"}),(0,R.jsx)("option",{children:"mL"}),(0,R.jsx)("option",{children:"L"})]})]}),(0,R.jsxs)("div",{className:"flex gap-1 min-w-[120px] max-w-[159px] justify-center items-center",children:["qntd",(0,R.jsx)("div",{children:(0,R.jsx)(T,{onClick:function(e){return k(e,-1,l)},className:"w-[23px] h-[23px]"})}),(0,R.jsx)("input",{name:"quantity",defaultValue:1,value:c,onChange:function(e){return b(e,l)},className:"smaInputs min-w-[50px] flex text-center"}),(0,R.jsx)("div",{children:(0,R.jsx)(I,{onClick:function(e){return k(e,1,l)},className:"w-[23px] h-[23px]"})})]}),(0,R.jsxs)("div",{className:"flex gap-[2px] min-w-[120px] max-w-[159px] justify-center items-center",children:[(0,R.jsx)("div",{children:(0,R.jsx)(Fk,{className:"w-[23px] h-[23px]"})}),(0,R.jsx)("input",{name:"day",placeholder:"01",defaultValue:(new Date).getDate(),value:d,onChange:function(e){return p(e.target.value)},className:"smaInputs w-[37px] min-w-[37px]"}),(0,R.jsx)("input",{name:"month",placeholder:"01",defaultValue:(new Date).getMonth()+1,value:v,onChange:function(e){return m(e.target.value)},className:"smaInputs w-[37px] min-w-[37px]"}),(0,R.jsx)("input",{name:"year",placeholder:"2000",defaultValue:(new Date).getFullYear(),value:g,onChange:function(e){return y(e.target.value)},className:"smaInputs w-[55px] min-w-[57px]"})]})]})})}function Vk(e){var t=e.handleListItems,n=e.handleSave;return(0,R.jsxs)("div",{className:"w-[95%] mx-auto mt-1 mb-2 pt-1 flex justify-around gap-1",children:[(0,R.jsx)("button",{onClick:function(e){return t(e)},className:"smaButtons",children:"Salvar Produto"}),(0,R.jsx)("button",{onClick:function(e){return n(e)},className:"smaButtons",children:"Salvar Lista"})]})}function zk(e){var t,n=e.itemsList,r=e.handleDeleteItem,i=e.handleEditItem;return t=0!==Object.keys(n).length?n.map((function(e,t){return(0,R.jsxs)("div",{className:"smaItemOfList flex overflow-auto",children:[(0,R.jsx)("div",{name:"name",className:"w-[39%] min-w-[30px]",children:e.name}),(0,R.jsx)("div",{name:"company",className:"w-[39%] min-w-[30px]",children:e.company}),(0,R.jsxs)("div",{className:"w-[20%] min-w-[80px] flex justify-between",children:[(0,R.jsxs)("div",{className:"flex",children:[(0,R.jsx)("div",{name:"quantity",children:e.quantity}),"(",(0,R.jsxs)("div",{name:"unit",children:[" ",e.unit," "]}),")"]}),(0,R.jsx)("button",{onClick:function(t){return i(t,e)},children:(0,R.jsx)(E,{})}),(0,R.jsx)("button",{onClick:function(e){return r(e)},className:"text-black hover:text-orange-900",children:(0,R.jsx)(A,{})})]})]})})):(0,R.jsx)("div",{className:"flex justify-center",children:"Suas compras aparecer\xe3o aqui"}),(0,R.jsx)("div",{className:"smaList flex flex-col",children:t})}function qk(t){var n=t.listId,r=t.handleQuantity,a=t.quantityInputRestriction,s=d((0,e.useState)(""),2),u=s[0],c=s[1],l=d((0,e.useState)(""),2),f=l[0],h=l[1],p=d((0,e.useState)(""),2),v=p[0],m=p[1],g=d((0,e.useState)(""),2),y=g[0],k=g[1],b=d((0,e.useState)(""),2),w=b[0],x=b[1],S=d((0,e.useState)(1),2),E=S[0],_=S[1],T=d((0,e.useState)((new Date).getDate()),2),I=T[0],C=T[1],N=d((0,e.useState)((new Date).getMonth()+1),2),A=N[0],j=N[1],O=d((0,e.useState)((new Date).getFullYear()),2),L=O[0],P=O[1],D=d((0,e.useState)([]),2),M=D[0],F=D[1],U=d((0,e.useState)([]),2),V=U[0],z=U[1],q=d((0,e.useState)(!1),2),B=q[0],H=q[1],K="SMA";(0,e.useEffect)((function(){kk(z,"SMA",n,"Stat")}),[B,n]);var W=function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{M.map(function(){var e=o(i().mark((function e(t,r){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hk(gy(yk,K,n,"List"),{name:t.name,company:t.company,price:t.price,quantPerItem:t.quantPerItem,quantPerPrice:Number(t.quantPerItem)/Number(t.price),unit:t.unit,quantity:t.quantity,day:t.day,month:t.month,year:t.year});case 2:if(a=V.find((function(e){return e.name===t.name&&e.company===t.company&&e.unit===t.unit}))){e.next=9;break}return e.next=6,hk(gy(yk,K,n,"Stat"),{name:t.name,unit:t.unit,quantity:Number(t.quantity)*Number(t.quantPerItem),min:Number(t.quantPerItem)/Number(t.price).toFixed(2),mean:Number(t.quantPerItem)/Number(t.price).toFixed(2),max:Number(t.quantPerItem)/Number(t.price).toFixed(2),occurrence:t.quantity,meanShoppingInterval:0});case 6:H(!B),e.next=12;break;case 9:return e.next=11,lk(yy(yk,K,n,"Stat",a.id),{quantity:a.unit===t.unit?Number(a.quantity)*Number(a.quantPerItem)+Number(t.quantity)*Number(t.quantPerItem):Number(a.quantPerItem)>Number(t.quantPerItem)?Number(a.quantity)*Number(a.quantPerItem)+Number(t.quantity)*Number(1e3*t.quantPerItem):Number(a.quantity)*Number(1e3*a.quantPerItem)+Number(t.quantity)*Number(t.quantPerItem),min:Number(t.quantPerItem)/Number(t.price)<Number(a.min)?Number(t.quantPerItem)/Number(t.price).toFixed(2):Number(a.min).toFixed(2),mean:((Number(a.mean)*Number(a.occurrence)+Number(t.quantPerItem)/Number(t.price))/(Number(a.occurrence)+1)).toFixed(2),max:Number(t.quantPerItem)/Number(t.price)>Number(a.max)?Number(t.quantPerItem)/Number(t.price).toFixed(2):Number(a.max).toFixed(2),occurrence:Number(t.quantity)>0?Number(a.occurrence)+Number(t.quantity):Number(a.occurrence),meanShoppingInterval:0});case 11:H(!B);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),console.log("Dados enviados com sucesso"),F([])}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,R.jsxs)("div",{className:"w-full h-full",children:[(0,R.jsx)("div",{className:"smaPageTitle ",children:"COMPRAR"}),(0,R.jsx)("div",{className:"smaSeparator"}),(0,R.jsx)(Uk,{name:u,setName:c,company:f,setCompany:h,price:v,setPrice:m,quantPerItem:y,setQuantPerItem:k,quantity:E,setQuantity:_,unit:w,setUnit:x,day:I,setDay:C,month:A,setMonth:j,year:L,setYear:P,handleQuantity:r,quantityInputRestriction:a}),(0,R.jsx)(Vk,{handleListItems:function(e){if(""===u)console.log("Toastify: O produto necessita de um nome");else if(0===E)console.log('Toastify: Como assim voc\xea comprou "zero" produto?');else if(""===w)console.log("Toastify: isso \xe9 em que unidade");else{M.find((function(e){return e.name===u&&e.company===f&&e.unit===w}))?console.log("Esse item j\xe1 foi adicionado \xe0 lista"):(F([].concat(ee(M),[{name:u,company:f,price:v,quantPerItem:y,quantity:E,unit:w,day:I,month:A,year:L}])),c(""))}},handleSave:W}),(0,R.jsx)("div",{className:"smaSeparator"}),(0,R.jsxs)("div",{className:"boughhtItemsList",children:[(0,R.jsx)(zk,{itemsList:M,handleDeleteItem:function(e){var t=e.target.closest(".smaItemOfList"),n=t.querySelector("[name='name']").innerText,r=t.querySelector("[name='company']").innerText,i=M.filter((function(e){return e.name!==n||e.company!==r}));F(ee(i))},handleEditItem:function(e,t){c(t.name),h(t.company),m(t.price),k(t.quantPerItem),_(t.quantity),x(t.unit),C(t.day),j(t.month),P(t.year);var n=M.filter((function(e){return e!==t}));F(ee(n))}}),(0,R.jsx)("div",{className:"smaSeparator"})]})]})}function Bk(e){var t=e.sideBarIsOpen,n=e.setSideBarIsOpen,r=e.itemSelected,i=e.setItemSelected,a=e.sideBarItems;return(0,R.jsxs)("div",{className:t?"sma-sidebar":"sma-sidebar min-w-[23px] max-w-[23px]",children:[t?(0,R.jsx)("div",{className:"sma-sidebar-buttons",children:a.map((function(e){return(0,R.jsx)("button",{disabled:e.name===r.name,onClick:function(t){return i({number:e.number,name:e.name})},className:"rounded-lg bg-orange-400 px-1 hover:bg-orange-500 text-zinc-700 font-bold",children:e.name},e.number)}))}):(0,R.jsx)(R.Fragment,{}),(0,R.jsx)("div",{onClick:function(e){return n(!t)},className:t?"abMeSidebarOpenCloseButton rounded-2xl":"abMeSidebarOpenCloseButton rounded-l-md rounded-r-2xl",children:t?(0,R.jsx)(x,{}):(0,R.jsx)(S,{})})]})}function Hk(t){var n=t.listId,r=d((0,e.useState)([]),2),i=r[0],a=r[1],o=d((0,e.useState)([]),2),s=o[0],u=o[1],c=d((0,e.useState)(!1),2),l=c[0],f=c[1];(0,e.useEffect)((function(){kk(a,"SMA",n,"Stat")}),[]);var h=ee(i);return(0,R.jsxs)("div",{className:"text-orange-500 w-full normal-text flex flex-col items-center",children:[(0,R.jsx)("div",{className:"w-[98%] bg-orange-500 text-zinc-700 text-2xl font-extrabold rounded-se-xl rounded-es-xl my-2",children:"ESTOQUE"}),(0,R.jsx)("div",{className:"smaSeparator"}),(0,R.jsxs)("div",{className:"w-[95%] my-1 flex justify-end items-center gap-2",children:[(0,R.jsxs)("div",{onClick:function(e){return console.log("itemList",i),void console.log("showedItems",h)},className:"flex justify-center items-center sm:gap-2",children:[(0,R.jsx)("div",{className:"w-0 sm:w-full text-zinc-800 sm:text-orange-500",children:"BUSCA"}),(0,R.jsx)(Ck,{className:"w-[22px] h-[22px]"})]}),(0,R.jsx)("input",{className:"smaInputs w-[99%] min-w-[150px] max-w-[300px]",onChange:function(e){return function(e){return u(h.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())})))}(e)}})]}),(0,R.jsx)("div",{className:"smaSeparator"}),(0,R.jsxs)("div",{className:"w-full flex flex-col gap-2 items-center",children:[(0,R.jsxs)("div",{className:"w-[93%] font-bold flex justify-between gap-2",children:[(0,R.jsx)("div",{children:"PRODUTO"}),(0,R.jsx)("div",{children:"QUANTIDADE"})]}),(0,R.jsx)("div",{className:"w-[99%] h-[650px] sm:w-[95%] overflow-auto bg-zinc-700 p-2 rounded-lg",children:(0===s.length?h:s).map((function(e,t){var n;return n=0===t?"bg-zinc-600 text-start flex flex-wrap rounded-ss-lg rounded-se-lg justify-between font-semibold":t===h.length-1?"bg-zinc-600 text-start flex flex-wrap rounded-es-lg rounded-ee-lg justify-between font-semibold":"bg-zinc-600 text-start flex flex-wrap justify-between font-semibold",(0,R.jsx)("div",{onClick:function(t){return function(e,t){return t.name!==l?f(t.name):f(!1)}(0,e)},children:(0,R.jsxs)("div",{className:n,children:[(0,R.jsx)("div",{className:"w-[94%] pl-1",children:"".concat(e.name," (").concat(e.company," ").concat(e.unit,")")}),(0,R.jsx)("div",{className:"w-[6%] ",children:e.quantity}),l===e.name?(0,R.jsxs)("div",{className:"bg-zinc-500 w-[99%] mx-auto my-[2px] rounded-lg flex gap-2 justify-around",children:[(0,R.jsxs)("div",{children:["Menor valor ",e.min]}),(0,R.jsxs)("div",{children:["Valor m\xe9dio ",e.mean]}),(0,R.jsxs)("div",{children:["Maior valor ",e.max]})]}):(0,R.jsx)(R.Fragment,{})]})},e.id)}))}),(0,R.jsx)("div",{className:"smaSeparator"})]})]})}function Kk(e){var t=e.handleCleanEntries,n=e.handleSubmit,r=e.handleSend;return(0,R.jsxs)("div",{className:"w-[95%] mx-auto my-2 pt-1 flex justify-around gap-1",children:[(0,R.jsx)("button",{onClick:function(e){return t(e)},className:"smaButtons bg-red-300 hover:bg-red-400",children:"LIMPAR"}),(0,R.jsx)("button",{onMouseEnter:function(e){return n(e)},onClick:function(e){return r(e)},className:"smaButtons",children:"CONFIRMAR"})]})}function Wk(t){var n=t.listId,r=d((0,e.useState)([]),2),a=r[0],s=r[1],u=d((0,e.useState)(""),2),c=u[0],l=u[1],f=d((0,e.useState)([]),2),h=f[0],p=f[1],v=d((0,e.useState)(""),2),m=v[0],g=v[1],y=d((0,e.useState)(""),2),k=y[0],b=y[1],w=d((0,e.useState)(1),2),x=w[0],S=w[1],E=d((0,e.useState)(""),2),_=E[0],C=E[1],N=d((0,e.useState)((new Date).getDate()),2),A=N[0],j=N[1],O=d((0,e.useState)((new Date).getMonth()+1),2),L=O[0],P=O[1],D=d((0,e.useState)((new Date).getYear()),2),M=D[0],F=D[1],U=d((0,e.useState)(""),2),V=U[0],z=U[1],q=function(e,t,n){l(t),"name"===e.target.parentElement.id?g(t):b(t);var r=a.filter((function(e){return e[n].toLowerCase().includes(t.toLowerCase())})).filter((function(e,t,n){return n.indexOf(e)===t}));p(r)},B=function(e,t){var n=e.currentTarget.parentElement.parentElement,r=Number(n.querySelector("[name=quantity]").value)+t;S(r=r<=1?1:r),n.querySelector("[name=quantity]").value=r},H=function(e){l(e),g(c.name),b(c.company),S(c.quantity),C(c.unit),j(c.day),P(c.month),F(c.year),p([])},K=function(e,t){var n={};return e.filter((function(e){return!n[e[t]]&&(n[e[t]]=!0,!0)}))},W=function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(c.name),b(c.company),S(c.quantity),C(c.unit),j(c.day),P(c.month),F(c.year);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.some((function(e){return e.name===m}))){e.next=2;break}return e.abrupt("return",z("Nenhum item no banco de dados possui esse nome"));case 2:if(a.some((function(e){return e.company===k}))){e.next=4;break}return e.abrupt("return",z("Ainda n\xe3o h\xe1 nenhum produto com esse nome da marca especificada"));case 4:return e.prev=4,e.next=7,hk(gy(yk,"SMA",n,"List"),{name:m,company:k,quantity:-x,day:A,month:L,year:M});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,e.useEffect)((function(){kk(s,"SMA",n,"List")}),[]),(0,R.jsxs)("div",{className:"w-full flex flex-col items-center",children:[(0,R.jsx)("div",{className:"smaPageTitle text-center",children:"PRODUTO CONSUMIDO"}),(0,R.jsx)("div",{className:"smaSeparator"}),(0,R.jsx)("div",{className:"w-[95%] rounded-lg bg-orange-200 flex flex-col items-center py-2",children:(0,R.jsxs)("div",{className:"flex flex-wrap gap-x-2 gap-y-1 justify-around",children:[(0,R.jsx)("input",{id:"name",placeholder:"Produto",className:"smaInputs min-w-[120px] max-w-[159px]",value:c.name,onChange:function(e){return q(e,e.target.value,"name")}}),(0,R.jsx)("input",{id:"company",placeholder:"Marca",className:"smaInputs min-w-[120px] max-w-[159px]",value:c.company,onChange:function(e){return q(e,e.target.value,"company")}}),(0,R.jsxs)("div",{className:"flex min-w-[120px] max-w-[159px]",children:[(0,R.jsx)("div",{children:(0,R.jsx)(T,{onClick:function(e){return B(e,-1)},className:"w-[23px] h-[23px]"})}),(0,R.jsx)("input",{id:"quantity",name:"quantity",defaultValue:1,className:"smaInputs min-w-[50px] flex text-center",onChange:function(e){return function(e){var t=e.currentTarget.value.replace(/[^\d+(.\d{1,2})?$]/g,"");t=t.replace(/,/g,"."),e.currentTarget.value=t}(e)}}),(0,R.jsx)("div",{children:(0,R.jsx)(I,{onClick:function(e){return B(e,1)},className:"w-[23px] h-[23px]"})})]}),(0,R.jsxs)("div",{className:"flex gap-1 min-w-[120px] max-w-[159px] justify-center items-center",children:[(0,R.jsxs)("div",{className:"flex gap-[2px]",children:[(0,R.jsx)(Tk,{className:"w-[23px] h-[23px]"}),(0,R.jsx)("div",{children:"/und"})]}),(0,R.jsx)("input",{name:"unit",placeholder:"ml",value:_,onChange:function(e){return C(e.target.value)},className:"smaInputs min-w-[75px] max-w-[90px]"})]}),(0,R.jsxs)("div",{className:"flex gap-[2px] min-w-[120px] max-w-[159px] justify-center items-center",children:[(0,R.jsx)("div",{children:(0,R.jsx)(Fk,{className:"w-[23px] h-[23px]"})}),(0,R.jsx)("input",{name:"day",placeholder:"01",defaultValue:(new Date).getDate(),onBlur:function(e){return j(e.target.value)},className:"smaInputs w-[37px] min-w-[37px]"}),(0,R.jsx)("input",{name:"month",placeholder:"01",defaultValue:(new Date).getMonth()+1,onBlur:function(e){return P(e.target.value)},className:"smaInputs w-[37px] min-w-[37px]"}),(0,R.jsx)("input",{name:"year",placeholder:"2000",defaultValue:(new Date).getFullYear(),onBlur:function(e){return F(e.target.value)},className:"smaInputs w-[55px] min-w-[57px]"})]})]})}),(0,R.jsx)(Kk,{handleCleanEntries:function(e){g(""),b(""),S(""),C(""),l({name:"",company:"",quantity:1,unit:""})},handleSubmit:W,handleSend:G}),""!==V?(0,R.jsxs)("div",{className:"w-[95%]",children:[(0,R.jsx)("div",{className:"smaSeparator w-full"}),(0,R.jsx)("div",{className:"normal-text  text-red-600",children:V})]}):(0,R.jsx)(R.Fragment,{}),(0,R.jsx)("div",{className:"smaSeparator"}),(0,R.jsx)("div",{className:"normal-text text-orange-500",children:0!==h.length||0!==a.length?"ou selecione um item abaixo":"ainda n\xe3o h\xe1 itens"}),(0,R.jsx)("div",{className:"smaList flex flex-col overflow-auto",children:0!==h.length?K(K(K(h,"name"),"company"),"unit").map((function(e,t){return(0,R.jsxs)("div",{onClick:function(){return H(e)},className:"smaItemOfList bg-orange-200 rounded-lg text-center",children:[e.name," ","(".concat(e.company," ").concat(e.unit,")")]},t)})):K(K(K(a,"name"),"company"),"unit").map((function(e,t){return(0,R.jsxs)("div",{onClick:function(){return H(e)},className:"smaItemOfList bg-orange-200 rounded-lg text-center",children:[e.name," ","(".concat(e.company," ").concat(e.unit,")")]},t)}))})]})}function Gk(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m10.933 13.519-2.226-2.226-1.414 1.414 3.774 3.774 5.702-6.84-1.538-1.282z"}},{tag:"path",attr:{d:"M19 3H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2zM5 19V5h14l.002 14H5z"}}]})(e)}function Qk(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 11H7.101l.001-.009a4.956 4.956 0 0 1 .752-1.787 5.054 5.054 0 0 1 2.2-1.811c.302-.128.617-.226.938-.291a5.078 5.078 0 0 1 2.018 0 4.978 4.978 0 0 1 2.525 1.361l1.416-1.412a7.036 7.036 0 0 0-2.224-1.501 6.921 6.921 0 0 0-1.315-.408 7.079 7.079 0 0 0-2.819 0 6.94 6.94 0 0 0-1.316.409 7.04 7.04 0 0 0-3.08 2.534 6.978 6.978 0 0 0-1.054 2.505c-.028.135-.043.273-.063.41H2l4 4 4-4zm4 2h2.899l-.001.008a4.976 4.976 0 0 1-2.103 3.138 4.943 4.943 0 0 1-1.787.752 5.073 5.073 0 0 1-2.017 0 4.956 4.956 0 0 1-1.787-.752 5.072 5.072 0 0 1-.74-.61L7.05 16.95a7.032 7.032 0 0 0 2.225 1.5c.424.18.867.317 1.315.408a7.07 7.07 0 0 0 2.818 0 7.031 7.031 0 0 0 4.395-2.945 6.974 6.974 0 0 0 1.053-2.503c.027-.135.043-.273.063-.41H22l-4-4-4 4z"}}]})(e)}function Xk(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 3H4a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm-1 16H5V5h14v14z"}}]})(e)}function $k(t){var n=t.listId,r=t.handleStatistics,i=d((0,e.useState)([]),2),a=i[0],o=i[1],s=d((0,e.useState)(!1),2),u=s[0],c=s[1],l=d((0,e.useState)([]),2),f=l[0],h=l[1],p=d((0,e.useState)([]),2),v=(p[0],p[1],d((0,e.useState)([]),2)),m=v[0],g=v[1],y=d((0,e.useState)(!0),2),k=y[0],b=y[1];(0,e.useEffect)((function(){kk(o,"SMA",n,"List"),kk(h,"SMA",n,"Stat")}),[]);return(0,R.jsxs)("div",{className:"w-[99%] py-2 flex flex-col items-center gap-4",children:[(0,R.jsx)("div",{className:"smaPageTitle",children:"LISTA SUGERIDA"}),(0,R.jsx)("div",{className:"smaSeparator"}),(0,R.jsxs)("div",{className:"max-h-[93%] w-[95%] overflow-auto bg-orange-300 p-2 rounded-lg",children:[(0,R.jsxs)("div",{className:"w-fill flex justify-end items-center gap-3",onClick:function(e){return r(e,a,f,h)},children:[(0,R.jsx)("div",{children:"Atualizar lista "}),(0,R.jsx)(Qk,{})]}),f.map((function(e,t){var n="px-1 bg-orange-200 text-start flex flex-wrap justify-between items-center font-semibold";return 0===t?n+=" rounded-ss-lg rounded-se-lg":t===a.length-1&&(n+=" rounded-es-lg rounded-ee-lg"),(0,R.jsx)("div",{children:(0,R.jsxs)("div",{className:n,children:[(0,R.jsx)("div",{className:"w-[90%]",onClick:function(t){return function(e,t){return t.name!==u?c(t.name):c(!1)}(0,e)},children:"".concat(e.name," (").concat(e.company," ").concat(e.unit,")")}),k===e.name?(0,R.jsx)("input",{className:"w-[6%] text-center bg-orange-100 rounded-lg",onBlur:function(e){return b(!1)},defaultValue:e.quantity}):(0,R.jsx)("div",{className:"w-[6%] text-center",onClick:function(t){return b(e.name)},children:e.quantity}),(0,R.jsx)("div",{className:"w-[4%] flex items-center",onClick:function(t){return function(e,t){m.find((function(e){return e.name===t.name}))?g(m.filter((function(e){return e.name!==t.name}))):g([].concat(ee(m),[t]))}(0,e)},children:m.find((function(t){return t.name===e.name}))?(0,R.jsx)(Gk,{className:"w-[20px] h-[20px]"}):(0,R.jsx)(Xk,{className:"w-[20px] h-[20px]"})}),u===e.name&&e.mean?(0,R.jsxs)("div",{className:"bg-orange-100 w-[99%] mx-auto my-[2px] rounded-lg flex flex-col px-2 justify-around",children:[(0,R.jsxs)("div",{className:"w-full flex justify-between",children:[(0,R.jsx)("div",{children:"Menor valor"}),(0,R.jsx)("div",{children:"Valor m\xe9dio"}),(0,R.jsx)("div",{children:"Maior valor"})]}),(0,R.jsxs)("div",{className:"w-full flex justify-between",children:[(0,R.jsx)("div",{children:e.min}),(0,R.jsx)("div",{children:e.mean}),(0,R.jsx)("div",{children:e.max})]})]}):(0,R.jsx)(R.Fragment,{})]})},e.id)}))]}),(0,R.jsx)("div",{className:"smaSeparator"}),(0,R.jsx)("button",{className:"smaButtons",onClick:function(e){console.log(m)},children:"CONFIRMAR COMPRA"})]})}function Yk(e){var t=e.item,n=e.userDB,r=e.setListSelected,i=e.setSidebarItems,a=e.editMode,o=e.setEditMode,s=e.createMode,u=e.setCreateMode,c=e.allowed,l=e.setAllowed,f=e.listName,h=e.setListName,d=e.refresh,p=e.setRefresh,v=e.setItemSelected,m=e.handleDeleteList,g=e.handleAllowed,y=e.handleEditList;return(0,R.jsx)(R.Fragment,{children:n.id===t.owner||t.allowed.includes(n.id)?(0,R.jsxs)("div",{className:"item-list bg-orange-100 hover:bg-orange-50 flex flex-col py-2",children:[(0,R.jsxs)("div",{className:"item-list bg-orange-100 hover:bg-orange-50",children:[(0,R.jsx)("div",{className:"w-full text-left",onClick:function(e){r(t.id),v({number:2,name:"Entrada de itens",show:""}),i([{number:0,name:"In\xedcio",show:"on"},{number:1,name:"Listas",show:"on"},{number:2,name:"Entrada de itens",show:""},{number:3,name:"Sa\xedda de itens",show:""},{number:4,name:"Estoque",show:""},{number:5,name:"Lista de compras",show:""},{number:6,name:"Sair da lista",show:""}])},children:t.listName}),(0,R.jsxs)("div",{className:"flex gap-2",children:[(0,R.jsx)(E,{className:"text-blue-600",onClick:function(e){o(a===t.id?"":t.id),u(a===t.id&&s),l(t.allowed)}}),(0,R.jsx)(A,{className:"text-red-600",onClick:function(e){return m(e,t)}})]})]}),a===t.id?(0,R.jsxs)("div",{children:[(0,R.jsx)("div",{className:"smaSeparator w-full"}),(0,R.jsxs)("div",{children:[(0,R.jsx)("input",{placeholder:"Renomear lista",className:"smaInputs w-[98%] mb-1",onChange:function(e){return h(e.currentTarget.value)}}),(0,R.jsx)("div",{className:"max-h-[120px] overflow-auto",children:n?n.friendsList.map((function(e,t){return(0,R.jsxs)("div",{className:"item-list bg-orange-100 hover:bg-orange-50 ",children:[(0,R.jsx)("div",{children:e.name}),(0,R.jsx)("input",{type:"checkbox",checked:c.includes(e.uid),onChange:function(t){return g(t,e.uid)}})]},e.name)})):(0,R.jsx)("div",{className:"text-red-600",children:"Para usar a lista no modo colaborativo voc\xea deve estar logado"})})]}),(0,R.jsx)("div",{className:"smaSeparator w-full"}),(0,R.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,R.jsx)("button",{className:"smaButtons w-[46%]",onClick:function(e){""!==f?y(e,t):y(e),o(""),p(!d)},children:"Alterar"}),(0,R.jsx)("button",{className:"smaButtons w-[46%]",onClick:function(e){o(""),h(""),l([]),o("")},children:"Cancelar"})]})]}):(0,R.jsx)(R.Fragment,{})]}):(0,R.jsx)(R.Fragment,{})})}function Jk(e){var t=e.userDB,n=e.setListName,r=e.itemsList,i=e.setItemsList,a=e.name,o=e.setName,s=e.company,u=e.setCompany,c=e.unit,l=e.setUnit,f=e.handleQuantity,h=e.quantity,d=e.setQuantity,p=e.handleItemsList,v=e.handleSave,m=e.setCreateMode,g=e.createMode,y=e.handleAllowed,k=e.handleEditItem,b=e.quantityInputRestriction;return(0,R.jsx)("div",{className:"w-full",children:(0,R.jsx)("div",{children:(0,R.jsxs)("div",{className:"list bg-orange-300 my-2",children:[(0,R.jsx)("input",{className:"smaInputs min-w-[50px]",placeholder:"Nome da lista",onChange:function(e){return n(e.currentTarget.value)}}),(0,R.jsx)("div",{className:"smaSeparator"}),(0,R.jsx)("div",{children:"Colaboradores"}),(0,R.jsx)("div",{className:"list-container max-h-[120px] overflow-auto",children:t?t.friendsList.map((function(e,t){return(0,R.jsxs)("div",{className:"item-list bg-orange-100 hover:bg-orange-50 ",children:[(0,R.jsx)("div",{children:e.name}),(0,R.jsx)("input",{type:"checkbox",onChange:function(t){return y(t,e.uid)}})]},e.name)})):(0,R.jsx)("div",{className:"text-red-600",children:"Para usar a lista no modo colaborativo voc\xea deve estar logado"})}),(0,R.jsx)("div",{className:"smaSeparator"}),(0,R.jsx)("div",{children:"O que voc\xea j\xe1 possui?"}),(0,R.jsx)("div",{className:"list-container max-h-[120px] overflow-auto",children:r.map((function(e,t){return(0,R.jsxs)("div",{className:"item-list bg-orange-100 hover:bg-orange-50",children:[(0,R.jsx)("div",{children:e.name}),(0,R.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,R.jsx)("div",{children:e.quantity}),(0,R.jsx)(E,{className:"text-blue-600",onClick:function(t){return k(t,e)}}),(0,R.jsx)(A,{className:"text-red-600",onClick:function(t){return i(r.filter((function(t){return t!==e})))}})]})]},e.uid)}))}),(0,R.jsxs)("div",{className:"item-list py-[3px] bg-orange-100 hover:bg-orange-50 flex flex-wrap",children:[(0,R.jsx)("input",{name:"name",placeholder:"Nome",value:a,onChange:function(e){return o(e.target.value)},className:"smaInputs min-w-[110px] max-w-[137px] h-[80%]"}),(0,R.jsx)("input",{name:"company",placeholder:"Marca",value:s,onChange:function(e){return u(e.target.value)},className:"smaInputs min-w-[110px] max-w-[137px] h-[80%]"}),(0,R.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,R.jsxs)("div",{className:"flex gap-[2px]",children:[(0,R.jsx)(Tk,{className:"w-[23px] h-[23px]"}),(0,R.jsx)("div",{children:"/und"})]}),(0,R.jsx)("input",{name:"unit",placeholder:"200g",value:c,onChange:function(e){return l(e.target.value)},className:"smaInputs min-w-[75px] max-w-[90px] h-[80%]"})]}),(0,R.jsxs)("div",{className:"flex items-center gap-2",children:[(0,R.jsx)(T,{onClick:function(e){return f(e,-1,d)},className:"w-[23px] h-[23px]"}),(0,R.jsx)("input",{name:"quantity",defaultValue:1,value:h,onChange:function(e){return b(e,d)},className:"smaInputs w-[40px] h-[80%] my-[3px] flex text-center"}),(0,R.jsx)(I,{onClick:function(e){return f(e,1,d)},className:"w-[23px] h-[23px]"})]}),(0,R.jsxs)("div",{className:"smaButtons sm:max-w-none items-center justify-center flex gap-3 flex-1",onClick:function(e){return p(e)},children:["Guardar Item",(0,R.jsx)(Ek,{className:"w-[25px] h-[25px]"})]})]}),(0,R.jsx)("div",{className:"smaSeparator"}),(0,R.jsxs)("div",{className:"w-[95%] flex justify-between gap-2",children:[(0,R.jsx)("button",{className:"smaButtons",onClick:function(e){return v(e)},children:"CRIAR"}),(0,R.jsx)("button",{className:"smaButtons hover:bg-red-300",onClick:function(e){return m(!g)},children:"CANCELAR"})]})]})})})}function Zk(t){var n=t.user,r=t.usersList,a=t.setListSelected,s=t.handleQuantity,u=t.quantityInputRestriction,c=t.setItemSelected,l=t.setSidebarItems,f=d((0,e.useState)(!1),2),h=f[0],p=f[1],v=d((0,e.useState)(""),2),m=v[0],g=v[1],y=d((0,e.useState)(""),2),k=y[0],b=y[1],w=d((0,e.useState)(""),2),x=w[0],S=w[1],E=d((0,e.useState)(""),2),_=E[0],T=E[1],I=d((0,e.useState)(""),2),C=I[0],N=I[1],A=d((0,e.useState)([]),2),j=A[0],O=A[1],L=d((0,e.useState)([]),2),P=L[0],D=L[1],M=d((0,e.useState)(""),2),F=M[0],U=M[1],V=d((0,e.useState)([]),2),z=V[0],q=V[1],B=d((0,e.useState)(!1),2),H=B[0],K=B[1];(0,e.useEffect)((function(){kk(q,"SMA")}),[H]);var W=r.find((function(e){return e.id===n.uid})),G=function(e,t){e.target.checked&&!j.includes(t)?O([].concat(ee(j),[t])):!e.target.checked&&j.includes(t)&&O(j.filter((function(e){return e!==t})))},Q=function(){var e=o(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===m){e.next=6;break}if(n.uid!==r.owner){e.next=6;break}return e.next=4,lk(yy(yk,"SMA",r.id),{listName:m,allowed:j});case 4:g(""),O([]);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),X=function(){var e=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,q(z.filter((function(e){return e!==n}))),e.next=4,fk(yy(yk,"SMA",n.id));case 4:l([{number:0,name:"In\xedcio",show:"on"},{number:1,name:"Listas",show:"on"}]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),$=function(){var e=o(i().mark((function e(t){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===m.length){e.next=14;break}return e.prev=1,e.next=4,hk(gy(yk,"SMA"),{owner:n.uid,listName:m,allowed:j});case 4:r=e.sent,a=yy(yk,"SMA",r.id),P.map(function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hk(gy(a,"List"),{name:t.name,company:t.company,quantity:t.quantity,unit:t.unit});case 2:return e.next=4,hk(gy(a,"Stat"),{name:"",company:t.company,quantity:t.quantity,unit:t.unit});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),K(!H),p(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return(0,R.jsxs)("div",{className:"text-orange-500 w-full normal-text flex flex-col items-center",children:[(0,R.jsx)("div",{className:"w-[95%] bg-orange-500 text-zinc-700 text-2xl font-extrabold rounded-se-xl rounded-es-xl my-2",children:"LISTAS"}),(0,R.jsx)("div",{className:"smaSeparator"}),(0,R.jsxs)("div",{className:"list bg-orange-300 my-2",children:[(0,R.jsx)("div",{children:z.length>0?"Suas Listas":"Crie uma lista"}),(0,R.jsx)("div",{className:""===k?"w-[95%] max-h-[160px] overflow-auto flex flex-col justify-between items-center":"w-[95%] max-h-[280px] overflow-auto flex flex-col justify-between items-center",children:z.map((function(e){return(0,R.jsx)(Yk,{item:e,userDB:W,setListSelected:a,setSidebarItems:l,editMode:k,setEditMode:b,createMode:h,setCreateMode:p,allowed:j,setAllowed:O,listName:m,setListName:g,refresh:H,setRefresh:K,setItemSelected:c,handleDeleteList:X,handleAllowed:G,handleEditList:Q})}))})]}),(0,R.jsx)("div",{className:"smaSeparator"}),h?(0,R.jsx)(Jk,{userDB:W,setListName:g,itemsList:P,setItemsList:D,name:x,setName:S,company:C,setCompany:N,unit:_,setUnit:T,handleQuantity:s,quantity:F,setQuantity:U,handleItemsList:function(e){0!==x.length&&(D([].concat(ee(P),[{name:x,company:C,quantity:F,unit:_}])),S(""))},handleSave:$,setCreateMode:p,createMode:h,handleAllowed:G,handleEditItem:function(e,t){S(t.name),N(t.company),U(t.quantity),T(t.unit),D(P.filter((function(e){return e!==t})))},quantityInputRestriction:u}):(0,R.jsx)("button",{onClick:function(e){p(!0),b(""),g(""),O([])},children:"Adicionar Nova lista"})]})}function eb(e){for(var t=e.setSidebarItems,n=e.setListSelected,r=e.setItemSelected,i=[],a=0;a<100;a++){var o={nome:"Pessoa ".concat(a+1),idade:Math.floor(80*Math.random()+18),altura:(.5*Math.random()+1.5).toFixed(2)};i.push(o)}return console.log(i),(0,R.jsx)("div",{className:"w-full h-full flex flex-col items-center justify-center",children:(0,R.jsxs)("div",{className:"smaList flex flex-col items-center justify-center",children:[(0,R.jsx)("div",{children:"Deseja sair desse estoque?"}),(0,R.jsxs)("div",{className:"flex w-full justify-between",children:[(0,R.jsx)("button",{onClick:function(e){t([{number:0,name:"In\xedcio",show:"on"},{number:1,name:"Listas",show:"on"}]),n(""),r({number:1,name:"Listas",show:"on"})},className:"smaButtons w-[48%] hover:bg-lime-300",children:"SIM"}),(0,R.jsx)("button",{onClick:function(e){return r({number:4,name:"Estoque",show:""})},className:"smaButtons w-[48%]",children:"N\xc3O"})]})]})})}function tb(t){var n=t.user,r=d((0,e.useState)([]),2),a=r[0],s=r[1],u=d((0,e.useState)(!1),2),c=u[0],l=u[1],f=d((0,e.useState)({number:0,name:"In\xedcio",show:"on"}),2),h=f[0],p=f[1],v=d((0,e.useState)(""),2),m=v[0],g=v[1],y=d((0,e.useState)([{number:0,name:"In\xedcio",show:"on"},{number:1,name:"Listas",show:"on"}]),2),k=y[0],b=y[1];(0,e.useEffect)((function(){kk(s,"Users")}),[]);var w,x=function(e,t,n){var r=e.currentTarget.parentElement.parentElement,i=Number(r.querySelector("[name=quantity]").value)+t;n(i=i<=0?0:i),r.querySelector("[name=quantity]").value=i},S=function(e,t){var n=e.currentTarget.value.replace(/[^\d+(.\d{1,2})?$]/g,"");n=n.replace(/,/g,"."),e.currentTarget.value=n,t(n)},E=function(){var e=o(i().mark((function e(t,n,r,a){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=ee(r),n.forEach((function(e){var t=o.find((function(t){return t.name===e.name}));if(t)Number(e.price)<Number(t.min)&&(t.min=Number(e.price).toFixed(2)),Number(e.price)>Number(t.max)&&(t.max=Number(e.price).toFixed(2)),t.quantity+=e.quantity,t.mean=((Number(t.mean)*Number(t.occurrence)+Number(e.price))/(Number(t.occurrence)+1)).toFixed(2),t.occurrence+=e.quantity>0?e.quantity:0;else{var n={name:e.name,company:e.company,unit:e.unit,quantity:e.quantity,min:e.price,mean:e.price,max:e.price,occurrence:e.quantity,meanShoppingInterval:0};o.push(n)}})),a(o);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}();return"In\xedcio"===h.name?w=(0,R.jsx)(Mk,{}):"Listas"===h.name?w=(0,R.jsx)(Zk,{user:n,usersList:a,setListSelected:g,handleQuantity:x,quantityInputRestriction:S,setItemSelected:p,setSidebarItems:b}):"Entrada de itens"===h.name?w=(0,R.jsx)(qk,{listId:m,handleQuantity:x,quantityInputRestriction:S}):"Estoque"===h.name?w=(0,R.jsx)(Hk,{listId:m}):"Sa\xedda de itens"===h.name?w=(0,R.jsx)(Wk,{listId:m}):"Lista de compras"===h.name?w=(0,R.jsx)($k,{listId:m,handleStatistics:E}):"Sair da lista"===h.name&&(w=(0,R.jsx)(eb,{setSidebarItems:b,setListSelected:g,setItemSelected:p})),(0,R.jsxs)("div",{className:"h-full bg-zinc-800 flex",children:[(0,R.jsx)(Bk,{sideBarIsOpen:c,setSideBarIsOpen:l,itemSelected:h,setItemSelected:p,sideBarItems:k}),w]})}function nb(){return(0,R.jsx)("div",{class:"h-[85%] flex items-center justify-center",children:(0,R.jsx)("div",{class:"animate-spin h-6 w-6 border-t-2 border-zinc-200 rounded-full"})})}function rb(t){var n,r,i=t.user,a=d((0,e.useState)(!1),2),o=(a[0],a[1],d((0,e.useState)(!0),2)),s=o[0],u=o[1],c=d((0,e.useState)([!1]),2),l=c[0],f=c[1],h=d((0,e.useState)("none"),2),p=h[0],v=h[1];return(0,e.useEffect)((function(){kk(f,"Applications")}),[]),(0,e.useEffect)((function(){document.title="DGF - Aplica\xe7\xf5es"}),[]),n=!1===l[0]?(0,R.jsxs)("div",{children:["Carregando aplica\xe7\xf5es ",(0,R.jsx)(nb,{})]}):0===l.length?(0,R.jsx)("div",{children:"Nenhuma aplica\xe7\xe3o encontrada"}):(0,R.jsx)("div",{className:"w-full h-full flex flex-col items-center py-4",children:l.map((function(e,t){return(0,R.jsxs)("div",{className:"px-1 w-80 h-96 rounded-2xl flex flex-col justify-around",children:[(0,R.jsxs)("div",{className:"h-[95%] flex flex-col",children:[(0,R.jsx)("div",{className:"bg-zinc-500 h-[9%] text-center rounded-t-lg font-bold",children:e.acronym}),(0,R.jsx)("div",{className:"h-[80%] bg-zinc-600 rounded-lg flex items-center justify-center",children:(0,R.jsx)("img",{src:e.image,alt:e.description,className:"h-full"})}),(0,R.jsx)("div",{className:"bg-blue-500 h-[9%] text-center rounded-b-lg",children:"".concat(e.name)})]}),(0,R.jsx)("button",{onClick:function(t){!function(e,t){u(!1),v(t.page)}(0,e)},className:"buttons m-0",children:"ABRIR"})]},t)}))}),"sma"===p&&(r=(0,R.jsx)(tb,{user:i})),(0,R.jsx)(R.Fragment,{children:s?n:r})}function ib(e){var t=e.sideBar,n=e.setSideBar,r=e.setSection,i=e.menuItemsList;return(0,R.jsxs)("div",{className:"abMeSidebarOpen overflow-auto",children:[(0,R.jsx)("div",{className:"w-full flex flex-col gap-1",children:i.map((function(e){return(0,R.jsxs)("div",{className:"flex flex-col gap-1",children:[e.subSection,e.items.map((function(e){return(0,R.jsx)("button",{id:e.id,onClick:function(e){return r(e.currentTarget.id)},className:"devaItem",children:e.title})}))]},e.subSection)}))}),(0,R.jsx)("div",{className:"abMeSidebarOpenCloseButton max-w-[30px]",onClick:function(e){return n(!t)},children:(0,R.jsx)(x,{})})]})}function ab(e){var t=e.image,n=e.setterFunction;return(0,R.jsx)("input",{placeholder:"Arraste uma imagem",onDra:!0,onDrop:function(e){return function(e){e.stopPropagation(),e.preventDefault();var t,r=[],i=$(e.dataTransfer.files);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=new FileReader;o.onload=function(e){var t=e.target.result;r.push(t)},o.readAsDataURL(a)}}catch(s){i.e(s)}finally{i.f()}n(r)}(e)},onChange:function(e){return n(e.currentTarget.value)},value:t,className:"inputs"})}function ob(){var t=d((0,e.useState)(""),2),n=t[0],r=t[1],a=d((0,e.useState)(""),2),s=a[0],u=a[1],c=d((0,e.useState)(""),2),l=c[0],f=c[1],h=d((0,e.useState)(""),2),p=h[0],v=h[1],m=d((0,e.useState)(""),2),g=m[0],y=m[1],k="Applications";function b(){return(b=o(i().mark((function e(t){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hk(gy(yk,k),{name:n,acronym:s,description:l,image:p,page:g});case 3:a=e.sent,console.log("Dados enviados com sucesso",a),r(""),u(""),f(""),v(""),y(""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Erro ao enviar dados:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return(0,R.jsxs)("div",{className:"max-w-full min-w-[50%] flex flex-col items-center gap-1 overflow-hidden",children:[(0,R.jsx)("div",{className:"text-md",children:"Adicione informa\xe7\xf5es b\xe1sicas sobre a aplica\xe7\xe3o que deseja adicionar para facilitar sua busca em nosso banco de dados"}),(0,R.jsx)("input",{className:"inputs",placeholder:"Nome do aplica\xe7\xe3o",onChange:function(e){return r(e.currentTarget.value)},value:n}),(0,R.jsx)("input",{className:"inputs",placeholder:"Acr\xf4nimo/Sigla...",onChange:function(e){return u(e.currentTarget.value)},value:s}),(0,R.jsx)("input",{className:"inputs",placeholder:"Descri\xe7\xe3o",onChange:function(e){return f(e.currentTarget.value)},value:l}),(0,R.jsx)(ab,{image:p,setterFunction:v}),(0,R.jsx)("input",{className:"inputs",placeholder:"Frame",onChange:function(e){return y(e.currentTarget.value)},value:g}),(0,R.jsx)("button",{className:"buttons",onClick:function(e){return b.apply(this,arguments)},children:"CRIAR"})]})}function sb(e){var t,n=e.setName,r=e.setAcronym,i=e.setDescription,a=e.setImage,o=e.setPage,s=e.handleSubmit,u=e.handleDelete,c=e.item,l=e.openedItem,f=e.editMode;return t=l===c.id&&!0===f?(0,R.jsxs)("div",{id:c.id,children:[(0,R.jsx)("input",{className:"inputs",placeholder:"Nome do aplica\xe7\xe3o",onChange:function(e){return n(e.currentTarget.value)},defaultValue:c.name}),(0,R.jsx)("input",{className:"inputs",placeholder:"Acr\xf4nimo/Sigla...",onChange:function(e){return r(e.currentTarget.value)},defaultValue:c.acronym}),(0,R.jsx)("input",{className:"inputs",placeholder:"Descri\xe7\xe3o",onChange:function(e){return i(e.currentTarget.value)},defaultValue:c.description}),(0,R.jsx)(ab,{image:c.image,setterFunction:a}),(0,R.jsx)("input",{className:"inputs",placeholder:"Frame",onChange:function(e){return o(e.currentTarget.value)},defaultValue:c.page}),(0,R.jsx)("button",{id:c.id,className:"buttons",onClick:s,children:"EDITAR"}),(0,R.jsx)("button",{id:c.id,className:"buttons",onClick:u,children:"REMOVER"})]}):(0,R.jsx)(R.Fragment,{}),(0,R.jsx)("div",{className:" rounded-xl p-2 flex flex-col gap-2",children:t})}function ub(){var t,n=d((0,e.useState)([]),2),r=n[0],i=n[1],a=d((0,e.useState)(""),2),o=a[0],s=a[1],u=d((0,e.useState)(!1),2),c=u[0],l=u[1],f=d((0,e.useState)([]),2),h=f[0],p=f[1],v=d((0,e.useState)(""),2),m=v[0],g=v[1],y=d((0,e.useState)(""),2),k=y[0],b=y[1],w=d((0,e.useState)(""),2),x=w[0],S=w[1],E=d((0,e.useState)(""),2),_=E[0],T=E[1],I=d((0,e.useState)(""),2),C=I[0],N=I[1],A="Applications";function j(e){wk(A,e.currentTarget.id,{name:m||h.name,acronym:k||h.acronym,description:x||h.description,image:_||h.image,page:C||h.page})}function O(e){xk(A,e.currentTarget.id),kk(i,A)}return t=0===r.length?"Ainda n\xe3o h\xe1 aplica\xe7\xf5es cadastradas":r.map((function(e){return(0,R.jsxs)("div",{id:e.id,onClick:function(e){return function(e){c?e.target.id===o?l(!1):s(e.currentTarget.id):(s(e.currentTarget.id),l(!0));bk(p,A,e.currentTarget.id)}(e)},className:"bg-zinc-600 px-2 rounded-xl group",children:["".concat(e.acronym," (").concat(e.name,")"),(0,R.jsx)(sb,{setName:g,setAcronym:b,setDescription:S,setImage:T,setPage:N,handleSubmit:j,handleDelete:O,item:e,openedItem:o,editMode:c})]},e.id)})),(0,e.useEffect)((function(){kk(i,A)}),[]),(0,R.jsx)("div",{className:"bg-slate-500 rounded-xl p-2  mt-1 flex flex-col gap-2",children:t})}function cb(){var t=d((0,e.useState)(""),2),n=t[0],r=t[1],a=d((0,e.useState)(""),2),s=a[0],u=a[1],c=d((0,e.useState)(""),2),l=c[0],f=c[1],h=d((0,e.useState)(""),2),p=h[0],v=h[1],m="Statistics";function g(){return(g=o(i().mark((function e(t){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hk(gy(yk,m),{name:n,description:s,image:l,page:p});case 3:a=e.sent,console.log("Dados enviados com sucesso",a),r(""),u(""),f(""),v(""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Erro ao enviar dados:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return(0,R.jsxs)("div",{className:"max-w-full min-w-[50%] flex flex-col items-center gap-1 overflow-hidden",children:[(0,R.jsx)("div",{className:"text-md",children:"Adicione informa\xe7\xf5es b\xe1sicas sobre a estat\xedstica que deseja adicionar para facilitar sua busca em nosso banco de dados"}),(0,R.jsx)("input",{className:"inputs",placeholder:"Nome do aplica\xe7\xe3o",onChange:function(e){return r(e.currentTarget.value)},value:n}),(0,R.jsx)("input",{className:"inputs",placeholder:"Descri\xe7\xe3o",onChange:function(e){return u(e.currentTarget.value)},value:s}),(0,R.jsx)(ab,{image:l,setterFunction:f}),(0,R.jsx)("input",{className:"inputs",placeholder:"Frame",onChange:function(e){return v(e.currentTarget.value)},value:p}),(0,R.jsx)("button",{className:"buttons",onClick:function(e){return g.apply(this,arguments)},children:"CRIAR"})]})}function lb(e){var t,n=e.setName,r=e.setDescription,i=e.setImage,a=e.setPage,o=e.handleSubmit,s=e.handleDelete,u=e.item,c=e.openedItem,l=e.editMode;return t=c===u.id&&!0===l?(0,R.jsxs)("div",{id:u.id,children:[(0,R.jsx)("input",{className:"inputs",placeholder:"Nome do aplica\xe7\xe3o",onChange:function(e){return n(e.currentTarget.value)},defaultValue:u.name}),(0,R.jsx)("input",{className:"inputs",placeholder:"Descri\xe7\xe3o",onChange:function(e){return r(e.currentTarget.value)},defaultValue:u.description}),(0,R.jsx)(ab,{image:u.image,setterFunction:i}),(0,R.jsx)("input",{className:"inputs",placeholder:"Frame",onChange:function(e){return a(e.currentTarget.value)},defaultValue:u.page}),(0,R.jsx)("button",{id:u.id,className:"buttons",onClick:o,children:"EDITAR"}),(0,R.jsx)("button",{id:u.id,className:"buttons",onClick:s,children:"REMOVER"})]}):(0,R.jsx)(R.Fragment,{}),(0,R.jsx)("div",{className:" rounded-xl p-2 flex flex-col gap-2",children:t})}function fb(){var t,n=d((0,e.useState)([]),2),r=n[0],i=n[1],a=d((0,e.useState)(""),2),o=a[0],s=a[1],u=d((0,e.useState)(!1),2),c=u[0],l=u[1],f=d((0,e.useState)([]),2),h=f[0],p=f[1],v=d((0,e.useState)(""),2),m=v[0],g=v[1],y=d((0,e.useState)(""),2),k=y[0],b=y[1],w=d((0,e.useState)(""),2),x=w[0],S=w[1],E=d((0,e.useState)(""),2),_=E[0],T=E[1],I="Statistics";function C(e){wk(I,e.currentTarget.id,{name:m||h.name,description:k||h.description,image:x||h.image,page:_||h.page})}function N(e){xk(I,e.currentTarget.id),kk(i,I)}return t=0===r.length?"Ainda n\xe3o h\xe1 aplica\xe7\xf5es cadastradas":r.map((function(e){return(0,R.jsxs)("div",{id:e.id,onClick:function(e){return function(e){c?e.target.id===o?l(!1):s(e.currentTarget.id):(s(e.currentTarget.id),l(!0));bk(p,I,e.currentTarget.id)}(e)},className:"bg-zinc-600 px-2 rounded-xl group",children:[e.name,(0,R.jsx)(lb,{setName:g,setDescription:b,setImage:S,setPage:T,handleSubmit:C,handleDelete:N,item:e,openedItem:o,editMode:c})]},e.id)})),(0,e.useEffect)((function(){kk(i,I)}),[]),(0,R.jsx)("div",{className:"bg-slate-500 rounded-xl p-2 mt-1 flex flex-col gap-2",children:t})}function hb(){var t=d((0,e.useState)(""),2),n=t[0],r=t[1],a=d((0,e.useState)(""),2),s=a[0],u=a[1],c=d((0,e.useState)(""),2),l=c[0],f=c[1],h=d((0,e.useState)(""),2),p=h[0],v=h[1],m=d((0,e.useState)(""),2),g=m[0],y=m[1],k=d((0,e.useState)([]),2),b=k[0],w=k[1],x=d((0,e.useState)(""),2),S=x[0],E=x[1],_="Courses";function T(){return(T=o(i().mark((function e(t){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hk(gy(yk,_),{name:n,issuer:s,workload:l,description:p,finalDate:g,image:b,page:S});case 3:a=e.sent,console.log("Dados enviados com sucesso",a),r(""),u(""),f(""),v(""),y(""),w(""),E(""),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("Erro ao enviar dados:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}return(0,R.jsxs)("div",{className:"max-w-full min-w-[50%] flex flex-col items-center gap-1 overflow-hidden",children:[(0,R.jsx)("div",{className:"text-md",children:"Adicione informa\xe7\xf5es b\xe1sicas sobre o curso que deseja adicionar para facilitar sua busca em nosso banco de dados"}),(0,R.jsx)("input",{className:"inputs",placeholder:"Nome do curso",onChange:function(e){return r(e.currentTarget.value)},value:n}),(0,R.jsx)("input",{className:"inputs",placeholder:"Emissor",onChange:function(e){return u(e.currentTarget.value)},value:s}),(0,R.jsx)("input",{className:"inputs",placeholder:"Carga hor\xe1ria",onChange:function(e){return f(e.currentTarget.value)},value:l}),(0,R.jsx)("input",{className:"inputs",placeholder:"Descri\xe7\xe3o",onChange:function(e){return v(e.currentTarget.value)},value:p}),(0,R.jsx)("input",{className:"inputs",placeholder:"Data de t\xe9rmino",onChange:function(e){return y(e.currentTarget.value)},value:g}),(0,R.jsx)(ab,{image:b,setterFunction:w}),(0,R.jsx)("input",{className:"inputs",placeholder:"Frame",onChange:function(e){return E(e.currentTarget.value)},value:S}),(0,R.jsx)("button",{className:"buttons",onClick:function(e){return T.apply(this,arguments)},children:"CRIAR"})]})}function db(e){var t,n=e.setName,r=e.setIssuer,i=e.setWorkload,a=e.setDescription,o=e.setFinalDate,s=e.setImage,u=e.setPage,c=e.handleSubmit,l=e.handleDelete,f=e.item,h=e.openedItem,d=e.editMode;return t=h===f.id&&!0===d?(0,R.jsxs)("div",{id:f.id,children:[(0,R.jsx)("input",{className:"inputs",placeholder:"Nome do aplica\xe7\xe3o",onChange:function(e){return n(e.currentTarget.value)},defaultValue:f.name}),(0,R.jsx)("input",{className:"inputs",placeholder:"Emissor",onChange:function(e){return r(e.currentTarget.value)},defaultValue:f.issuer}),(0,R.jsx)("input",{className:"inputs",placeholder:"Carga hor\xe1ria",onChange:function(e){return i(e.currentTarget.value)},defaultValue:f.workload}),(0,R.jsx)("input",{className:"inputs",placeholder:"Descri\xe7\xe3o",onChange:function(e){return a(e.currentTarget.value)},defaultValue:f.description}),(0,R.jsx)("input",{className:"inputs",placeholder:"Data de t\xe9rmino",onChange:function(e){return o(e.currentTarget.value)},defaultValue:f.finalDate}),(0,R.jsx)(ab,{image:f.image,setterFunction:s}),(0,R.jsx)("input",{className:"inputs",placeholder:"Frame",onChange:function(e){return u(e.currentTarget.value)},defaultValue:f.page}),(0,R.jsx)("button",{id:f.id,className:"buttons",onClick:c,children:"EDITAR"}),(0,R.jsx)("button",{id:f.id,className:"buttons",onClick:l,children:"REMOVER"})]}):(0,R.jsx)(R.Fragment,{}),(0,R.jsx)("div",{className:" rounded-xl p-2 flex flex-col gap-2",children:t})}function pb(){var t,n=d((0,e.useState)([]),2),r=n[0],i=n[1],a=d((0,e.useState)(""),2),o=a[0],s=a[1],u=d((0,e.useState)(!1),2),c=u[0],l=u[1],f=d((0,e.useState)([]),2),h=f[0],p=f[1],v=d((0,e.useState)(""),2),m=v[0],g=v[1],y=d((0,e.useState)(""),2),k=y[0],b=y[1],w=d((0,e.useState)(""),2),x=w[0],S=w[1],E=d((0,e.useState)(""),2),_=E[0],T=E[1],I=d((0,e.useState)(""),2),C=I[0],N=I[1],A=d((0,e.useState)([]),2),j=A[0],O=A[1],L=d((0,e.useState)(""),2),P=L[0],D=L[1],M="Courses";function F(e){wk(M,e.currentTarget.id,{name:m||h.name,issuer:k||h.issuer,workload:x||h.workload,description:_||h.description,finalDate:C||h.finalDate,image:j||h.image,page:P||h.page})}function U(e){xk(M,e.currentTarget.id),kk(i,M)}return t=0===r.length?"Ainda n\xe3o h\xe1 cursos cadastrados":r.map((function(e){return(0,R.jsxs)("div",{id:e.id,onClick:function(e){return function(e){c?e.target.id===o?l(!1):s(e.currentTarget.id):(s(e.currentTarget.id),l(!0));bk(p,M,e.currentTarget.id)}(e)},className:"bg-zinc-600 px-2 rounded-xl group",children:["".concat(e.name),(0,R.jsx)(db,{setName:g,setIssuer:b,setWorkload:S,setDescription:T,setFinalDate:N,setImage:O,setPage:D,handleSubmit:F,handleDelete:U,item:e,openedItem:o,editMode:c})]},e.id)})),(0,e.useEffect)((function(){kk(i,M)}),[]),(0,R.jsx)("div",{className:"bg-slate-500 rounded-xl p-2  mt-1 flex flex-col gap-2",children:t})}function vb(){var t=d((0,e.useState)(""),2),n=t[0],r=t[1],a=d((0,e.useState)(""),2),s=a[0],u=a[1],c=d((0,e.useState)(""),2),l=c[0],f=c[1],h=d((0,e.useState)(""),2),p=h[0],v=h[1],m=d((0,e.useState)([]),2),g=m[0],y=m[1],k="Skills";function b(){return(b=o(i().mark((function e(t){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hk(gy(yk,k),{name:n,selfEvaluation:l,description:p,image:g});case 3:a=e.sent,console.log("Dados enviados com sucesso",a),r(""),f(0),v(),y(""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Erro ao enviar dados:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return(0,R.jsxs)("div",{className:"max-w-full min-w-[50%] flex flex-col items-center gap-1 overflow-hidden",children:[(0,R.jsx)("div",{className:"text-md",children:"Adicione informa\xe7\xf5es b\xe1sicas sobre a habilidade que deseja adicionar para facilitar sua busca em nosso banco de dados"}),(0,R.jsx)("input",{className:"inputs",placeholder:"Habilidade",onChange:function(e){return r(e.currentTarget.value)},value:n}),(0,R.jsx)("input",{className:"inputs",placeholder:"Categoria",onChange:function(e){return u(e.currentTarget.value)},value:s}),(0,R.jsx)("input",{className:"inputs",placeholder:"Auto avalia\xe7\xe3o",onChange:function(e){return f(e.currentTarget.value)},defaultValue:l}),(0,R.jsx)("input",{className:"inputs",placeholder:"Descri\xe7\xe3o",onChange:function(e){return v(e.currentTarget.value)},value:p}),(0,R.jsx)(ab,{image:g,setterFunction:y}),(0,R.jsx)("button",{className:"buttons",onClick:function(e){return b.apply(this,arguments)},children:"CRIAR"})]})}function mb(e){var t,n=e.setName,r=e.setType,i=e.setSelfEvaluation,a=e.setDescription,o=e.setImage,s=e.handleSubmit,u=e.handleDelete,c=e.item,l=e.openedItem,f=e.editMode;return t=l===c.id&&!0===f?(0,R.jsxs)("div",{className:"max-w-full min-w-[50%] flex flex-col items-center gap-1 overflow-hidden",children:[(0,R.jsx)("div",{className:"text-md",children:"Adicione informa\xe7\xf5es b\xe1sicas sobre a habilidade que deseja adicionar para facilitar sua busca em nosso banco de dados"}),(0,R.jsx)("input",{className:"inputs",placeholder:"Habilidade",onChange:function(e){return n(e.currentTarget.value)},value:c.name}),(0,R.jsx)("input",{className:"inputs",placeholder:"Categoria",onChange:function(e){return r(e.currentTarget.value)},value:c.name}),(0,R.jsx)("input",{className:"inputs",placeholder:"Auto avalia\xe7\xe3o",onChange:function(e){return i(e.currentTarget.value)},defaultValue:c.selfEvaluation}),(0,R.jsx)("input",{className:"inputs",placeholder:"Descri\xe7\xe3o",onChange:function(e){return a(e.currentTarget.value)},value:c.description}),(0,R.jsx)(ab,{image:c.image,setterFunction:o}),(0,R.jsx)("button",{id:c.id,className:"buttons",onClick:s,children:"EDITAR"}),(0,R.jsx)("button",{id:c.id,className:"buttons",onClick:u,children:"REMOVER"})]}):(0,R.jsx)(R.Fragment,{}),(0,R.jsx)("div",{className:" rounded-xl p-2 flex flex-col gap-2",children:t})}function gb(){var t,n=d((0,e.useState)([]),2),r=n[0],i=n[1],a=d((0,e.useState)(""),2),o=a[0],s=a[1],u=d((0,e.useState)(!1),2),c=u[0],l=u[1],f=d((0,e.useState)([]),2),h=f[0],p=f[1],v=d((0,e.useState)(""),2),m=v[0],g=v[1],y=d((0,e.useState)(""),2),k=y[0],b=y[1],w=d((0,e.useState)(""),2),x=w[0],S=w[1],E=d((0,e.useState)(""),2),_=E[0],T=E[1],I=d((0,e.useState)([]),2),C=I[0],N=I[1],A="Skills";function j(e){wk(A,e.currentTarget.id,{name:m||h.name,type:k||h.type,selfEvaluation:x||h.selfEvaluation,description:_||h.description,image:C||h.image})}function O(e){xk(A,e.currentTarget.id),kk(i,A)}return t=0===r.length?"Ainda n\xe3o h\xe1 habilidades cadastrados":r.map((function(e){return(0,R.jsxs)("div",{id:e.id,onClick:function(e){return function(e){c?e.target.id===o?l(!1):s(e.currentTarget.id):(s(e.currentTarget.id),l(!0));bk(p,A,e.currentTarget.id)}(e)},className:"bg-zinc-600 px-2 rounded-xl group",children:["".concat(e.name),(0,R.jsx)(mb,{setName:g,setType:b,setSelfEvaluation:S,setDescription:T,setImage:N,handleSubmit:j,handleDelete:O,item:e,openedItem:o,editMode:c})]},e.id)})),(0,e.useEffect)((function(){kk(i,A)}),[]),(0,R.jsx)("div",{className:"bg-slate-500 rounded-xl p-2  mt-1 flex flex-col gap-2",children:t})}function yb(){var t,n,r=d((0,e.useState)(!0),2),i=r[0],a=r[1],o=d((0,e.useState)("addApp"),2),s=o[0],u=o[1],c=[{subSection:"Aplica\xe7\xf5es",items:[{id:"addApp",title:"Adicionar aplica\xe7\xe3o",content:(0,R.jsx)(ob,{})},{id:"editApp",title:"Editar aplica\xe7\xe3o",content:(0,R.jsx)(ub,{})}]},{subSection:"Estat\xedsticas",items:[{id:"addStat",title:"Adicionar estat\xedsticas",content:(0,R.jsx)(cb,{})},{id:"editStat",title:"Editar estat\xedsticas",content:(0,R.jsx)(fb,{})}]},{subSection:"Sobre mim",items:[{id:"editPresentation",title:"Editar apresenta\xe7\xe3o",content:"teste"},{id:"editCurricStyle",title:"Formato do curr\xedculo",content:"teste"},{id:"addCourse",title:"Adicionar um curso",content:(0,R.jsx)(hb,{})},{id:"editCourse",title:"Editar cursos",content:(0,R.jsx)(pb,{})},{id:"addSkill",title:"Adicionar habilidade",content:(0,R.jsx)(vb,{})},{id:"editSkill",title:"Editar habilidade",content:(0,R.jsx)(gb,{})},{id:"addHobby",title:"Adicionar um hobby",content:"teste"}]}];return t=i?(0,R.jsx)(ib,{sideBar:i,setSideBar:a,setSection:u,menuItemsList:c}):(0,R.jsx)(Rk,{sideBar:i,setSideBar:a}),c.map((function(e){e.items.map((function(e){e.id===s&&(n=(0,R.jsxs)("div",{className:"w-full mr-1 flex flex-col gap-1 overflow-hidden",children:[(0,R.jsx)("div",{className:"bg-zinc-700 text-zinc-50 text-lg font-extrabold mt-1 devaTopic",children:e.title.toUpperCase()}),(0,R.jsx)("div",{className:"bg-zinc-600 text-zinc-50 h-full devaTopic relative overflow-auto",children:e.content})]}))}))})),(0,R.jsxs)("div",{className:"devaBg",children:[t,n]})}function kb(e){var t=e.user,n=e.item,r=(e.index,e.handleAdd);return(0,R.jsxs)("div",{className:"item-list",children:[(0,R.jsx)("div",{children:n.name}),(0,R.jsx)("div",{className:"flex gap-2",children:(0,R.jsx)(C,{onClick:function(e){return r(e,t,n)},className:"text-blue-500"})})]},n.uid)}function bb(e){var t=e.item,n=e.index,r=e.handleDelete;return(0,R.jsxs)("div",{className:"item-list",children:[(0,R.jsx)("div",{children:t.name}),(0,R.jsx)("div",{className:"flex gap-2",children:(0,R.jsx)(_k,{onClick:function(e){return r(e,t)},className:"text-red-500"})})]},n)}function wb(e){var t=e.item,n=e.index,r=e.handleAccept,i=e.handleReject;return(0,R.jsxs)("div",{className:"item-list",children:[(0,R.jsx)("div",{children:t.name}),(0,R.jsxs)("div",{className:"flex gap-2",children:[(0,R.jsx)(Ek,{onClick:function(e){return r(e,t)},className:"text-lime-500"}),(0,R.jsx)(_k,{onClick:function(e){return i(e,t)},className:"text-red-500"})]})]},n)}function xb(e){var t=e.item,n=e.index,r=e.handleRequest;return(0,R.jsxs)("div",{className:"item-list",children:[(0,R.jsx)("div",{children:t.name}),(0,R.jsx)("div",{className:"flex gap-2",children:(0,R.jsx)(_k,{onClick:function(e){return r(e,t)},className:"text-red-500"})})]},n)}function Sb(e){var t=e.item,n=e.index,r=e.handleRestore;return(0,R.jsxs)("div",{className:"item-list",children:[(0,R.jsx)("div",{children:t.name}),(0,R.jsx)("div",{className:"flex gap-2",children:(0,R.jsx)(_k,{onClick:function(e){return r(e,t)},className:"text-blue-500"})})]},n)}function Eb(t){var n=t.user,r=t.setToast,a=t.setMenuSelected,s=t.setPrevPage,u=d((0,e.useState)([]),2),c=u[0],l=u[1],f=d((0,e.useState)([]),2),h=f[0],p=f[1],v=d((0,e.useState)([]),2),m=v[0],g=v[1],y=d((0,e.useState)([]),2),k=y[0],b=y[1],w=d((0,e.useState)([]),2),x=w[0],S=w[1],E=d((0,e.useState)([]),2),_=E[0],T=E[1],I=d((0,e.useState)([]),2),C=I[0],N=I[1],A=d((0,e.useState)(!1),2),j=A[0],O=A[1],L="Users",P=function(){var e=o(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=c.find((function(e){return e.id===n.uid})))&&(S(t.applicantsList||[]),T(t.blockList||[]),b(t.friendsList||[]),N(t.requestList||[]),r=c.filter((function(e){return e.id!==n.uid&&!t.applicantsList.some((function(t){return t.uid===e.id}))&&!t.blockList.some((function(t){return t.uid===e.id}))&&!t.friendsList.some((function(t){return t.uid===e.id}))&&!t.requestList.some((function(t){return t.uid===e.id}))})),p(r));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){P()}),[c,x,_,k,C]),(0,e.useEffect)((function(){var e=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kk(l,L);case 3:return e.sent,e.next=6,P();case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),r({isOn:!0,type:"error",title:"Erro",message:e.t0.message}),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[j]);var D,M=function(){var e=o(i().mark((function e(t,n,a){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.find((function(e){return e.id===n.uid})).name,e.prev=1,e.next=4,lk(yy(yk,L,n.uid),{requestList:pk({name:a.name,uid:a.id})});case 4:return e.next=6,lk(yy(yk,L,a.id),{applicantsList:pk({name:o,uid:n.uid})});case 6:N([].concat(ee(C),[a])),p(h.filter((function(e){return e.name!==a.name}))),r({isOn:!0,type:"success",title:"Sucesso",message:"Solicita\xe7\xe3o enviada"}),O(!j),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),r({isOn:!0,type:"error",title:"Erro",message:e.t0.message}),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n,r){return e.apply(this,arguments)}}(),F=function(){var e=o(i().mark((function e(t,a){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.find((function(e){return e.id===n.uid})).name,e.prev=1,e.next=4,lk(yy(yk,L,n.uid),{applicantsList:vk({name:a.name,uid:a.uid}),friendsList:pk({name:a.name,uid:a.uid})});case 4:return e.next=6,lk(yy(yk,L,a.uid),{requestList:vk({name:o,uid:n.uid}),friendsList:pk({name:o,uid:n.uid})});case 6:b([].concat(ee(k),[a])),S(x.filter((function(e){return e.name!==a.name}))),r({isOn:!0,type:"success",title:"Parab\xe9ns",message:"Agora voc\xea e ".concat(a.name," s\xe3o amigos")}),O(!j),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),r({isOn:!0,type:"error",title:"Erro",message:e.t0.message}),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=o(i().mark((function e(t,a){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lk(yy(yk,L,n.uid),{applicantsList:vk({name:a.name,uid:a.uid}),blockList:pk({name:a.name,uid:a.uid})});case 3:T([].concat(ee(_),[a])),S(x.filter((function(e){return e.name!==a.name}))),r({isOn:!0,type:"success",title:"Sucesso",message:"".concat(a.name," est\xe1 na lista de bloqueados")}),O(!j),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),r({isOn:!0,type:"error",title:"Erro",message:e.t0.message}),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=o(i().mark((function e(t,a){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.find((function(e){return e.id===n.uid})).name,e.prev=1,e.next=4,lk(yy(yk,L,n.uid),{friendsList:vk({name:a.name,uid:a.uid})});case 4:return e.next=6,lk(yy(yk,L,a.uid),{friendsList:vk({name:o,uid:n.uid})});case 6:l([].concat(ee(c),[a])),b(k.filter((function(e){return e.name!==a.name}))),r({isOn:!0,type:"success",title:"Sucesso",message:"Voc\xea n\xe3o \xe9 mais amigo de ".concat(a.name)}),O(!j),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),r({isOn:!0,type:"error",title:"Erro",message:e.t0.message}),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=o(i().mark((function e(t,a){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lk(yy(yk,L,n.uid),{blockList:vk({name:a.name,uid:a.uid})});case 3:l([].concat(ee(c),[a])),T(_.filter((function(e){return e.name!==a.name}))),r({isOn:!0,type:"success",title:"Sucesso",message:"".concat(a.name," pode lhe enviar solicia\xe7\xf5es")}),O(!j),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),r({isOn:!0,type:"error",title:"Erro",message:e.t0.message}),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=o(i().mark((function e(t,a){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lk(yy(yk,L,n.uid),{requestList:vk({name:a.name,uid:a.uid})});case 3:return e.next=5,lk(yy(yk,L,a.uid),{requestList:vk({name:a.name,uid:a.uid})});case 5:r({isOn:!0,type:"success",title:"Sucesso",message:"Solicita\xe7\xe3o cancelada"}),O(!j),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),r({isOn:!0,type:"error",title:"Erro",message:e.t0.message}),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();return D=n.uid?(0,R.jsxs)("div",{className:"w-full h-full text-violet-500",children:[(0,R.jsx)("div",{className:"title-text",children:"AMIGOS"}),(0,R.jsxs)("div",{className:"w-[95%] my-1 mx-auto flex justify-between sm:justify-end items-center gap-2",children:[(0,R.jsxs)("div",{className:"flex items-center sm:gap-2",children:[(0,R.jsx)("div",{className:"hide-text-when-small",children:"BUSCA"}),(0,R.jsx)(Ck,{className:"icon"})]}),(0,R.jsx)("input",{className:"inputs",placeholder:"Fulano",onChange:function(e){return function(e){return g(h.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())})))}(e)}})]}),(0,R.jsx)("div",{className:"separator"}),(0,R.jsxs)("div",{className:"list",children:[(0,R.jsx)("div",{className:"subtitle",children:"ADICIONE AOS AMIGOS"}),(0,R.jsx)("div",{className:"list-container",children:(0!==m.length?m:h).map((function(e,t){return e.id!==n.uid?(0,R.jsx)(kb,{user:n,item:e,index:t,handleAdd:M}):(0,R.jsx)(R.Fragment,{})}))})]}),0!==k.length&&void 0!==k[0]?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{className:"separator"}),(0,R.jsxs)("div",{className:"list",children:[(0,R.jsx)("div",{className:"subtitle",children:"SEUS AMIGOS"}),(0,R.jsx)("div",{className:"list-container",children:c.find((function(e){return e.id===n.uid})).friendsList.map((function(e,t){return(0,R.jsx)(bb,{item:e,index:t,handleDelete:V})}))})]})]}):(0,R.jsx)(R.Fragment,{}),0!==x.length&&void 0!==x[0]?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{className:"separator"}),(0,R.jsxs)("div",{className:"list",children:[(0,R.jsx)("div",{className:"subtitle",children:"SOLICITA\xc7\xd5ES DE AMIZADE"}),(0,R.jsx)("div",{className:"list-container",children:c.find((function(e){return e.id===n.uid})).applicantsList.map((function(e,t){return(0,R.jsx)(wb,{item:e,index:t,handleAccept:F,handleReject:U})}))})]})]}):(0,R.jsx)(R.Fragment,{}),0!==C.length&&void 0!==C[0]?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{className:"separator"}),(0,R.jsxs)("div",{className:"list",children:[(0,R.jsx)("div",{className:"subtitle",children:"AGUARDANDO"}),(0,R.jsx)("div",{className:"list-container",children:c.find((function(e){return e.id===n.uid})).requestList.map((function(e,t){return(0,R.jsx)(xb,{item:e,index:t,handleRequest:q})}))})]})]}):(0,R.jsx)(R.Fragment,{}),0!==_.length&&void 0!==_[0]?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{className:"separator"}),(0,R.jsxs)("div",{className:"list",children:[(0,R.jsx)("div",{className:"subtitle",children:"BLOQUEADOS"}),(0,R.jsx)("div",{className:"list-container",children:c.find((function(e){return e.id===n.uid})).blockList.map((function(e,t){return(0,R.jsx)(Sb,{item:e,index:t,handleRestore:z})}))})]})]}):(0,R.jsx)(R.Fragment,{}),(0,R.jsx)("div",{className:"separator"})]}):(0,R.jsxs)(R.Fragment,{children:[s("Amigos"),a("Login")]}),(0,R.jsx)(R.Fragment,{children:D})}function _b(){var t,n=d((0,e.useState)([!1]),2),r=n[0],i=n[1];return(0,e.useEffect)((function(){kk(i,"Applications")}),[]),(0,e.useEffect)((function(){document.title="DGF - Bem Vindo"}),[]),t=!1===r[0]?(0,R.jsxs)("div",{className:"flex justify-center gap-2",children:["Carregando aplica\xe7\xf5es ",(0,R.jsx)(nb,{})]}):0===r.length?(0,R.jsx)("div",{children:"Nenhuma aplica\xe7\xe3o encontrada"}):(0,R.jsx)(R.Fragment,{children:r.map((function(e,t){return(0,R.jsxs)("div",{className:"item-list",children:[(0,R.jsx)("div",{children:"".concat(e.acronym," (").concat(e.name,"):")}),(0,R.jsx)("div",{children:"".concat(e.description)})]},t)}))}),(0,R.jsx)("div",{className:"list",children:t})}function Tb(){var t,n=d((0,e.useState)([!1]),2),r=n[0],i=n[1];return(0,e.useEffect)((function(){kk(i,"Courses")}),[]),t=!1===r[0]?(0,R.jsxs)("div",{className:"flex justify-center gap-2",children:["Carregando cursos ",(0,R.jsx)(nb,{})]}):0===r.length?(0,R.jsx)("div",{children:"Nenhum curso encontrado"}):(0,R.jsx)(R.Fragment,{children:r.sort((function(e,t){return!(e.name<t.name)||-1})).map((function(e,t){return(0,R.jsx)("div",{className:"item-list",children:(0,R.jsx)("div",{children:"".concat(e.name," oferecido por ").concat(e.issuer)})},t)}))}),(0,R.jsx)("div",{className:"list",children:t})}function Ib(){return(0,R.jsx)("div",{className:"mx-auto my-2 bg-zinc-400 w-[98%] h-1 rounded-full"})}var Cb=function(e){G(n,e);var t=X(n);function n(){var e;Y(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={item:{name:"",company:"",price:"",quantity:1},itemsList:[]},e}return Z(n,[{key:"render",value:function(){return(0,R.jsxs)("div",{className:"w-full h-full text-zinc-200 px-1",children:[(0,R.jsx)("div",{className:"normal-text py-2",children:"Ol\xe1 galerinha, se voc\xea chegou at\xe9 aqui provavelmente est\xe1 buscando uma aplica\xe7\xe3o web que possa ajudar a facilitar o seu dia a dia ou est\xe1 curioso para saber mais sobre o que tenho aprontado. De toda forma, sinta-se a vontade e qualquer coisa \xe9 s\xf3 me chamar!!! Se voc\xea chegou aqui apenas por curiosidade, a listinha abaixo apresenta tudo que voc\xea pode encontrar neste site, e vale lembrar que somos uma Metamorfose Ambulante, ent\xe3o n\xe3o custa nada dar uma olhada, vai que tem novidade..."}),(0,R.jsx)(Ib,{}),(0,R.jsxs)("div",{className:"max-h-[300px] normal-text flex flex-col sm:flex-row justify-between",children:[(0,R.jsxs)("div",{className:"sm:w-[45%]",children:[(0,R.jsx)("div",{className:"normal-text",children:"APLICATIVOS"}),(0,R.jsx)("div",{className:"px-4  h-[90%] overflow-auto",children:(0,R.jsx)(_b,{})})]}),(0,R.jsx)("div",{className:"sm:w-[45%]",children:(0,R.jsx)("div",{className:"normal-text",children:"ESTAT\xcdSTICAS /comentar sobre as estat\xedsticas e pra que elas servem"})})]}),(0,R.jsx)(Ib,{}),(0,R.jsx)("div",{className:"normal-text",children:'H\xe1 um espa\xe7o onde voc\xeas tamb\xe9m podem saber mais sobre mim, \xe9 s\xf3 usar esse menu no canto superior esquerdo aqui do site e depois clicar em "About Me"'}),(0,R.jsx)("div",{className:"normal-text",children:"L\xe1 voc\xeas podem conhecer um pouco mais sobre a minha traget\xf3ria acad\xeamica, profissional. Mas tamb\xe9m, sobre coisas que eu gosto de fazer al\xe9m do que a vida exige."}),(0,R.jsxs)("div",{className:"max-h-[300px] normal-text flex flex-col sm:flex-row justify-between",children:[(0,R.jsxs)("div",{className:"sm:w-[45%]",children:[(0,R.jsx)("div",{className:"normal-text",children:"CURSOS"}),(0,R.jsx)("div",{className:"px-4 h-[90%] overflow-auto",children:(0,R.jsx)(Tb,{})})]}),(0,R.jsx)("div",{className:"sm:w-[50%]",children:(0,R.jsx)("div",{className:"normal-text",children:"HOBBIES"})})]})]})}}]),n}(e.Component);function Nb(t){var n=d((0,e.useState)(""),2),r=(n[0],n[1],d((0,e.useState)(""),2));r[0],r[1];var a=function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hk(gy(yk,"TESTE"),{name:"usu\xe1rio"});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=yy(yk,"TESTE","GWkyMRXHT0g2ZmHmCBhK"),e.next=4,hk(gy(n,"testinho"),{idade:"12",genero:"N"});case 4:console.log("feito"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return(0,R.jsxs)("div",{className:"w-full h-full flex flex-col gap-1",children:["Estat\xedsticas",(0,R.jsx)("input",{className:"inputs",placeholder:"nome"}),(0,R.jsx)("input",{className:"inputs",placeholder:"f\xf3rmula"}),(0,R.jsx)("button",{className:"buttons",onClick:function(e){return a(e)},children:"New DB"}),(0,R.jsx)("button",{className:"buttons",onClick:function(e){return s(e)},children:"New Data"})]})}function Ab(e){var t,n=e.user,r=e.setUser,i=e.menuSelected,a=e.setMenuSelected,o=e.prevPage,s=e.setPrevPage,u=e.remember,c=e.setRemember,l=e.setToast,f=e.handleEmail,h=e.handlePassword,d=e.handleLogin,p=e.handleNickname,v=e.handleRegister,m=e.handleLogout;return"In\xedcio"===i?t=(0,R.jsx)(Cb,{}):"Amigos"===i?t=(0,R.jsx)(Eb,{user:n,setToast:l,setMenuSelected:a,setPrevPage:s}):"Apps"===i?t=(0,R.jsx)(rb,{user:n}):"Estat\xedsticas"===i?t=(0,R.jsx)(Nb,{}):"Sobre Mim"===i?t=(0,R.jsx)(Pk,{}):"DEV Area"===i?t=(0,R.jsx)(yb,{}):"Login"===i?t=(0,R.jsx)(U,{user:n,setUser:r,prevPage:o,setMenuSelected:a,remember:u,setRemember:c,handleEmail:f,handleLogin:d,handleNickname:p,handlePassword:h,handleRegister:v}):"Signup"===i?t=(0,R.jsx)(V,{user:n,prevPage:o,handleNickname:p,handleEmail:f,handlePassword:h,handleRegister:v}):"Logout"===i&&(t=(0,R.jsx)(z,{handleLogout:m,setMenuSelected:a})),(0,R.jsx)(R.Fragment,{children:t})}function jb(){var t=d((0,e.useState)(!1),2),n=t[0],r=t[1],a=d((0,e.useState)({name:"",uid:"",email:"",password:"",logged:!1,friendsList:[],applicantsList:[],blockList:[],requestList:[]}),2),s=a[0],u=a[1],c=d((0,e.useState)("In\xedcio"),2),f=c[0],h=c[1],p=d((0,e.useState)(["In\xedcio","Amigos","Apps","Estat\xedsticas","Sobre Mim","DEV Area"]),2),v=p[0],m=(p[1],d((0,e.useState)(""),2)),g=m[0],y=m[1],k=d((0,e.useState)({isOn:!1,type:"",title:"",message:""}),2),b=k[0],w=k[1],x=d((0,e.useState)({isOn:!1,content:""}),2),S=x[0],E=x[1],_=d((0,e.useState)(!1),2),T=_[0],I=_[1],C=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u(l(l({},s),{},t?{name:""}:{name:e.currentTarget.value}))},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u(l(l({},s),{},t?{email:""}:{email:e.currentTarget.value}))},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u(l(l({},s),{},t?{password:""}:{password:e.currentTarget.value}))},j=function(){var e=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(t),e.prev=1,e.next=4,hi(gk,s.email,s.password);case 4:u(l(l({},s),{},{uid:gk.currentUser.uid,logged:!0})),E({isOn:!1,content:void 0}),T?(localStorage.setItem("email",s.email),localStorage.setItem("password",s.password)):(localStorage.removeItem("email"),localStorage.removeItem("password")),w({isOn:!0,type:"success",title:"tudo certo",message:"Voc\xea est\xe1 conectado!"}),h(n||"In\xedcio"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),w({isOn:!0,type:"error",title:"erro",message:Sk[e.t0.message]});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=o(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(t),e.prev=1,e.next=4,li(gk,s.email,s.password);case 4:return r=yy(yk,"Users",gk.currentUser.uid),e.next=7,ck(r,{name:s.name,friendsList:[],applicantsList:[],blockList:[],requestList:[]});case 7:C(t,!0),N(t,!0),A(t,!0),w({isOn:!0,type:"success",title:"tudo certo",message:"Cadastro realizado com sucesso!"}),j(t,n),h(n),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),w({isOn:!0,type:"error",title:"erro",message:Sk[e.t0.message]});case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,n){return e.apply(this,arguments)}}(),L=function(e){w(l(l({},b),{},{inOn:!0})),setTimeout((function(){w((function(e){return l(l({},b),{},{isOn:!e.toast})}))}),2500)},P=function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,di(gk);case 3:u({name:"",uid:"",email:"",password:"",logged:!1,friendsList:[],applicantsList:[],blockList:[],requestList:[]}),E({isOn:!1,content:void 0}),w({isOn:!0,type:"success",title:"tudo certo",message:"Voc\xea se desconectou!"}),h("In\xedcio"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),w({isOn:!0,type:"error",title:"erro",message:Sk[e.t0.message]});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return b&&setTimeout((function(){w(!1)}),3e3),(0,R.jsxs)("div",{className:"bg-scroll bg-gradient-to-b from-zinc-900 to-zinc-700 h-screen",children:[(0,R.jsx)(Nk,{toast:b}),(0,R.jsx)(M,{menuMode:n,menuSelected:f,menuItems:v,setMenuMode:r,handleEmail:N,handleNickname:C,handleMenu:function(e){return r(!n)},setMenuSelected:h,user:s,modal:S,validadeEmail:F}),(0,R.jsx)(q,{user:s,handleEmail:N,handleLogin:j,handleLogout:P,handleNickname:C,handlePassword:A,handleRegister:O,modal:S,handleModal:function(e){return e.currentTarget.hasAttribute("name")?E({isOn:!0,content:e.currentTarget.name}):E({isOn:!1,content:void 0})}}),(0,R.jsx)("div",{className:"h-full pt-8 overflow-auto",children:(0,R.jsx)(Ab,{user:s,setUser:u,menuSelected:f,setMenuSelected:h,prevPage:g,setPrevPage:y,remember:T,setRemember:I,setToast:w,handleEmail:N,handleLogin:j,handleNickname:C,handlePassword:A,handleRegister:O,handleLogout:P})})]})}function Rb(){return(0,R.jsx)(jb,{})}t.createRoot(document.getElementById("root")).render((0,R.jsx)(e.StrictMode,{children:(0,R.jsx)(Rb,{})}))}()}();
//# sourceMappingURL=main.f24ef399.js.map